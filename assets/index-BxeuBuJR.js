(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))C(A);new MutationObserver(A=>{for(const _ of A)if(_.type==="childList")for(const p of _.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&C(p)}).observe(document,{childList:!0,subtree:!0});function B(A){const _={};return A.integrity&&(_.integrity=A.integrity),A.referrerPolicy&&(_.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?_.credentials="include":A.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function C(A){if(A.ep)return;A.ep=!0;const _=B(A);fetch(A.href,_)}})();var R1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kh(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var vh={exports:{}},$c={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function o5(){if(j1)return $c;j1=1;var c=Symbol.for("react.transitional.element"),d=Symbol.for("react.fragment");function B(C,A,_){var p=null;if(_!==void 0&&(p=""+_),A.key!==void 0&&(p=""+A.key),"key"in A){_={};for(var m in A)m!=="key"&&(_[m]=A[m])}else _=A;return A=_.ref,{$$typeof:c,type:C,key:p,ref:A!==void 0?A:null,props:_}}return $c.Fragment=d,$c.jsx=B,$c.jsxs=B,$c}var U1;function c5(){return U1||(U1=1,vh.exports=o5()),vh.exports}var b=c5(),ph={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1;function f5(){if(G1)return ae;G1=1;var c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),M=Symbol.iterator;function T(R){return R===null||typeof R!="object"?null:(R=M&&R[M]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,z={};function H(R,X,nt){this.props=R,this.context=X,this.refs=z,this.updater=nt||S}H.prototype.isReactComponent={},H.prototype.setState=function(R,X){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,X,"setState")},H.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function V(){}V.prototype=H.prototype;function N(R,X,nt){this.props=R,this.context=X,this.refs=z,this.updater=nt||S}var h=N.prototype=new V;h.constructor=N,v(h,H.prototype),h.isPureReactComponent=!0;var U=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function W(R,X,nt,P,ft,pt){return nt=pt.ref,{$$typeof:c,type:R,key:X,ref:nt!==void 0?nt:null,props:pt}}function D(R,X){return W(R.type,X,void 0,void 0,void 0,R.props)}function q(R){return typeof R=="object"&&R!==null&&R.$$typeof===c}function w(R){var X={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(nt){return X[nt]})}var Q=/\/+/g;function F(R,X){return typeof R=="object"&&R!==null&&R.key!=null?w(""+R.key):X.toString(36)}function $(){}function st(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then($,$):(R.status="pending",R.then(function(X){R.status==="pending"&&(R.status="fulfilled",R.value=X)},function(X){R.status==="pending"&&(R.status="rejected",R.reason=X)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function at(R,X,nt,P,ft){var pt=typeof R;(pt==="undefined"||pt==="boolean")&&(R=null);var it=!1;if(R===null)it=!0;else switch(pt){case"bigint":case"string":case"number":it=!0;break;case"object":switch(R.$$typeof){case c:case d:it=!0;break;case E:return it=R._init,at(it(R._payload),X,nt,P,ft)}}if(it)return ft=ft(R),it=P===""?"."+F(R,0):P,U(ft)?(nt="",it!=null&&(nt=it.replace(Q,"$&/")+"/"),at(ft,X,nt,"",function(Nt){return Nt})):ft!=null&&(q(ft)&&(ft=D(ft,nt+(ft.key==null||R&&R.key===ft.key?"":(""+ft.key).replace(Q,"$&/")+"/")+it)),X.push(ft)),1;it=0;var J=P===""?".":P+":";if(U(R))for(var rt=0;rt<R.length;rt++)P=R[rt],pt=J+F(P,rt),it+=at(P,X,nt,pt,ft);else if(rt=T(R),typeof rt=="function")for(R=rt.call(R),rt=0;!(P=R.next()).done;)P=P.value,pt=J+F(P,rt++),it+=at(P,X,nt,pt,ft);else if(pt==="object"){if(typeof R.then=="function")return at(st(R),X,nt,P,ft);throw X=String(R),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return it}function tt(R,X,nt){if(R==null)return R;var P=[],ft=0;return at(R,P,"","",function(pt){return X.call(nt,pt,ft++)}),P}function O(R){if(R._status===-1){var X=R._result;X=X(),X.then(function(nt){(R._status===0||R._status===-1)&&(R._status=1,R._result=nt)},function(nt){(R._status===0||R._status===-1)&&(R._status=2,R._result=nt)}),R._status===-1&&(R._status=0,R._result=X)}if(R._status===1)return R._result.default;throw R._result}var L=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function Z(){}return ae.Children={map:tt,forEach:function(R,X,nt){tt(R,function(){X.apply(this,arguments)},nt)},count:function(R){var X=0;return tt(R,function(){X++}),X},toArray:function(R){return tt(R,function(X){return X})||[]},only:function(R){if(!q(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},ae.Component=H,ae.Fragment=B,ae.Profiler=A,ae.PureComponent=N,ae.StrictMode=C,ae.Suspense=x,ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,ae.__COMPILER_RUNTIME={__proto__:null,c:function(R){return G.H.useMemoCache(R)}},ae.cache=function(R){return function(){return R.apply(null,arguments)}},ae.cloneElement=function(R,X,nt){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var P=v({},R.props),ft=R.key,pt=void 0;if(X!=null)for(it in X.ref!==void 0&&(pt=void 0),X.key!==void 0&&(ft=""+X.key),X)!Y.call(X,it)||it==="key"||it==="__self"||it==="__source"||it==="ref"&&X.ref===void 0||(P[it]=X[it]);var it=arguments.length-2;if(it===1)P.children=nt;else if(1<it){for(var J=Array(it),rt=0;rt<it;rt++)J[rt]=arguments[rt+2];P.children=J}return W(R.type,ft,void 0,void 0,pt,P)},ae.createContext=function(R){return R={$$typeof:p,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:_,_context:R},R},ae.createElement=function(R,X,nt){var P,ft={},pt=null;if(X!=null)for(P in X.key!==void 0&&(pt=""+X.key),X)Y.call(X,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(ft[P]=X[P]);var it=arguments.length-2;if(it===1)ft.children=nt;else if(1<it){for(var J=Array(it),rt=0;rt<it;rt++)J[rt]=arguments[rt+2];ft.children=J}if(R&&R.defaultProps)for(P in it=R.defaultProps,it)ft[P]===void 0&&(ft[P]=it[P]);return W(R,pt,void 0,void 0,null,ft)},ae.createRef=function(){return{current:null}},ae.forwardRef=function(R){return{$$typeof:m,render:R}},ae.isValidElement=q,ae.lazy=function(R){return{$$typeof:E,_payload:{_status:-1,_result:R},_init:O}},ae.memo=function(R,X){return{$$typeof:y,type:R,compare:X===void 0?null:X}},ae.startTransition=function(R){var X=G.T,nt={};G.T=nt;try{var P=R(),ft=G.S;ft!==null&&ft(nt,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(Z,L)}catch(pt){L(pt)}finally{G.T=X}},ae.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},ae.use=function(R){return G.H.use(R)},ae.useActionState=function(R,X,nt){return G.H.useActionState(R,X,nt)},ae.useCallback=function(R,X){return G.H.useCallback(R,X)},ae.useContext=function(R){return G.H.useContext(R)},ae.useDebugValue=function(){},ae.useDeferredValue=function(R,X){return G.H.useDeferredValue(R,X)},ae.useEffect=function(R,X,nt){var P=G.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return P.useEffect(R,X)},ae.useId=function(){return G.H.useId()},ae.useImperativeHandle=function(R,X,nt){return G.H.useImperativeHandle(R,X,nt)},ae.useInsertionEffect=function(R,X){return G.H.useInsertionEffect(R,X)},ae.useLayoutEffect=function(R,X){return G.H.useLayoutEffect(R,X)},ae.useMemo=function(R,X){return G.H.useMemo(R,X)},ae.useOptimistic=function(R,X){return G.H.useOptimistic(R,X)},ae.useReducer=function(R,X,nt){return G.H.useReducer(R,X,nt)},ae.useRef=function(R){return G.H.useRef(R)},ae.useState=function(R){return G.H.useState(R)},ae.useSyncExternalStore=function(R,X,nt){return G.H.useSyncExternalStore(R,X,nt)},ae.useTransition=function(){return G.H.useTransition()},ae.version="19.1.1",ae}var H1;function Od(){return H1||(H1=1,ph.exports=f5()),ph.exports}var _t=Od();const ke=kh(_t);var bh={exports:{}},t0={},xh={exports:{}},Sh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function d5(){return B1||(B1=1,(function(c){function d(tt,O){var L=tt.length;tt.push(O);t:for(;0<L;){var Z=L-1>>>1,R=tt[Z];if(0<A(R,O))tt[Z]=O,tt[L]=R,L=Z;else break t}}function B(tt){return tt.length===0?null:tt[0]}function C(tt){if(tt.length===0)return null;var O=tt[0],L=tt.pop();if(L!==O){tt[0]=L;t:for(var Z=0,R=tt.length,X=R>>>1;Z<X;){var nt=2*(Z+1)-1,P=tt[nt],ft=nt+1,pt=tt[ft];if(0>A(P,L))ft<R&&0>A(pt,P)?(tt[Z]=pt,tt[ft]=L,Z=ft):(tt[Z]=P,tt[nt]=L,Z=nt);else if(ft<R&&0>A(pt,L))tt[Z]=pt,tt[ft]=L,Z=ft;else break t}}return O}function A(tt,O){var L=tt.sortIndex-O.sortIndex;return L!==0?L:tt.id-O.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var _=performance;c.unstable_now=function(){return _.now()}}else{var p=Date,m=p.now();c.unstable_now=function(){return p.now()-m}}var x=[],y=[],E=1,M=null,T=3,S=!1,v=!1,z=!1,H=!1,V=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;function U(tt){for(var O=B(y);O!==null;){if(O.callback===null)C(y);else if(O.startTime<=tt)C(y),O.sortIndex=O.expirationTime,d(x,O);else break;O=B(y)}}function G(tt){if(z=!1,U(tt),!v)if(B(x)!==null)v=!0,Y||(Y=!0,F());else{var O=B(y);O!==null&&at(G,O.startTime-tt)}}var Y=!1,W=-1,D=5,q=-1;function w(){return H?!0:!(c.unstable_now()-q<D)}function Q(){if(H=!1,Y){var tt=c.unstable_now();q=tt;var O=!0;try{t:{v=!1,z&&(z=!1,N(W),W=-1),S=!0;var L=T;try{e:{for(U(tt),M=B(x);M!==null&&!(M.expirationTime>tt&&w());){var Z=M.callback;if(typeof Z=="function"){M.callback=null,T=M.priorityLevel;var R=Z(M.expirationTime<=tt);if(tt=c.unstable_now(),typeof R=="function"){M.callback=R,U(tt),O=!0;break e}M===B(x)&&C(x),U(tt)}else C(x);M=B(x)}if(M!==null)O=!0;else{var X=B(y);X!==null&&at(G,X.startTime-tt),O=!1}}break t}finally{M=null,T=L,S=!1}O=void 0}}finally{O?F():Y=!1}}}var F;if(typeof h=="function")F=function(){h(Q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,st=$.port2;$.port1.onmessage=Q,F=function(){st.postMessage(null)}}else F=function(){V(Q,0)};function at(tt,O){W=V(function(){tt(c.unstable_now())},O)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(tt){tt.callback=null},c.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<tt?Math.floor(1e3/tt):5},c.unstable_getCurrentPriorityLevel=function(){return T},c.unstable_next=function(tt){switch(T){case 1:case 2:case 3:var O=3;break;default:O=T}var L=T;T=O;try{return tt()}finally{T=L}},c.unstable_requestPaint=function(){H=!0},c.unstable_runWithPriority=function(tt,O){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var L=T;T=tt;try{return O()}finally{T=L}},c.unstable_scheduleCallback=function(tt,O,L){var Z=c.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Z+L:Z):L=Z,tt){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=L+R,tt={id:E++,callback:O,priorityLevel:tt,startTime:L,expirationTime:R,sortIndex:-1},L>Z?(tt.sortIndex=L,d(y,tt),B(x)===null&&tt===B(y)&&(z?(N(W),W=-1):z=!0,at(G,L-Z))):(tt.sortIndex=R,d(x,tt),v||S||(v=!0,Y||(Y=!0,F()))),tt},c.unstable_shouldYield=w,c.unstable_wrapCallback=function(tt){var O=T;return function(){var L=T;T=O;try{return tt.apply(this,arguments)}finally{T=L}}}})(Sh)),Sh}var w1;function Xh(){return w1||(w1=1,xh.exports=d5()),xh.exports}var _h={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1;function h5(){if(q1)return cn;q1=1;var c=Od();function d(x){var y="https://react.dev/errors/"+x;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+x+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function B(){}var C={d:{f:B,r:function(){throw Error(d(522))},D:B,C:B,L:B,m:B,X:B,S:B,M:B},p:0,findDOMNode:null},A=Symbol.for("react.portal");function _(x,y,E){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:M==null?null:""+M,children:x,containerInfo:y,implementation:E}}var p=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,y){if(x==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,cn.createPortal=function(x,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(d(299));return _(x,y,null,E)},cn.flushSync=function(x){var y=p.T,E=C.p;try{if(p.T=null,C.p=2,x)return x()}finally{p.T=y,C.p=E,C.d.f()}},cn.preconnect=function(x,y){typeof x=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,C.d.C(x,y))},cn.prefetchDNS=function(x){typeof x=="string"&&C.d.D(x)},cn.preinit=function(x,y){if(typeof x=="string"&&y&&typeof y.as=="string"){var E=y.as,M=m(E,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,S=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?C.d.S(x,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:M,integrity:T,fetchPriority:S}):E==="script"&&C.d.X(x,{crossOrigin:M,integrity:T,fetchPriority:S,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},cn.preinitModule=function(x,y){if(typeof x=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);C.d.M(x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&C.d.M(x)},cn.preload=function(x,y){if(typeof x=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,M=m(E,y.crossOrigin);C.d.L(x,E,{crossOrigin:M,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},cn.preloadModule=function(x,y){if(typeof x=="string")if(y){var E=m(y.as,y.crossOrigin);C.d.m(x,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else C.d.m(x)},cn.requestFormReset=function(x){C.d.r(x)},cn.unstable_batchedUpdates=function(x,y){return x(y)},cn.useFormState=function(x,y,E){return p.H.useFormState(x,y,E)},cn.useFormStatus=function(){return p.H.useHostTransitionStatus()},cn.version="19.1.1",cn}var L1;function ug(){if(L1)return _h.exports;L1=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(d){console.error(d)}}return c(),_h.exports=h5(),_h.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function g5(){if(V1)return t0;V1=1;var c=Xh(),d=Od(),B=ug();function C(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)e+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _(t){var e=t,l=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(l=e.return),t=e.return;while(t)}return e.tag===3?l:null}function p(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function m(t){if(_(t)!==t)throw Error(C(188))}function x(t){var e=t.alternate;if(!e){if(e=_(t),e===null)throw Error(C(188));return e!==t?null:t}for(var l=t,i=e;;){var r=l.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){l=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===l)return m(r),t;if(o===i)return m(r),e;o=o.sibling}throw Error(C(188))}if(l.return!==i.return)l=r,i=o;else{for(var j=!1,k=r.child;k;){if(k===l){j=!0,l=r,i=o;break}if(k===i){j=!0,i=r,l=o;break}k=k.sibling}if(!j){for(k=o.child;k;){if(k===l){j=!0,l=o,i=r;break}if(k===i){j=!0,i=o,l=r;break}k=k.sibling}if(!j)throw Error(C(189))}}if(l.alternate!==i)throw Error(C(190))}if(l.tag!==3)throw Error(C(188));return l.stateNode.current===l?t:e}function y(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=y(t),e!==null)return e;t=t.sibling}return null}var E=Object.assign,M=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),h=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function F(t){return t===null||typeof t!="object"?null:(t=Q&&t[Q]||t["@@iterator"],typeof t=="function"?t:null)}var $=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===$?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case v:return"Fragment";case H:return"Profiler";case z:return"StrictMode";case G:return"Suspense";case Y:return"SuspenseList";case q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case h:return(t.displayName||"Context")+".Provider";case N:return(t._context.displayName||"Context")+".Consumer";case U:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return e=t.displayName||null,e!==null?e:st(t.type)||"Memo";case D:e=t._payload,t=t._init;try{return st(t(e))}catch{}}return null}var at=Array.isArray,tt=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=B.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},Z=[],R=-1;function X(t){return{current:t}}function nt(t){0>R||(t.current=Z[R],Z[R]=null,R--)}function P(t,e){R++,Z[R]=t.current,t.current=e}var ft=X(null),pt=X(null),it=X(null),J=X(null);function rt(t,e){switch(P(it,e),P(pt,t),P(ft,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?s1(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=s1(e),t=r1(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ft),P(ft,t)}function Nt(){nt(ft),nt(pt),nt(it)}function At(t){t.memoizedState!==null&&P(J,t);var e=ft.current,l=r1(e,t.type);e!==l&&(P(pt,t),P(ft,l))}function zt(t){pt.current===t&&(nt(ft),nt(pt)),J.current===t&&(nt(J),Fc._currentValue=L)}var Bt=Object.prototype.hasOwnProperty,qt=c.unstable_scheduleCallback,Rt=c.unstable_cancelCallback,jt=c.unstable_shouldYield,se=c.unstable_requestPaint,Vt=c.unstable_now,Ce=c.unstable_getCurrentPriorityLevel,ya=c.unstable_ImmediatePriority,Qe=c.unstable_UserBlockingPriority,va=c.unstable_NormalPriority,Ft=c.unstable_LowPriority,ua=c.unstable_IdlePriority,Ta=c.log,qa=c.unstable_setDisableYieldValue,He=null,me=null;function De(t){if(typeof Ta=="function"&&qa(t),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(He,t)}catch{}}var Re=Math.clz32?Math.clz32:Qn,oa=Math.log,ca=Math.LN2;function Qn(t){return t>>>=0,t===0?32:31-(oa(t)/ca|0)|0}var Zn=256,_n=4194304;function La(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zl(t,e,l){var i=t.pendingLanes;if(i===0)return 0;var r=0,o=t.suspendedLanes,j=t.pingedLanes;t=t.warmLanes;var k=i&134217727;return k!==0?(i=k&~o,i!==0?r=La(i):(j&=k,j!==0?r=La(j):l||(l=k&~t,l!==0&&(r=La(l))))):(k=i&~o,k!==0?r=La(k):j!==0?r=La(j):l||(l=i&~t,l!==0&&(r=La(l)))),r===0?0:e!==0&&e!==r&&(e&o)===0&&(o=r&-r,l=e&-e,o>=l||o===32&&(l&4194048)!==0)?e:r}function Fl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Ao(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ys(){var t=Zn;return Zn<<=1,(Zn&4194048)===0&&(Zn=256),t}function Jl(){var t=_n;return _n<<=1,(_n&62914560)===0&&(_n=4194304),t}function Pl(t){for(var e=[],l=0;31>l;l++)e.push(t);return e}function Mt(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ta(t,e,l,i,r,o){var j=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var k=t.entanglements,I=t.expirationTimes,ht=t.hiddenUpdates;for(l=j&~l;0<l;){var bt=31-Re(l),St=1<<bt;k[bt]=0,I[bt]=-1;var mt=ht[bt];if(mt!==null)for(ht[bt]=null,bt=0;bt<mt.length;bt++){var yt=mt[bt];yt!==null&&(yt.lane&=-536870913)}l&=~St}i!==0&&Gn(t,i,0),o!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=o&~(j&~e))}function Gn(t,e,l){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Re(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|l&4194090}function Ia(t,e){var l=t.entangledLanes|=e;for(t=t.entanglements;l;){var i=31-Re(l),r=1<<i;r&e|t[i]&e&&(t[i]|=e),l&=~r}}function cu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fr(){var t=O.p;return t!==0?t:(t=window.event,t===void 0?32:T1(t.type))}function du(t,e){var l=O.p;try{return O.p=t,e()}finally{O.p=l}}var Fn=Math.random().toString(36).slice(2),We="__reactFiber$"+Fn,Va="__reactProps$"+Fn,xl="__reactContainer$"+Fn,dr="__reactEvents$"+Fn,Mo="__reactListeners$"+Fn,Wl="__reactHandles$"+Fn,Sl="__reactResources$"+Fn,_l="__reactMarker$"+Fn;function hr(t){delete t[We],delete t[Va],delete t[dr],delete t[Mo],delete t[Wl]}function Jn(t){var e=t[We];if(e)return e;for(var l=t.parentNode;l;){if(e=l[xl]||l[We]){if(l=e.alternate,e.child!==null||l!==null&&l.child!==null)for(t=f1(t);t!==null;){if(l=t[We])return l;t=f1(t)}return e}t=l,l=t.parentNode}return null}function Pn(t){if(t=t[We]||t[xl]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function vs(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(C(33))}function Ui(t){var e=t[Sl];return e||(e=t[Sl]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function fa(t){t[_l]=!0}var hu=new Set,gu={};function je(t,e){Il(t,e),Il(t+"Capture",e)}function Il(t,e){for(gu[t]=e,t=0;t<e.length;t++)hu.add(e[t])}var Oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Do={};function Ud(t){return Bt.call(Do,t)?!0:Bt.call(zo,t)?!1:Oo.test(t)?Do[t]=!0:(zo[t]=!0,!1)}function ps(t,e,l){if(Ud(e))if(l===null)t.removeAttribute(e);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+l)}}function bs(t,e,l){if(l===null)t.removeAttribute(e);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+l)}}function Hn(t,e,l,i){if(i===null)t.removeAttribute(l);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(e,l,""+i)}}var Aa,Ie;function $l(t){if(Aa===void 0)try{throw Error()}catch(l){var e=l.stack.trim().match(/\n( *(at )?)/);Aa=e&&e[1]||"",Ie=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Aa+t+Ie}var Gi=!1;function xs(t,e){if(!t||Gi)return"";Gi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var St=function(){throw Error()};if(Object.defineProperty(St.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(St,[])}catch(yt){var mt=yt}Reflect.construct(t,[],St)}else{try{St.call()}catch(yt){mt=yt}t.call(St.prototype)}}else{try{throw Error()}catch(yt){mt=yt}(St=t())&&typeof St.catch=="function"&&St.catch(function(){})}}catch(yt){if(yt&&mt&&typeof yt.stack=="string")return[yt.stack,mt.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),j=o[0],k=o[1];if(j&&k){var I=j.split(`
`),ht=k.split(`
`);for(r=i=0;i<I.length&&!I[i].includes("DetermineComponentFrameRoot");)i++;for(;r<ht.length&&!ht[r].includes("DetermineComponentFrameRoot");)r++;if(i===I.length||r===ht.length)for(i=I.length-1,r=ht.length-1;1<=i&&0<=r&&I[i]!==ht[r];)r--;for(;1<=i&&0<=r;i--,r--)if(I[i]!==ht[r]){if(i!==1||r!==1)do if(i--,r--,0>r||I[i]!==ht[r]){var bt=`
`+I[i].replace(" at new "," at ");return t.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",t.displayName)),bt}while(1<=i&&0<=r);break}}}finally{Gi=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?$l(l):""}function Ro(t){switch(t.tag){case 26:case 27:case 5:return $l(t.type);case 16:return $l("Lazy");case 13:return $l("Suspense");case 19:return $l("SuspenseList");case 0:case 15:return xs(t.type,!1);case 11:return xs(t.type.render,!1);case 1:return xs(t.type,!0);case 31:return $l("Activity");default:return""}}function Wn(t){try{var e="";do e+=Ro(t),t=t.return;while(t);return e}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ya(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jo(t){var e=mu(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var r=l.get,o=l.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(j){i=""+j,o.call(this,j)}}),Object.defineProperty(t,e,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(j){i=""+j},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gr(t){t._valueTracker||(t._valueTracker=jo(t))}function Uo(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var l=e.getValue(),i="";return t&&(i=mu(t)?t.checked?"true":"false":t.value),t=i,t!==l?(e.setValue(t),!0):!1}function mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var K0=/[\n"\\]/g;function fn(t){return t.replace(K0,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yu(t,e,l,i,r,o,j,k){t.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?t.type=j:t.removeAttribute("type"),e!=null?j==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ya(e)):t.value!==""+Ya(e)&&(t.value=""+Ya(e)):j!=="submit"&&j!=="reset"||t.removeAttribute("value"),e!=null?pu(t,j,Ya(e)):l!=null?pu(t,j,Ya(l)):i!=null&&t.removeAttribute("value"),r==null&&o!=null&&(t.defaultChecked=!!o),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?t.name=""+Ya(k):t.removeAttribute("name")}function vu(t,e,l,i,r,o,j,k){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.type=o),e!=null||l!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;l=l!=null?""+Ya(l):"",e=e!=null?""+Ya(e):l,k||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=k?t.checked:!!i,t.defaultChecked=!!i,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(t.name=j)}function pu(t,e,l){e==="number"&&mr(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Ss(t,e,l,i){if(t=t.options,e){e={};for(var r=0;r<l.length;r++)e["$"+l[r]]=!0;for(l=0;l<t.length;l++)r=e.hasOwnProperty("$"+t[l].value),t[l].selected!==r&&(t[l].selected=r),r&&i&&(t[l].defaultSelected=!0)}else{for(l=""+Ya(l),e=null,r=0;r<t.length;r++){if(t[r].value===l){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Go(t,e,l){if(e!=null&&(e=""+Ya(e),e!==t.value&&(t.value=e),l==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=l!=null?""+Ya(l):""}function Ho(t,e,l,i){if(e==null){if(i!=null){if(l!=null)throw Error(C(92));if(at(i)){if(1<i.length)throw Error(C(93));i=i[0]}l=i}l==null&&(l=""),e=l}l=Ya(e),t.defaultValue=l,i=t.textContent,i===l&&i!==""&&i!==null&&(t.value=i)}function Hi(t,e){if(e){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=e;return}}t.textContent=e}var Bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(t,e,l){var i=e.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,l):typeof l!="number"||l===0||Bo.has(e)?e==="float"?t.cssFloat=l:t[e]=(""+l).trim():t[e]=l+"px"}function qo(t,e,l){if(e!=null&&typeof e!="object")throw Error(C(62));if(t=t.style,l!=null){for(var i in l)!l.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&l[r]!==i&&wo(t,r,i)}else for(var o in e)e.hasOwnProperty(o)&&wo(t,o,e[o])}function bu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Z0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xu(t){return Z0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Su=null;function ti(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var El=null,Bi=null;function yr(t){var e=Pn(t);if(e&&(t=e.stateNode)){var l=t[Va]||null;t:switch(t=e.stateNode,e.type){case"input":if(yu(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),e=l.name,l.type==="radio"&&e!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+fn(""+e)+'"][type="radio"]'),e=0;e<l.length;e++){var i=l[e];if(i!==t&&i.form===t.form){var r=i[Va]||null;if(!r)throw Error(C(90));yu(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<l.length;e++)i=l[e],i.form===t.form&&Uo(i)}break t;case"textarea":Go(t,l.value,l.defaultValue);break t;case"select":e=l.value,e!=null&&Ss(t,!!l.multiple,e,!1)}}}var wi=!1;function Lo(t,e,l){if(wi)return t(e,l);wi=!0;try{var i=t(e);return i}finally{if(wi=!1,(El!==null||Bi!==null)&&(Oi(),El&&(e=El,t=Bi,Bi=El=null,yr(e),t)))for(e=0;e<t.length;e++)yr(t[e])}}function _s(t,e){var l=t.stateNode;if(l===null)return null;var i=l[Va]||null;if(i===null)return null;l=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break t;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(C(231,e,typeof l));return l}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_u=!1;if(In)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){_u=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{_u=!1}var Nl=null,vr=null,pr=null;function Vo(){if(pr)return pr;var t,e=vr,l=e.length,i,r="value"in Nl?Nl.value:Nl.textContent,o=r.length;for(t=0;t<l&&e[t]===r[t];t++);var j=l-t;for(i=1;i<=j&&e[l-i]===r[o-i];i++);return pr=r.slice(t,1<i?1-i:void 0)}function Ns(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function br(){return!0}function Yo(){return!1}function ka(t){function e(l,i,r,o,j){this._reactName=l,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=j,this.currentTarget=null;for(var k in t)t.hasOwnProperty(k)&&(l=t[k],this[k]=l?l(o):o[k]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?br:Yo,this.isPropagationStopped=Yo,this}return E(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),e}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=ka(Cl),Cs=E({},Cl,{view:0,detail:0}),Gd=ka(Cs),ko,Eu,Tl,Ts=E({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tl&&(Tl&&t.type==="mousemove"?(ko=t.screenX-Tl.screenX,Eu=t.screenY-Tl.screenY):Eu=ko=0,Tl=t),ko)},movementY:function(t){return"movementY"in t?t.movementY:Eu}}),Sr=ka(Ts),F0=E({},Ts,{dataTransfer:0}),J0=ka(F0),Nu=E({},Cs,{relatedTarget:0}),qi=ka(Nu),Cu=E({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),P0=ka(Cu),W0=E({},Cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ei=ka(W0),I0=E({},Cl,{data:0}),Al=ka(I0),Ml={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Xo[t])?!!e[t]:!1}function Au(){return $0}var Li=E({},Cs,{key:function(t){if(t.key){var e=Ml[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(t){return t.type==="keypress"?Ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mu=ka(Li),tf=E({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ou=ka(tf),ef=E({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),af=ka(ef),Hd=E({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),_a=ka(Hd),nf=E({},Ts,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lf=ka(nf),sf=E({},Cl,{newState:0,oldState:0}),rf=ka(sf),uf=[9,13,27,32],As=In&&"CompositionEvent"in window,Vi=null;In&&"documentMode"in document&&(Vi=document.documentMode);var of=In&&"TextEvent"in window&&!Vi,Ko=In&&(!As||Vi&&8<Vi&&11>=Vi),Qo=" ",zu=!1;function Du(t,e){switch(t){case"keyup":return uf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ai=!1;function Ru(t,e){switch(t){case"compositionend":return Zo(e);case"keypress":return e.which!==32?null:(zu=!0,Qo);case"textInput":return t=e.data,t===Qo&&zu?null:t;default:return null}}function Fo(t,e){if(ai)return t==="compositionend"||!As&&Du(t,e)?(t=Vo(),pr=vr=Nl=null,ai=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ko&&e.locale!=="ko"?null:e.data;default:return null}}var cf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ju(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cf[t.type]:e==="textarea"}function Jo(t,e,l,i){El?Bi?Bi.push(i):Bi=[i]:El=i,e=rd(e,"onChange"),0<e.length&&(l=new xr("onChange","change",null,l,i),t.push({event:l,listeners:e}))}var dn=null,Yi=null;function Bd(t){e1(t,0)}function _r(t){var e=vs(t);if(Uo(e))return t}function $a(t,e){if(t==="change")return e}var Po=!1;if(In){var Er;if(In){var Uu="oninput"in document;if(!Uu){var Wo=document.createElement("div");Wo.setAttribute("oninput","return;"),Uu=typeof Wo.oninput=="function"}Er=Uu}else Er=!1;Po=Er&&(!document.documentMode||9<document.documentMode)}function Gu(){dn&&(dn.detachEvent("onpropertychange",Hu),Yi=dn=null)}function Hu(t){if(t.propertyName==="value"&&_r(Yi)){var e=[];Jo(e,Yi,t,ti(t)),Lo(Bd,e)}}function ff(t,e,l){t==="focusin"?(Gu(),dn=e,Yi=l,dn.attachEvent("onpropertychange",Hu)):t==="focusout"&&Gu()}function Bu(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _r(Yi)}function Nr(t,e){if(t==="click")return _r(e)}function Ze(t,e){if(t==="input"||t==="change")return _r(e)}function wd(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hn=typeof Object.is=="function"?Object.is:wd;function Ms(t,e){if(hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var l=Object.keys(t),i=Object.keys(e);if(l.length!==i.length)return!1;for(i=0;i<l.length;i++){var r=l[i];if(!Bt.call(e,r)||!hn(t[r],e[r]))return!1}return!0}function Os(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ol(t,e){var l=Os(t);t=0;for(var i;l;){if(l.nodeType===3){if(i=t+l.textContent.length,t<=e&&i>=e)return{node:l,offset:e-t};t=i}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Os(l)}}function Io(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Io(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $o(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=mr(t.document);e instanceof t.HTMLIFrameElement;){try{var l=typeof e.contentWindow.location.href=="string"}catch{l=!1}if(l)t=e.contentWindow;else break;e=mr(t.document)}return e}function ki(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var $n=In&&"documentMode"in document&&11>=document.documentMode,Xi=null,Cr=null,zs=null,Tr=!1;function wu(t,e,l){var i=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Tr||Xi==null||Xi!==mr(i)||(i=Xi,"selectionStart"in i&&ki(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),zs&&Ms(zs,i)||(zs=i,i=rd(Cr,"onSelect"),0<i.length&&(e=new xr("onSelect","select",null,e,l),t.push({event:e,listeners:i}),e.target=Xi)))}function tl(t,e){var l={};return l[t.toLowerCase()]=e.toLowerCase(),l["Webkit"+t]="webkit"+e,l["Moz"+t]="moz"+e,l}var Ki={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionrun:tl("Transition","TransitionRun"),transitionstart:tl("Transition","TransitionStart"),transitioncancel:tl("Transition","TransitionCancel"),transitionend:tl("Transition","TransitionEnd")},qu={},df={};In&&(df=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function ni(t){if(qu[t])return qu[t];if(!Ki[t])return t;var e=Ki[t],l;for(l in e)if(e.hasOwnProperty(l)&&l in df)return qu[t]=e[l];return t}var tc=ni("animationend"),En=ni("animationiteration"),Lu=ni("animationstart"),hf=ni("transitionrun"),qd=ni("transitionstart"),ec=ni("transitioncancel"),Ma=ni("transitionend"),ac=new Map,Oa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oa.push("scrollEnd");function Nn(t,e){ac.set(t,e),je(e,[t])}var zl=new WeakMap;function pa(t,e){if(typeof t=="object"&&t!==null){var l=zl.get(t);return l!==void 0?l:(e={value:t,source:e,stack:Wn(e)},zl.set(t,e),e)}return{value:t,source:e,stack:Wn(e)}}var da=[],li=0,Ar=0;function gn(){for(var t=li,e=Ar=li=0;e<t;){var l=da[e];da[e++]=null;var i=da[e];da[e++]=null;var r=da[e];da[e++]=null;var o=da[e];if(da[e++]=null,i!==null&&r!==null){var j=i.pending;j===null?r.next=r:(r.next=j.next,j.next=r),i.pending=r}o!==0&&si(l,r,o)}}function Mr(t,e,l,i){da[li++]=t,da[li++]=e,da[li++]=l,da[li++]=i,Ar|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function ii(t,e,l,i){return Mr(t,e,l,i),Or(t)}function el(t,e){return Mr(t,null,null,e),Or(t)}function si(t,e,l){t.lanes|=l;var i=t.alternate;i!==null&&(i.lanes|=l);for(var r=!1,o=t.return;o!==null;)o.childLanes|=l,i=o.alternate,i!==null&&(i.childLanes|=l),o.tag===22&&(t=o.stateNode,t===null||t._visibility&1||(r=!0)),t=o,o=o.return;return t.tag===3?(o=t.stateNode,r&&e!==null&&(r=31-Re(l),t=o.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=l|536870912),o):null}function Or(t){if(50<vl)throw vl=0,ru=null,Error(C(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Qi={};function zr(t,e,l,i){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,l,i){return new zr(t,e,l,i)}function Ds(t){return t=t.prototype,!(!t||!t.isReactComponent)}function al(t,e){var l=t.alternate;return l===null?(l=tn(t.tag,e,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=e,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,e=t.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Vu(t,e){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,e=l.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Rs(t,e,l,i,r,o){var j=0;if(i=t,typeof t=="function")Ds(t)&&(j=1);else if(typeof t=="string")j=Pg(t,l,ft.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case q:return t=tn(31,l,e,r),t.elementType=q,t.lanes=o,t;case v:return Dl(l.children,r,o,e);case z:j=8,r|=24;break;case H:return t=tn(12,l,e,r|2),t.elementType=H,t.lanes=o,t;case G:return t=tn(13,l,e,r),t.elementType=G,t.lanes=o,t;case Y:return t=tn(19,l,e,r),t.elementType=Y,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:case h:j=10;break t;case N:j=9;break t;case U:j=11;break t;case W:j=14;break t;case D:j=16,i=null;break t}j=29,l=Error(C(130,t===null?"null":typeof t,"")),i=null}return e=tn(j,l,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function Dl(t,e,l,i){return t=tn(7,t,i,e),t.lanes=l,t}function Yu(t,e,l){return t=tn(6,t,null,e),t.lanes=l,t}function Dr(t,e,l){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=l,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ba=[],Zi=0,za=null,Rr=0,mn=[],Cn=0,en=null,nl=1,Bn="";function Tn(t,e){ba[Zi++]=Rr,ba[Zi++]=za,za=t,Rr=e}function nc(t,e,l){mn[Cn++]=nl,mn[Cn++]=Bn,mn[Cn++]=en,en=t;var i=nl;t=Bn;var r=32-Re(i)-1;i&=~(1<<r),l+=1;var o=32-Re(e)+r;if(30<o){var j=r-r%5;o=(i&(1<<j)-1).toString(32),i>>=j,r-=j,nl=1<<32-Re(e)+r|l<<r|i,Bn=o+t}else nl=1<<o|l<<r|i,Bn=t}function ku(t){t.return!==null&&(Tn(t,1),nc(t,1,0))}function Xu(t){for(;t===za;)za=ba[--Zi],ba[Zi]=null,Rr=ba[--Zi],ba[Zi]=null;for(;t===en;)en=mn[--Cn],mn[Cn]=null,Bn=mn[--Cn],mn[Cn]=null,nl=mn[--Cn],mn[Cn]=null}var Da=null,Xe=null,ye=!1,Fi=null,ll=!1,lc=Error(C(519));function ri(t){var e=Error(C(418,""));throw Us(pa(e,t)),lc}function ic(t){var e=t.stateNode,l=t.type,i=t.memoizedProps;switch(e[We]=t,e[Va]=i,l){case"dialog":fe("cancel",e),fe("close",e);break;case"iframe":case"object":case"embed":fe("load",e);break;case"video":case"audio":for(l=0;l<Yc.length;l++)fe(Yc[l],e);break;case"source":fe("error",e);break;case"img":case"image":case"link":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"input":fe("invalid",e),vu(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),gr(e);break;case"select":fe("invalid",e);break;case"textarea":fe("invalid",e),Ho(e,i.value,i.defaultValue,i.children),gr(e)}l=i.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||e.textContent===""+l||i.suppressHydrationWarning===!0||i1(e.textContent,l)?(i.popover!=null&&(fe("beforetoggle",e),fe("toggle",e)),i.onScroll!=null&&fe("scroll",e),i.onScrollEnd!=null&&fe("scrollend",e),i.onClick!=null&&(e.onclick=ud),e=!0):e=!1,e||ri(t)}function Ji(t){for(Da=t.return;Da;)switch(Da.tag){case 5:case 13:ll=!1;return;case 27:case 3:ll=!0;return;default:Da=Da.return}}function ui(t){if(t!==Da)return!1;if(!ye)return Ji(t),ye=!0,!1;var e=t.tag,l;if((l=e!==3&&e!==27)&&((l=e===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||nh(t.type,t.memoizedProps)),l=!l),l&&Xe&&ri(t),Ji(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(e===0){Xe=Ql(t.nextSibling);break t}e--}else l!=="$"&&l!=="$!"&&l!=="$?"||e++;t=t.nextSibling}Xe=null}}else e===27?(e=Xe,nr(t.type)?(t=rh,rh=null,Xe=t):Xe=e):Xe=Da?Ql(t.stateNode.nextSibling):null;return!0}function js(){Xe=Da=null,ye=!1}function sc(){var t=Fi;return t!==null&&(Ca===null?Ca=t:Ca.push.apply(Ca,t),Fi=null),t}function Us(t){Fi===null?Fi=[t]:Fi.push(t)}var Ku=X(null),oi=null,il=null;function An(t,e,l){P(Ku,e._currentValue),e._currentValue=l}function sl(t){t._currentValue=Ku.current,nt(Ku)}function Qu(t,e,l){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===l)break;t=t.return}}function _e(t,e,l,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var o=r.dependencies;if(o!==null){var j=r.child;o=o.firstContext;t:for(;o!==null;){var k=o;o=r;for(var I=0;I<e.length;I++)if(k.context===e[I]){o.lanes|=l,k=o.alternate,k!==null&&(k.lanes|=l),Qu(o.return,l,t),i||(j=null);break t}o=k.next}}else if(r.tag===18){if(j=r.return,j===null)throw Error(C(341));j.lanes|=l,o=j.alternate,o!==null&&(o.lanes|=l),Qu(j,l,t),j=null}else j=r.child;if(j!==null)j.return=r;else for(j=r;j!==null;){if(j===t){j=null;break}if(r=j.sibling,r!==null){r.return=j.return,j=r;break}j=j.return}r=j}}function Pi(t,e,l,i){t=null;for(var r=e,o=!1;r!==null;){if(!o){if((r.flags&524288)!==0)o=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var j=r.alternate;if(j===null)throw Error(C(387));if(j=j.memoizedProps,j!==null){var k=r.type;hn(r.pendingProps.value,j.value)||(t!==null?t.push(k):t=[k])}}else if(r===J.current){if(j=r.alternate,j===null)throw Error(C(387));j.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Fc):t=[Fc])}r=r.return}t!==null&&_e(e,t,l,i),e.flags|=262144}function Zu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ci(t){oi=t,il=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ra(t){return gf(oi,t)}function Fu(t,e){return oi===null&&ci(t),gf(t,e)}function gf(t,e){var l=e._currentValue;if(e={context:e,memoizedValue:l,next:null},il===null){if(t===null)throw Error(C(308));il=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else il=il.next=e;return l}var Ld=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(l,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(l){return l()})}},rc=c.unstable_scheduleCallback,Rl=c.unstable_NormalPriority,ea={$$typeof:h,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gs(){return{controller:new Ld,data:new Map,refCount:0}}function wn(t){t.refCount--,t.refCount===0&&rc(Rl,function(){t.controller.abort()})}var Wi=null,jr=0,Hs=0,Ii=null;function mf(t,e){if(Wi===null){var l=Wi=[];jr=0,Hs=Fd(),Ii={status:"pending",value:void 0,then:function(i){l.push(i)}}}return jr++,e.then(uc,uc),e}function uc(){if(--jr===0&&Wi!==null){Ii!==null&&(Ii.status="fulfilled");var t=Wi;Wi=null,Hs=0,Ii=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function yf(t,e){var l=[],i={status:"pending",value:null,reason:null,then:function(r){l.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<l.length;r++)(0,l[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<l.length;r++)(0,l[r])(void 0)}),i}var oc=tt.S;tt.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&mf(t,e),oc!==null&&oc(t,e)};var jl=X(null);function It(){var t=jl.current;return t!==null?t:ze.pooledCache}function Ju(t,e){e===null?P(jl,jl.current):P(jl,e.pool)}function an(){var t=It();return t===null?null:{parent:ea._currentValue,pool:t}}var $i=Error(C(460)),vf=Error(C(474)),ts=Error(C(542)),fi={then:function(){}};function es(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ur(){}function Pu(t,e,l){switch(l=t[l],l===void 0?t.push(e):l!==e&&(e.then(Ur,Ur),e=l),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ul(t),t;default:if(typeof e.status=="string")e.then(Ur,Ur);else{if(t=ze,t!==null&&100<t.shellSuspendCounter)throw Error(C(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ul(t),t}throw Gr=e,$i}}var Gr=null;function cc(){if(Gr===null)throw Error(C(459));var t=Gr;return Gr=null,t}function Ul(t){if(t===$i||t===ts)throw Error(C(483))}var rl=!1;function Hr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Br(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ul(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xa(t,e,l){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(Kt&2)!==0){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Or(t),si(t,null,l),e}return Mr(t,i,e,l),Or(t)}function as(t,e,l){if(e=e.updateQueue,e!==null&&(e=e.shared,(l&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,l|=i,e.lanes=l,Ia(t,l)}}function fc(t,e){var l=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,l===i)){var r=null,o=null;if(l=l.firstBaseUpdate,l!==null){do{var j={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};o===null?r=o=j:o=o.next=j,l=l.next}while(l!==null);o===null?r=o=e:o=o.next=e}else r=o=e;l={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=e:t.next=e,l.lastBaseUpdate=e}var Wu=!1;function wr(){if(Wu){var t=Ii;if(t!==null)throw t}}function di(t,e,l,i){Wu=!1;var r=t.updateQueue;rl=!1;var o=r.firstBaseUpdate,j=r.lastBaseUpdate,k=r.shared.pending;if(k!==null){r.shared.pending=null;var I=k,ht=I.next;I.next=null,j===null?o=ht:j.next=ht,j=I;var bt=t.alternate;bt!==null&&(bt=bt.updateQueue,k=bt.lastBaseUpdate,k!==j&&(k===null?bt.firstBaseUpdate=ht:k.next=ht,bt.lastBaseUpdate=I))}if(o!==null){var St=r.baseState;j=0,bt=ht=I=null,k=o;do{var mt=k.lane&-536870913,yt=mt!==k.lane;if(yt?(ce&mt)===mt:(i&mt)===mt){mt!==0&&mt===Hs&&(Wu=!0),bt!==null&&(bt=bt.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});t:{var Zt=t,Yt=k;mt=e;var Ve=l;switch(Yt.tag){case 1:if(Zt=Yt.payload,typeof Zt=="function"){St=Zt.call(Ve,St,mt);break t}St=Zt;break t;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=Yt.payload,mt=typeof Zt=="function"?Zt.call(Ve,St,mt):Zt,mt==null)break t;St=E({},St,mt);break t;case 2:rl=!0}}mt=k.callback,mt!==null&&(t.flags|=64,yt&&(t.flags|=8192),yt=r.callbacks,yt===null?r.callbacks=[mt]:yt.push(mt))}else yt={lane:mt,tag:k.tag,payload:k.payload,callback:k.callback,next:null},bt===null?(ht=bt=yt,I=St):bt=bt.next=yt,j|=mt;if(k=k.next,k===null){if(k=r.shared.pending,k===null)break;yt=k,k=yt.next,yt.next=null,r.lastBaseUpdate=yt,r.shared.pending=null}}while(!0);bt===null&&(I=St),r.baseState=I,r.firstBaseUpdate=ht,r.lastBaseUpdate=bt,o===null&&(r.shared.lanes=0),Ge|=j,t.lanes=j,t.memoizedState=St}}function wt(t,e){if(typeof t!="function")throw Error(C(191,t));t.call(e)}function pf(t,e){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)wt(l[t],e)}var Bs=X(null),qr=X(0);function ws(t,e){t=yl,P(qr,t),P(Bs,e),yl=t|e.baseLanes}function dc(){P(qr,yl),P(Bs,Bs.current)}function hc(){yl=qr.current,nt(Bs),nt(qr)}var hi=0,$t=null,Me=null,Pe=null,Lr=!1,Gl=!1,gi=!1,Iu=0,Vr=0,Mn=null,Hl=0;function re(){throw Error(C(321))}function ol(t,e){if(e===null)return!1;for(var l=0;l<e.length&&l<t.length;l++)if(!hn(t[l],e[l]))return!1;return!0}function nn(t,e,l,i,r,o){return hi=o,$t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tt.H=t===null||t.memoizedState===null?Jf:zc,gi=!1,o=l(i,r),gi=!1,Gl&&(o=xf(e,l,i,r)),bf(t),o}function bf(t){tt.H=lo;var e=Me!==null&&Me.next!==null;if(hi=0,Pe=Me=$t=null,Lr=!1,Vr=0,Mn=null,e)throw Error(C(300));t===null||Oe||(t=t.dependencies,t!==null&&Zu(t)&&(Oe=!0))}function xf(t,e,l,i){$t=t;var r=0;do{if(Gl&&(Mn=null),Vr=0,Gl=!1,25<=r)throw Error(C(301));if(r+=1,Pe=Me=null,t.updateQueue!=null){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}tt.H=Xd,o=e(l,i)}while(Gl);return o}function xa(){var t=tt.H,e=t.useState()[0];return e=typeof e.then=="function"?Yr(e):e,t=t.useState()[0],(Me!==null?Me.memoizedState:null)!==t&&($t.flags|=1024),e}function qn(){var t=Iu!==0;return Iu=0,t}function gc(t,e,l){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l}function mc(t){if(Lr){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Lr=!1}hi=0,Pe=Me=$t=null,Gl=!1,Vr=Iu=0,Mn=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?$t.memoizedState=Pe=t:Pe=Pe.next=t,Pe}function aa(){if(Me===null){var t=$t.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=Pe===null?$t.memoizedState:Pe.next;if(e!==null)Pe=e,Me=t;else{if(t===null)throw $t.alternate===null?Error(C(467)):Error(C(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Pe===null?$t.memoizedState=Pe=t:Pe=Pe.next=t}return Pe}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yr(t){var e=Vr;return Vr+=1,Mn===null&&(Mn=[]),t=Pu(Mn,t,e),e=$t,(Pe===null?e.memoizedState:Pe.next)===null&&(e=e.alternate,tt.H=e===null||e.memoizedState===null?Jf:zc),t}function kr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yr(t);if(t.$$typeof===h)return Ra(t)}throw Error(C(438,String(t)))}function yc(t){var e=null,l=$t.updateQueue;if(l!==null&&(e=l.memoCache),e==null){var i=$t.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),l===null&&(l=$u(),$t.updateQueue=l),l.memoCache=e,l=e.data[e.index],l===void 0)for(l=e.data[e.index]=Array(t),i=0;i<t;i++)l[i]=w;return e.index++,l}function sn(t,e){return typeof e=="function"?e(t):e}function cl(t){var e=aa();return vc(e,Me,t)}function vc(t,e,l){var i=t.queue;if(i===null)throw Error(C(311));i.lastRenderedReducer=l;var r=t.baseQueue,o=i.pending;if(o!==null){if(r!==null){var j=r.next;r.next=o.next,o.next=j}e.baseQueue=r=o,i.pending=null}if(o=t.baseState,r===null)t.memoizedState=o;else{e=r.next;var k=j=null,I=null,ht=e,bt=!1;do{var St=ht.lane&-536870913;if(St!==ht.lane?(ce&St)===St:(hi&St)===St){var mt=ht.revertLane;if(mt===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null}),St===Hs&&(bt=!0);else if((hi&mt)===mt){ht=ht.next,mt===Hs&&(bt=!0);continue}else St={lane:0,revertLane:ht.revertLane,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null},I===null?(k=I=St,j=o):I=I.next=St,$t.lanes|=mt,Ge|=mt;St=ht.action,gi&&l(o,St),o=ht.hasEagerState?ht.eagerState:l(o,St)}else mt={lane:St,revertLane:ht.revertLane,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null},I===null?(k=I=mt,j=o):I=I.next=mt,$t.lanes|=St,Ge|=St;ht=ht.next}while(ht!==null&&ht!==e);if(I===null?j=o:I.next=k,!hn(o,t.memoizedState)&&(Oe=!0,bt&&(l=Ii,l!==null)))throw l;t.memoizedState=o,t.baseState=j,t.baseQueue=I,i.lastRenderedState=o}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function pc(t){var e=aa(),l=e.queue;if(l===null)throw Error(C(311));l.lastRenderedReducer=t;var i=l.dispatch,r=l.pending,o=e.memoizedState;if(r!==null){l.pending=null;var j=r=r.next;do o=t(o,j.action),j=j.next;while(j!==r);hn(o,e.memoizedState)||(Oe=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),l.lastRenderedState=o}return[o,i]}function Sf(t,e,l){var i=$t,r=aa(),o=ye;if(o){if(l===void 0)throw Error(C(407));l=l()}else l=e();var j=!hn((Me||r).memoizedState,l);j&&(r.memoizedState=l,Oe=!0),r=r.queue;var k=Ef.bind(null,i,r,t);if(Xr(2048,8,k,[t]),r.getSnapshot!==e||j||Pe!==null&&Pe.memoizedState.tag&1){if(i.flags|=2048,Vs(9,to(),_f.bind(null,i,r,l,e),null),ze===null)throw Error(C(349));o||(hi&124)!==0||qs(i,e,l)}return l}function qs(t,e,l){t.flags|=16384,t={getSnapshot:e,value:l},e=$t.updateQueue,e===null?(e=$u(),$t.updateQueue=e,e.stores=[t]):(l=e.stores,l===null?e.stores=[t]:l.push(t))}function _f(t,e,l,i){e.value=l,e.getSnapshot=i,Nf(e)&&Ls(t)}function Ef(t,e,l){return l(function(){Nf(e)&&Ls(t)})}function Nf(t){var e=t.getSnapshot;t=t.value;try{var l=e();return!hn(t,l)}catch{return!0}}function Ls(t){var e=el(t,2);e!==null&&sa(e,t,2)}function bc(t){var e=ln();if(typeof t=="function"){var l=t;if(t=l(),gi){De(!0);try{l()}finally{De(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:t},e}function Cf(t,e,l,i){return t.baseState=l,vc(t,Me,typeof i=="function"?i:sn)}function Vd(t,e,l,i,r){if(no(t))throw Error(C(485));if(t=e.action,t!==null){var o={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){o.listeners.push(j)}};tt.T!==null?l(!0):o.isTransition=!1,i(o),l=e.pending,l===null?(o.next=e.pending=o,Tf(e,o)):(o.next=l.next,e.pending=l.next=o)}}function Tf(t,e){var l=e.action,i=e.payload,r=t.state;if(e.isTransition){var o=tt.T,j={};tt.T=j;try{var k=l(r,i),I=tt.S;I!==null&&I(j,k),Af(t,e,k)}catch(ht){xc(t,e,ht)}finally{tt.T=o}}else try{o=l(r,i),Af(t,e,o)}catch(ht){xc(t,e,ht)}}function Af(t,e,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(i){Mf(t,e,i)},function(i){return xc(t,e,i)}):Mf(t,e,l)}function Mf(t,e,l){e.status="fulfilled",e.value=l,Of(e),t.state=l,e=t.pending,e!==null&&(l=e.next,l===e?t.pending=null:(l=l.next,e.next=l,Tf(t,l)))}function xc(t,e,l){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=l,Of(e),e=e.next;while(e!==i)}t.action=null}function Of(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function zf(t,e){return e}function Df(t,e){if(ye){var l=ze.formState;if(l!==null){t:{var i=$t;if(ye){if(Xe){e:{for(var r=Xe,o=ll;r.nodeType!==8;){if(!o){r=null;break e}if(r=Ql(r.nextSibling),r===null){r=null;break e}}o=r.data,r=o==="F!"||o==="F"?r:null}if(r){Xe=Ql(r.nextSibling),i=r.data==="F!";break t}}ri(i)}i=!1}i&&(e=l[0])}}return l=ln(),l.memoizedState=l.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zf,lastRenderedState:e},l.queue=i,l=Qf.bind(null,$t,i),i.dispatch=l,i=bc(!1),o=Oc.bind(null,$t,!1,i.queue),i=ln(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,l=Vd.bind(null,$t,r,o,l),r.dispatch=l,i.memoizedState=t,[e,l,!1]}function Rf(t){var e=aa();return jf(e,Me,t)}function jf(t,e,l){if(e=vc(t,e,zf)[0],t=cl(sn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Yr(e)}catch(j){throw j===$i?ts:j}else i=e;e=aa();var r=e.queue,o=r.dispatch;return l!==e.memoizedState&&($t.flags|=2048,Vs(9,to(),Uf.bind(null,r,l),null)),[i,o,t]}function Uf(t,e){t.action=e}function Gf(t){var e=aa(),l=Me;if(l!==null)return jf(e,l,t);aa(),e=e.memoizedState,l=aa();var i=l.queue.dispatch;return l.memoizedState=t,[e,i,!1]}function Vs(t,e,l,i){return t={tag:t,create:l,deps:i,inst:e,next:null},e=$t.updateQueue,e===null&&(e=$u(),$t.updateQueue=e),l=e.lastEffect,l===null?e.lastEffect=t.next=t:(i=l.next,l.next=t,t.next=i,e.lastEffect=t),t}function to(){return{destroy:void 0,resource:void 0}}function Hf(){return aa().memoizedState}function eo(t,e,l,i){var r=ln();i=i===void 0?null:i,$t.flags|=t,r.memoizedState=Vs(1|e,to(),l,i)}function Xr(t,e,l,i){var r=aa();i=i===void 0?null:i;var o=r.memoizedState.inst;Me!==null&&i!==null&&ol(i,Me.memoizedState.deps)?r.memoizedState=Vs(e,o,l,i):($t.flags|=t,r.memoizedState=Vs(1|e,o,l,i))}function Sc(t,e){eo(8390656,8,t,e)}function _c(t,e){Xr(2048,8,t,e)}function Bf(t,e){return Xr(4,2,t,e)}function Ec(t,e){return Xr(4,4,t,e)}function Nc(t,e){if(typeof e=="function"){t=t();var l=e(t);return function(){typeof l=="function"?l():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Cc(t,e,l){l=l!=null?l.concat([t]):null,Xr(4,4,Nc.bind(null,e,t),l)}function Kr(){}function ao(t,e){var l=aa();e=e===void 0?null:e;var i=l.memoizedState;return e!==null&&ol(e,i[1])?i[0]:(l.memoizedState=[t,e],t)}function wf(t,e){var l=aa();e=e===void 0?null:e;var i=l.memoizedState;if(e!==null&&ol(e,i[1]))return i[0];if(i=t(),gi){De(!0);try{t()}finally{De(!1)}}return l.memoizedState=[i,e],i}function Tc(t,e,l){return l===void 0||(hi&1073741824)!==0?t.memoizedState=e:(t.memoizedState=l,t=Je(),$t.lanes|=t,Ge|=t,l)}function qf(t,e,l,i){return hn(l,e)?l:Bs.current!==null?(t=Tc(t,l,i),hn(t,e)||(Oe=!0),t):(hi&42)===0?(Oe=!0,t.memoizedState=l):(t=Je(),$t.lanes|=t,Ge|=t,e)}function Lf(t,e,l,i,r){var o=O.p;O.p=o!==0&&8>o?o:8;var j=tt.T,k={};tt.T=k,Oc(t,!1,e,l);try{var I=r(),ht=tt.S;if(ht!==null&&ht(k,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var bt=yf(I,i);Qr(t,e,bt,$e(t))}else Qr(t,e,i,$e(t))}catch(St){Qr(t,e,{then:function(){},status:"rejected",reason:St},$e())}finally{O.p=o,tt.T=j}}function Vf(){}function Ac(t,e,l,i){if(t.tag!==5)throw Error(C(476));var r=Yf(t).queue;Lf(t,r,e,L,l===null?Vf:function(){return kf(t),l(i)})}function Yf(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:L},next:null};var l={};return e.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:l},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function kf(t){var e=Yf(t).next.queue;Qr(t,e,{},$e())}function Mc(){return Ra(Fc)}function Xf(){return aa().memoizedState}function Kf(){return aa().memoizedState}function Yd(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var l=$e();t=ul(l);var i=Xa(e,t,l);i!==null&&(sa(i,e,l),as(i,e,l)),e={cache:Gs()},t.payload=e;return}e=e.return}}function kd(t,e,l){var i=$e();l={lane:i,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},no(t)?Zf(e,l):(l=ii(t,e,l,i),l!==null&&(sa(l,t,i),Ff(l,e,i)))}function Qf(t,e,l){var i=$e();Qr(t,e,l,i)}function Qr(t,e,l,i){var r={lane:i,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(no(t))Zf(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var j=e.lastRenderedState,k=o(j,l);if(r.hasEagerState=!0,r.eagerState=k,hn(k,j))return Mr(t,e,r,0),ze===null&&gn(),!1}catch{}finally{}if(l=ii(t,e,r,i),l!==null)return sa(l,t,i),Ff(l,e,i),!0}return!1}function Oc(t,e,l,i){if(i={lane:2,revertLane:Fd(),action:i,hasEagerState:!1,eagerState:null,next:null},no(t)){if(e)throw Error(C(479))}else e=ii(t,l,i,2),e!==null&&sa(e,t,2)}function no(t){var e=t.alternate;return t===$t||e!==null&&e===$t}function Zf(t,e){Gl=Lr=!0;var l=t.pending;l===null?e.next=e:(e.next=l.next,l.next=e),t.pending=e}function Ff(t,e,l){if((l&4194048)!==0){var i=e.lanes;i&=t.pendingLanes,l|=i,e.lanes=l,Ia(t,l)}}var lo={readContext:Ra,use:kr,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re,useHostTransitionStatus:re,useFormState:re,useActionState:re,useOptimistic:re,useMemoCache:re,useCacheRefresh:re},Jf={readContext:Ra,use:kr,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:Ra,useEffect:Sc,useImperativeHandle:function(t,e,l){l=l!=null?l.concat([t]):null,eo(4194308,4,Nc.bind(null,e,t),l)},useLayoutEffect:function(t,e){return eo(4194308,4,t,e)},useInsertionEffect:function(t,e){eo(4,2,t,e)},useMemo:function(t,e){var l=ln();e=e===void 0?null:e;var i=t();if(gi){De(!0);try{t()}finally{De(!1)}}return l.memoizedState=[i,e],i},useReducer:function(t,e,l){var i=ln();if(l!==void 0){var r=l(e);if(gi){De(!0);try{l(e)}finally{De(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=kd.bind(null,$t,t),[i.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:function(t){t=bc(t);var e=t.queue,l=Qf.bind(null,$t,e);return e.dispatch=l,[t.memoizedState,l]},useDebugValue:Kr,useDeferredValue:function(t,e){var l=ln();return Tc(l,t,e)},useTransition:function(){var t=bc(!1);return t=Lf.bind(null,$t,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,l){var i=$t,r=ln();if(ye){if(l===void 0)throw Error(C(407));l=l()}else{if(l=e(),ze===null)throw Error(C(349));(ce&124)!==0||qs(i,e,l)}r.memoizedState=l;var o={value:l,getSnapshot:e};return r.queue=o,Sc(Ef.bind(null,i,o,t),[t]),i.flags|=2048,Vs(9,to(),_f.bind(null,i,o,l,e),null),l},useId:function(){var t=ln(),e=ze.identifierPrefix;if(ye){var l=Bn,i=nl;l=(i&~(1<<32-Re(i)-1)).toString(32)+l,e=""+e+"R"+l,l=Iu++,0<l&&(e+="H"+l.toString(32)),e+=""}else l=Hl++,e=""+e+"r"+l.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Mc,useFormState:Df,useActionState:Df,useOptimistic:function(t){var e=ln();e.memoizedState=e.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=l,e=Oc.bind(null,$t,!0,l),l.dispatch=e,[t,e]},useMemoCache:yc,useCacheRefresh:function(){return ln().memoizedState=Yd.bind(null,$t)}},zc={readContext:Ra,use:kr,useCallback:ao,useContext:Ra,useEffect:_c,useImperativeHandle:Cc,useInsertionEffect:Bf,useLayoutEffect:Ec,useMemo:wf,useReducer:cl,useRef:Hf,useState:function(){return cl(sn)},useDebugValue:Kr,useDeferredValue:function(t,e){var l=aa();return qf(l,Me.memoizedState,t,e)},useTransition:function(){var t=cl(sn)[0],e=aa().memoizedState;return[typeof t=="boolean"?t:Yr(t),e]},useSyncExternalStore:Sf,useId:Xf,useHostTransitionStatus:Mc,useFormState:Rf,useActionState:Rf,useOptimistic:function(t,e){var l=aa();return Cf(l,Me,t,e)},useMemoCache:yc,useCacheRefresh:Kf},Xd={readContext:Ra,use:kr,useCallback:ao,useContext:Ra,useEffect:_c,useImperativeHandle:Cc,useInsertionEffect:Bf,useLayoutEffect:Ec,useMemo:wf,useReducer:pc,useRef:Hf,useState:function(){return pc(sn)},useDebugValue:Kr,useDeferredValue:function(t,e){var l=aa();return Me===null?Tc(l,t,e):qf(l,Me.memoizedState,t,e)},useTransition:function(){var t=pc(sn)[0],e=aa().memoizedState;return[typeof t=="boolean"?t:Yr(t),e]},useSyncExternalStore:Sf,useId:Xf,useHostTransitionStatus:Mc,useFormState:Gf,useActionState:Gf,useOptimistic:function(t,e){var l=aa();return Me!==null?Cf(l,Me,t,e):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:yc,useCacheRefresh:Kf},Ys=null,Ka=0;function Zr(t){var e=Ka;return Ka+=1,Ys===null&&(Ys=[]),Pu(Ys,t,e)}function ns(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Fr(t,e){throw e.$$typeof===M?Error(C(525)):(t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Dc(t){var e=t._init;return e(t._payload)}function Rc(t){function e(ot,lt){if(t){var dt=ot.deletions;dt===null?(ot.deletions=[lt],ot.flags|=16):dt.push(lt)}}function l(ot,lt){if(!t)return null;for(;lt!==null;)e(ot,lt),lt=lt.sibling;return null}function i(ot){for(var lt=new Map;ot!==null;)ot.key!==null?lt.set(ot.key,ot):lt.set(ot.index,ot),ot=ot.sibling;return lt}function r(ot,lt){return ot=al(ot,lt),ot.index=0,ot.sibling=null,ot}function o(ot,lt,dt){return ot.index=dt,t?(dt=ot.alternate,dt!==null?(dt=dt.index,dt<lt?(ot.flags|=67108866,lt):dt):(ot.flags|=67108866,lt)):(ot.flags|=1048576,lt)}function j(ot){return t&&ot.alternate===null&&(ot.flags|=67108866),ot}function k(ot,lt,dt,xt){return lt===null||lt.tag!==6?(lt=Yu(dt,ot.mode,xt),lt.return=ot,lt):(lt=r(lt,dt),lt.return=ot,lt)}function I(ot,lt,dt,xt){var Gt=dt.type;return Gt===v?bt(ot,lt,dt.props.children,xt,dt.key):lt!==null&&(lt.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===D&&Dc(Gt)===lt.type)?(lt=r(lt,dt.props),ns(lt,dt),lt.return=ot,lt):(lt=Rs(dt.type,dt.key,dt.props,null,ot.mode,xt),ns(lt,dt),lt.return=ot,lt)}function ht(ot,lt,dt,xt){return lt===null||lt.tag!==4||lt.stateNode.containerInfo!==dt.containerInfo||lt.stateNode.implementation!==dt.implementation?(lt=Dr(dt,ot.mode,xt),lt.return=ot,lt):(lt=r(lt,dt.children||[]),lt.return=ot,lt)}function bt(ot,lt,dt,xt,Gt){return lt===null||lt.tag!==7?(lt=Dl(dt,ot.mode,xt,Gt),lt.return=ot,lt):(lt=r(lt,dt),lt.return=ot,lt)}function St(ot,lt,dt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return lt=Yu(""+lt,ot.mode,dt),lt.return=ot,lt;if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case T:return dt=Rs(lt.type,lt.key,lt.props,null,ot.mode,dt),ns(dt,lt),dt.return=ot,dt;case S:return lt=Dr(lt,ot.mode,dt),lt.return=ot,lt;case D:var xt=lt._init;return lt=xt(lt._payload),St(ot,lt,dt)}if(at(lt)||F(lt))return lt=Dl(lt,ot.mode,dt,null),lt.return=ot,lt;if(typeof lt.then=="function")return St(ot,Zr(lt),dt);if(lt.$$typeof===h)return St(ot,Fu(ot,lt),dt);Fr(ot,lt)}return null}function mt(ot,lt,dt,xt){var Gt=lt!==null?lt.key:null;if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return Gt!==null?null:k(ot,lt,""+dt,xt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case T:return dt.key===Gt?I(ot,lt,dt,xt):null;case S:return dt.key===Gt?ht(ot,lt,dt,xt):null;case D:return Gt=dt._init,dt=Gt(dt._payload),mt(ot,lt,dt,xt)}if(at(dt)||F(dt))return Gt!==null?null:bt(ot,lt,dt,xt,null);if(typeof dt.then=="function")return mt(ot,lt,Zr(dt),xt);if(dt.$$typeof===h)return mt(ot,lt,Fu(ot,dt),xt);Fr(ot,dt)}return null}function yt(ot,lt,dt,xt,Gt){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return ot=ot.get(dt)||null,k(lt,ot,""+xt,Gt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case T:return ot=ot.get(xt.key===null?dt:xt.key)||null,I(lt,ot,xt,Gt);case S:return ot=ot.get(xt.key===null?dt:xt.key)||null,ht(lt,ot,xt,Gt);case D:var ue=xt._init;return xt=ue(xt._payload),yt(ot,lt,dt,xt,Gt)}if(at(xt)||F(xt))return ot=ot.get(dt)||null,bt(lt,ot,xt,Gt,null);if(typeof xt.then=="function")return yt(ot,lt,dt,Zr(xt),Gt);if(xt.$$typeof===h)return yt(ot,lt,dt,Fu(lt,xt),Gt);Fr(lt,xt)}return null}function Zt(ot,lt,dt,xt){for(var Gt=null,ue=null,Ht=lt,Xt=lt=0,Ba=null;Ht!==null&&Xt<dt.length;Xt++){Ht.index>Xt?(Ba=Ht,Ht=null):Ba=Ht.sibling;var Te=mt(ot,Ht,dt[Xt],xt);if(Te===null){Ht===null&&(Ht=Ba);break}t&&Ht&&Te.alternate===null&&e(ot,Ht),lt=o(Te,lt,Xt),ue===null?Gt=Te:ue.sibling=Te,ue=Te,Ht=Ba}if(Xt===dt.length)return l(ot,Ht),ye&&Tn(ot,Xt),Gt;if(Ht===null){for(;Xt<dt.length;Xt++)Ht=St(ot,dt[Xt],xt),Ht!==null&&(lt=o(Ht,lt,Xt),ue===null?Gt=Ht:ue.sibling=Ht,ue=Ht);return ye&&Tn(ot,Xt),Gt}for(Ht=i(Ht);Xt<dt.length;Xt++)Ba=yt(Ht,ot,Xt,dt[Xt],xt),Ba!==null&&(t&&Ba.alternate!==null&&Ht.delete(Ba.key===null?Xt:Ba.key),lt=o(Ba,lt,Xt),ue===null?Gt=Ba:ue.sibling=Ba,ue=Ba);return t&&Ht.forEach(function(ur){return e(ot,ur)}),ye&&Tn(ot,Xt),Gt}function Yt(ot,lt,dt,xt){if(dt==null)throw Error(C(151));for(var Gt=null,ue=null,Ht=lt,Xt=lt=0,Ba=null,Te=dt.next();Ht!==null&&!Te.done;Xt++,Te=dt.next()){Ht.index>Xt?(Ba=Ht,Ht=null):Ba=Ht.sibling;var ur=mt(ot,Ht,Te.value,xt);if(ur===null){Ht===null&&(Ht=Ba);break}t&&Ht&&ur.alternate===null&&e(ot,Ht),lt=o(ur,lt,Xt),ue===null?Gt=ur:ue.sibling=ur,ue=ur,Ht=Ba}if(Te.done)return l(ot,Ht),ye&&Tn(ot,Xt),Gt;if(Ht===null){for(;!Te.done;Xt++,Te=dt.next())Te=St(ot,Te.value,xt),Te!==null&&(lt=o(Te,lt,Xt),ue===null?Gt=Te:ue.sibling=Te,ue=Te);return ye&&Tn(ot,Xt),Gt}for(Ht=i(Ht);!Te.done;Xt++,Te=dt.next())Te=yt(Ht,ot,Xt,Te.value,xt),Te!==null&&(t&&Te.alternate!==null&&Ht.delete(Te.key===null?Xt:Te.key),lt=o(Te,lt,Xt),ue===null?Gt=Te:ue.sibling=Te,ue=Te);return t&&Ht.forEach(function(u5){return e(ot,u5)}),ye&&Tn(ot,Xt),Gt}function Ve(ot,lt,dt,xt){if(typeof dt=="object"&&dt!==null&&dt.type===v&&dt.key===null&&(dt=dt.props.children),typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case T:t:{for(var Gt=dt.key;lt!==null;){if(lt.key===Gt){if(Gt=dt.type,Gt===v){if(lt.tag===7){l(ot,lt.sibling),xt=r(lt,dt.props.children),xt.return=ot,ot=xt;break t}}else if(lt.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===D&&Dc(Gt)===lt.type){l(ot,lt.sibling),xt=r(lt,dt.props),ns(xt,dt),xt.return=ot,ot=xt;break t}l(ot,lt);break}else e(ot,lt);lt=lt.sibling}dt.type===v?(xt=Dl(dt.props.children,ot.mode,xt,dt.key),xt.return=ot,ot=xt):(xt=Rs(dt.type,dt.key,dt.props,null,ot.mode,xt),ns(xt,dt),xt.return=ot,ot=xt)}return j(ot);case S:t:{for(Gt=dt.key;lt!==null;){if(lt.key===Gt)if(lt.tag===4&&lt.stateNode.containerInfo===dt.containerInfo&&lt.stateNode.implementation===dt.implementation){l(ot,lt.sibling),xt=r(lt,dt.children||[]),xt.return=ot,ot=xt;break t}else{l(ot,lt);break}else e(ot,lt);lt=lt.sibling}xt=Dr(dt,ot.mode,xt),xt.return=ot,ot=xt}return j(ot);case D:return Gt=dt._init,dt=Gt(dt._payload),Ve(ot,lt,dt,xt)}if(at(dt))return Zt(ot,lt,dt,xt);if(F(dt)){if(Gt=F(dt),typeof Gt!="function")throw Error(C(150));return dt=Gt.call(dt),Yt(ot,lt,dt,xt)}if(typeof dt.then=="function")return Ve(ot,lt,Zr(dt),xt);if(dt.$$typeof===h)return Ve(ot,lt,Fu(ot,dt),xt);Fr(ot,dt)}return typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint"?(dt=""+dt,lt!==null&&lt.tag===6?(l(ot,lt.sibling),xt=r(lt,dt),xt.return=ot,ot=xt):(l(ot,lt),xt=Yu(dt,ot.mode,xt),xt.return=ot,ot=xt),j(ot)):l(ot,lt)}return function(ot,lt,dt,xt){try{Ka=0;var Gt=Ve(ot,lt,dt,xt);return Ys=null,Gt}catch(Ht){if(Ht===$i||Ht===ts)throw Ht;var ue=tn(29,Ht,null,ot.mode);return ue.lanes=xt,ue.return=ot,ue}finally{}}}var ks=Rc(!0),jc=Rc(!1),yn=X(null),fl=null;function mi(t){var e=t.alternate;P(le,le.current&1),P(yn,t),fl===null&&(e===null||Bs.current!==null||e.memoizedState!==null)&&(fl=t)}function Pf(t){if(t.tag===22){if(P(le,le.current),P(yn,t),fl===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(fl=t)}}else Bl()}function Bl(){P(le,le.current),P(yn,yn.current)}function wl(t){nt(yn),fl===t&&(fl=null),nt(le)}var le=X(0);function Jr(t){for(var e=t;e!==null;){if(e.tag===13){var l=e.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||sh(l)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Uc(t,e,l,i){e=t.memoizedState,l=l(i,e),l=l==null?e:E({},e,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var io={enqueueSetState:function(t,e,l){t=t._reactInternals;var i=$e(),r=ul(i);r.payload=e,l!=null&&(r.callback=l),e=Xa(t,r,i),e!==null&&(sa(e,t,i),as(e,t,i))},enqueueReplaceState:function(t,e,l){t=t._reactInternals;var i=$e(),r=ul(i);r.tag=1,r.payload=e,l!=null&&(r.callback=l),e=Xa(t,r,i),e!==null&&(sa(e,t,i),as(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var l=$e(),i=ul(l);i.tag=2,e!=null&&(i.callback=e),e=Xa(t,i,l),e!==null&&(sa(e,t,l),as(e,t,l))}};function Gc(t,e,l,i,r,o,j){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,j):e.prototype&&e.prototype.isPureReactComponent?!Ms(l,i)||!Ms(r,o):!0}function ls(t,e,l,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(l,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(l,i),e.state!==t&&io.enqueueReplaceState(e,e.state,null)}function ql(t,e){var l=e;if("ref"in e){l={};for(var i in e)i!=="ref"&&(l[i]=e[i])}if(t=t.defaultProps){l===e&&(l=E({},l));for(var r in t)l[r]===void 0&&(l[r]=t[r])}return l}var Ll=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function is(t){Ll(t)}function rn(t){console.error(t)}function Wf(t){Ll(t)}function so(t,e){try{var l=t.onUncaughtError;l(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Pr(t,e,l){try{var i=t.onCaughtError;i(l.value,{componentStack:l.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Xs(t,e,l){return l=ul(l),l.tag=3,l.payload={element:null},l.callback=function(){so(t,e)},l}function Wr(t){return t=ul(t),t.tag=3,t}function ro(t,e,l,i){var r=l.type.getDerivedStateFromError;if(typeof r=="function"){var o=i.value;t.payload=function(){return r(o)},t.callback=function(){Pr(e,l,i)}}var j=l.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(t.callback=function(){Pr(e,l,i),typeof r!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var k=i.stack;this.componentDidCatch(i.value,{componentStack:k!==null?k:""})})}function Kd(t,e,l,i,r){if(l.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=l.alternate,e!==null&&Pi(e,l,r,!0),l=yn.current,l!==null){switch(l.tag){case 13:return fl===null?pl():l.alternate===null&&te===0&&(te=3),l.flags&=-257,l.flags|=65536,l.lanes=r,i===fi?l.flags|=16384:(e=l.updateQueue,e===null?l.updateQueue=new Set([i]):e.add(i),Et(t,i,r)),!1;case 22:return l.flags|=65536,i===fi?l.flags|=16384:(e=l.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},l.updateQueue=e):(l=e.retryQueue,l===null?e.retryQueue=new Set([i]):l.add(i)),Et(t,i,r)),!1}throw Error(C(435,l.tag))}return Et(t,i,r),pl(),!1}if(ye)return e=yn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==lc&&(t=Error(C(422),{cause:i}),Us(pa(t,l)))):(i!==lc&&(e=Error(C(423),{cause:i}),Us(pa(e,l))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=pa(i,l),r=Xs(t.stateNode,i,r),fc(t,r),te!==4&&(te=2)),!1;var o=Error(C(520),{cause:i});if(o=pa(o,l),Ci===null?Ci=[o]:Ci.push(o),te!==4&&(te=2),e===null)return!0;i=pa(i,l),l=e;do{switch(l.tag){case 3:return l.flags|=65536,t=r&-r,l.lanes|=t,t=Xs(l.stateNode,i,t),fc(l,t),!1;case 1:if(e=l.type,o=l.stateNode,(l.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Ai===null||!Ai.has(o))))return l.flags|=65536,r&=-r,l.lanes|=r,r=Wr(r),ro(r,t,l,i),fc(l,r),!1}l=l.return}while(l!==null);return!1}var If=Error(C(461)),Oe=!1;function Sa(t,e,l,i){e.child=t===null?jc(e,null,l,i):ks(e,t.child,l,i)}function $f(t,e,l,i,r){l=l.render;var o=e.ref;if("ref"in i){var j={};for(var k in i)k!=="ref"&&(j[k]=i[k])}else j=i;return ci(e),i=nn(t,e,l,j,o,r),k=qn(),t!==null&&!Oe?(gc(t,e,r),Ye(t,e,r)):(ye&&k&&ku(e),e.flags|=1,Sa(t,e,i,r),e.child)}function uo(t,e,l,i,r){if(t===null){var o=l.type;return typeof o=="function"&&!Ds(o)&&o.defaultProps===void 0&&l.compare===null?(e.tag=15,e.type=o,td(t,e,o,i,r)):(t=Rs(l.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!ss(t,r)){var j=o.memoizedProps;if(l=l.compare,l=l!==null?l:Ms,l(j,i)&&t.ref===e.ref)return Ye(t,e,r)}return e.flags|=1,t=al(o,i),t.ref=e.ref,t.return=e,e.child=t}function td(t,e,l,i,r){if(t!==null){var o=t.memoizedProps;if(Ms(o,i)&&t.ref===e.ref)if(Oe=!1,e.pendingProps=i=o,ss(t,r))(t.flags&131072)!==0&&(Oe=!0);else return e.lanes=t.lanes,Ye(t,e,r)}return Qa(t,e,l,i,r)}function ed(t,e,l){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if((e.flags&128)!==0){if(i=o!==null?o.baseLanes|l:l,t!==null){for(r=e.child=t.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;e.childLanes=o&~i}else e.childLanes=0,e.child=null;return ad(t,e,i,l)}if((l&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ju(e,o!==null?o.cachePool:null),o!==null?ws(e,o):dc(),Pf(e);else return e.lanes=e.childLanes=536870912,ad(t,e,o!==null?o.baseLanes|l:l,l)}else o!==null?(Ju(e,o.cachePool),ws(e,o),Bl(),e.memoizedState=null):(t!==null&&Ju(e,null),dc(),Bl());return Sa(t,e,r,l),e.child}function ad(t,e,l,i){var r=It();return r=r===null?null:{parent:ea._currentValue,pool:r},e.memoizedState={baseLanes:l,cachePool:r},t!==null&&Ju(e,null),dc(),Pf(e),t!==null&&Pi(t,e,i,!0),null}function yi(t,e){var l=e.ref;if(l===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(C(284));(t===null||t.ref!==l)&&(e.flags|=4194816)}}function Qa(t,e,l,i,r){return ci(e),l=nn(t,e,l,i,void 0,r),i=qn(),t!==null&&!Oe?(gc(t,e,r),Ye(t,e,r)):(ye&&i&&ku(e),e.flags|=1,Sa(t,e,l,r),e.child)}function oo(t,e,l,i,r,o){return ci(e),e.updateQueue=null,l=xf(e,i,l,r),bf(t),i=qn(),t!==null&&!Oe?(gc(t,e,o),Ye(t,e,o)):(ye&&i&&ku(e),e.flags|=1,Sa(t,e,l,o),e.child)}function Hc(t,e,l,i,r){if(ci(e),e.stateNode===null){var o=Qi,j=l.contextType;typeof j=="object"&&j!==null&&(o=Ra(j)),o=new l(i,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=io,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=i,o.state=e.memoizedState,o.refs={},Hr(e),j=l.contextType,o.context=typeof j=="object"&&j!==null?Ra(j):Qi,o.state=e.memoizedState,j=l.getDerivedStateFromProps,typeof j=="function"&&(Uc(e,l,j,i),o.state=e.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(j=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),j!==o.state&&io.enqueueReplaceState(o,o.state,null),di(e,i,o,r),wr(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){o=e.stateNode;var k=e.memoizedProps,I=ql(l,k);o.props=I;var ht=o.context,bt=l.contextType;j=Qi,typeof bt=="object"&&bt!==null&&(j=Ra(bt));var St=l.getDerivedStateFromProps;bt=typeof St=="function"||typeof o.getSnapshotBeforeUpdate=="function",k=e.pendingProps!==k,bt||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(k||ht!==j)&&ls(e,o,i,j),rl=!1;var mt=e.memoizedState;o.state=mt,di(e,i,o,r),wr(),ht=e.memoizedState,k||mt!==ht||rl?(typeof St=="function"&&(Uc(e,l,St,i),ht=e.memoizedState),(I=rl||Gc(e,l,I,i,mt,ht,j))?(bt||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=ht),o.props=i,o.state=ht,o.context=j,i=I):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Br(t,e),j=e.memoizedProps,bt=ql(l,j),o.props=bt,St=e.pendingProps,mt=o.context,ht=l.contextType,I=Qi,typeof ht=="object"&&ht!==null&&(I=Ra(ht)),k=l.getDerivedStateFromProps,(ht=typeof k=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(j!==St||mt!==I)&&ls(e,o,i,I),rl=!1,mt=e.memoizedState,o.state=mt,di(e,i,o,r),wr();var yt=e.memoizedState;j!==St||mt!==yt||rl||t!==null&&t.dependencies!==null&&Zu(t.dependencies)?(typeof k=="function"&&(Uc(e,l,k,i),yt=e.memoizedState),(bt=rl||Gc(e,l,bt,i,mt,yt,I)||t!==null&&t.dependencies!==null&&Zu(t.dependencies))?(ht||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,yt,I),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,yt,I)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||j===t.memoizedProps&&mt===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&mt===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=yt),o.props=i,o.state=yt,o.context=I,i=bt):(typeof o.componentDidUpdate!="function"||j===t.memoizedProps&&mt===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&mt===t.memoizedState||(e.flags|=1024),i=!1)}return o=i,yi(t,e),i=(e.flags&128)!==0,o||i?(o=e.stateNode,l=i&&typeof l.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,t!==null&&i?(e.child=ks(e,t.child,null,r),e.child=ks(e,null,l,r)):Sa(t,e,l,r),e.memoizedState=o.state,t=e.child):t=Ye(t,e,r),t}function co(t,e,l,i){return js(),e.flags|=256,Sa(t,e,l,i),e.child}var fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vi(t){return{baseLanes:t,cachePool:an()}}function pi(t,e,l){return t=t!==null?t.childLanes&~l:0,e&&(t|=Na),t}function Ir(t,e,l){var i=e.pendingProps,r=!1,o=(e.flags&128)!==0,j;if((j=o)||(j=t!==null&&t.memoizedState===null?!1:(le.current&2)!==0),j&&(r=!0,e.flags&=-129),j=(e.flags&32)!==0,e.flags&=-33,t===null){if(ye){if(r?mi(e):Bl(),ye){var k=Xe,I;if(I=k){t:{for(I=k,k=ll;I.nodeType!==8;){if(!k){k=null;break t}if(I=Ql(I.nextSibling),I===null){k=null;break t}}k=I}k!==null?(e.memoizedState={dehydrated:k,treeContext:en!==null?{id:nl,overflow:Bn}:null,retryLane:536870912,hydrationErrors:null},I=tn(18,null,null,0),I.stateNode=k,I.return=e,e.child=I,Da=e,Xe=null,I=!0):I=!1}I||ri(e)}if(k=e.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return sh(k)?e.lanes=32:e.lanes=536870912,null;wl(e)}return k=i.children,i=i.fallback,r?(Bl(),r=e.mode,k=Za({mode:"hidden",children:k},r),i=Dl(i,r,l,null),k.return=e,i.return=e,k.sibling=i,e.child=k,r=e.child,r.memoizedState=vi(l),r.childLanes=pi(t,j,l),e.memoizedState=fo,i):(mi(e),Ks(e,k))}if(I=t.memoizedState,I!==null&&(k=I.dehydrated,k!==null)){if(o)e.flags&256?(mi(e),e.flags&=-257,e=un(t,e,l)):e.memoizedState!==null?(Bl(),e.child=t.child,e.flags|=128,e=null):(Bl(),r=i.fallback,k=e.mode,i=Za({mode:"visible",children:i.children},k),r=Dl(r,k,l,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,ks(e,t.child,null,l),i=e.child,i.memoizedState=vi(l),i.childLanes=pi(t,j,l),e.memoizedState=fo,e=r);else if(mi(e),sh(k)){if(j=k.nextSibling&&k.nextSibling.dataset,j)var ht=j.dgst;j=ht,i=Error(C(419)),i.stack="",i.digest=j,Us({value:i,source:null,stack:null}),e=un(t,e,l)}else if(Oe||Pi(t,e,l,!1),j=(l&t.childLanes)!==0,Oe||j){if(j=ze,j!==null&&(i=l&-l,i=(i&42)!==0?1:cu(i),i=(i&(j.suspendedLanes|l))!==0?0:i,i!==0&&i!==I.retryLane))throw I.retryLane=i,el(t,i),sa(j,t,i),If;k.data==="$?"||pl(),e=un(t,e,l)}else k.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=I.treeContext,Xe=Ql(k.nextSibling),Da=e,ye=!0,Fi=null,ll=!1,t!==null&&(mn[Cn++]=nl,mn[Cn++]=Bn,mn[Cn++]=en,nl=t.id,Bn=t.overflow,en=e),e=Ks(e,i.children),e.flags|=4096);return e}return r?(Bl(),r=i.fallback,k=e.mode,I=t.child,ht=I.sibling,i=al(I,{mode:"hidden",children:i.children}),i.subtreeFlags=I.subtreeFlags&65011712,ht!==null?r=al(ht,r):(r=Dl(r,k,l,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,k=t.child.memoizedState,k===null?k=vi(l):(I=k.cachePool,I!==null?(ht=ea._currentValue,I=I.parent!==ht?{parent:ht,pool:ht}:I):I=an(),k={baseLanes:k.baseLanes|l,cachePool:I}),r.memoizedState=k,r.childLanes=pi(t,j,l),e.memoizedState=fo,i):(mi(e),l=t.child,t=l.sibling,l=al(l,{mode:"visible",children:i.children}),l.return=e,l.sibling=null,t!==null&&(j=e.deletions,j===null?(e.deletions=[t],e.flags|=16):j.push(t)),e.child=l,e.memoizedState=null,l)}function Ks(t,e){return e=Za({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Za(t,e){return t=tn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function un(t,e,l){return ks(e,t.child,null,l),t=Ks(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bi(t,e,l){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Qu(t.return,e,l)}function Ln(t,e,l,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:l,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=l,o.tailMode=r)}function dl(t,e,l){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Sa(t,e,i.children,l),i=le.current,(i&2)!==0)i=i&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bi(t,l,e);else if(t.tag===19)bi(t,l,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(P(le,i),r){case"forwards":for(l=e.child,r=null;l!==null;)t=l.alternate,t!==null&&Jr(t)===null&&(r=l),l=l.sibling;l=r,l===null?(r=e.child,e.child=null):(r=l.sibling,l.sibling=null),Ln(e,!1,r,l,o);break;case"backwards":for(l=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Jr(t)===null){e.child=r;break}t=r.sibling,r.sibling=l,l=r,r=t}Ln(e,!0,l,null,o);break;case"together":Ln(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ye(t,e,l){if(t!==null&&(e.dependencies=t.dependencies),Ge|=e.lanes,(l&e.childLanes)===0)if(t!==null){if(Pi(t,e,l,!1),(l&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,l=al(t,t.pendingProps),e.child=l,l.return=e;t.sibling!==null;)t=t.sibling,l=l.sibling=al(t,t.pendingProps),l.return=e;l.sibling=null}return e.child}function ss(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Zu(t)))}function xi(t,e,l){switch(e.tag){case 3:rt(e,e.stateNode.containerInfo),An(e,ea,t.memoizedState.cache),js();break;case 27:case 5:At(e);break;case 4:rt(e,e.stateNode.containerInfo);break;case 10:An(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(mi(e),e.flags|=128,null):(l&e.child.childLanes)!==0?Ir(t,e,l):(mi(e),t=Ye(t,e,l),t!==null?t.sibling:null);mi(e);break;case 19:var r=(t.flags&128)!==0;if(i=(l&e.childLanes)!==0,i||(Pi(t,e,l,!1),i=(l&e.childLanes)!==0),r){if(i)return dl(t,e,l);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),P(le,le.current),i)break;return null;case 22:case 23:return e.lanes=0,ed(t,e,l);case 24:An(e,ea,t.memoizedState.cache)}return Ye(t,e,l)}function $r(t,e,l){if(t!==null)if(t.memoizedProps!==e.pendingProps)Oe=!0;else{if(!ss(t,l)&&(e.flags&128)===0)return Oe=!1,xi(t,e,l);Oe=(t.flags&131072)!==0}else Oe=!1,ye&&(e.flags&1048576)!==0&&nc(e,Rr,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var i=e.elementType,r=i._init;if(i=r(i._payload),e.type=i,typeof i=="function")Ds(i)?(t=ql(i,t),e.tag=1,e=Hc(null,e,i,t,l)):(e.tag=0,e=Qa(null,e,i,t,l));else{if(i!=null){if(r=i.$$typeof,r===U){e.tag=11,e=$f(null,e,i,t,l);break t}else if(r===W){e.tag=14,e=uo(null,e,i,t,l);break t}}throw e=st(i)||i,Error(C(306,e,""))}}return e;case 0:return Qa(t,e,e.type,e.pendingProps,l);case 1:return i=e.type,r=ql(i,e.pendingProps),Hc(t,e,i,r,l);case 3:t:{if(rt(e,e.stateNode.containerInfo),t===null)throw Error(C(387));i=e.pendingProps;var o=e.memoizedState;r=o.element,Br(t,e),di(e,i,null,l);var j=e.memoizedState;if(i=j.cache,An(e,ea,i),i!==o.cache&&_e(e,[ea],l,!0),wr(),i=j.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:j.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=co(t,e,i,l);break t}else if(i!==r){r=pa(Error(C(424)),e),Us(r),e=co(t,e,i,l);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Xe=Ql(t.firstChild),Da=e,ye=!0,Fi=null,ll=!0,l=jc(e,null,i,l),e.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(js(),i===r){e=Ye(t,e,l);break t}Sa(t,e,i,l)}e=e.child}return e;case 26:return yi(t,e),t===null?(l=m1(e.type,null,e.pendingProps,null))?e.memoizedState=l:ye||(l=e.type,t=e.pendingProps,i=od(it.current).createElement(l),i[We]=e,i[Va]=t,Wa(i,l,t),fa(i),e.stateNode=i):e.memoizedState=m1(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return At(e),t===null&&ye&&(i=e.stateNode=d1(e.type,e.pendingProps,it.current),Da=e,ll=!0,r=Xe,nr(e.type)?(rh=r,Xe=Ql(i.firstChild)):Xe=r),Sa(t,e,e.pendingProps.children,l),yi(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ye&&((r=i=Xe)&&(i=Bg(i,e.type,e.pendingProps,ll),i!==null?(e.stateNode=i,Da=e,Xe=Ql(i.firstChild),ll=!1,r=!0):r=!1),r||ri(e)),At(e),r=e.type,o=e.pendingProps,j=t!==null?t.memoizedProps:null,i=o.children,nh(r,o)?i=null:j!==null&&nh(r,j)&&(e.flags|=32),e.memoizedState!==null&&(r=nn(t,e,xa,null,null,l),Fc._currentValue=r),yi(t,e),Sa(t,e,i,l),e.child;case 6:return t===null&&ye&&((t=l=Xe)&&(l=wg(l,e.pendingProps,ll),l!==null?(e.stateNode=l,Da=e,Xe=null,t=!0):t=!1),t||ri(e)),null;case 13:return Ir(t,e,l);case 4:return rt(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ks(e,null,i,l):Sa(t,e,i,l),e.child;case 11:return $f(t,e,e.type,e.pendingProps,l);case 7:return Sa(t,e,e.pendingProps,l),e.child;case 8:return Sa(t,e,e.pendingProps.children,l),e.child;case 12:return Sa(t,e,e.pendingProps.children,l),e.child;case 10:return i=e.pendingProps,An(e,e.type,i.value),Sa(t,e,i.children,l),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,ci(e),r=Ra(r),i=i(r),e.flags|=1,Sa(t,e,i,l),e.child;case 14:return uo(t,e,e.type,e.pendingProps,l);case 15:return td(t,e,e.type,e.pendingProps,l);case 19:return dl(t,e,l);case 31:return i=e.pendingProps,l=e.mode,i={mode:i.mode,children:i.children},t===null?(l=Za(i,l),l.ref=e.ref,e.child=l,l.return=e,e=l):(l=al(t.child,i),l.ref=e.ref,e.child=l,l.return=e,e=l),e;case 22:return ed(t,e,l);case 24:return ci(e),i=Ra(ea),t===null?(r=It(),r===null&&(r=ze,o=Gs(),r.pooledCache=o,o.refCount++,o!==null&&(r.pooledCacheLanes|=l),r=o),e.memoizedState={parent:i,cache:r},Hr(e),An(e,ea,r)):((t.lanes&l)!==0&&(Br(t,e),di(e,null,null,l),wr()),r=t.memoizedState,o=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),An(e,ea,i)):(i=o.cache,An(e,ea,i),i!==r.cache&&_e(e,[ea],l,!0))),Sa(t,e,e.pendingProps.children,l),e.child;case 29:throw e.pendingProps}throw Error(C(156,e.tag))}function Fe(t){t.flags|=4}function na(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!x1(e)){if(e=yn.current,e!==null&&((ce&4194048)===ce?fl!==null:(ce&62914560)!==ce&&(ce&536870912)===0||e!==fl))throw Gr=fi,vf;t.flags|=8192}}function he(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Jl():536870912,t.lanes|=e,Ws|=e)}function Vn(t,e){if(!ye)switch(t.tailMode){case"hidden":e=t.tail;for(var l=null;e!==null;)e.alternate!==null&&(l=e),e=e.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var i=null;l!==null;)l.alternate!==null&&(i=l),l=l.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Se(t){var e=t.alternate!==null&&t.alternate.child===t.child,l=0,i=0;if(e)for(var r=t.child;r!==null;)l|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)l|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=l,e}function Bc(t,e,l){var i=e.pendingProps;switch(Xu(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(e),null;case 1:return Se(e),null;case 3:return l=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),sl(ea),Nt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(ui(e)?Fe(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,sc())),Se(e),null;case 26:return l=e.memoizedState,t===null?(Fe(e),l!==null?(Se(e),na(e,l)):(Se(e),e.flags&=-16777217)):l?l!==t.memoizedState?(Fe(e),Se(e),na(e,l)):(Se(e),e.flags&=-16777217):(t.memoizedProps!==i&&Fe(e),Se(e),e.flags&=-16777217),null;case 27:zt(e),l=it.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Fe(e);else{if(!i){if(e.stateNode===null)throw Error(C(166));return Se(e),null}t=ft.current,ui(e)?ic(e):(t=d1(r,i,l),e.stateNode=t,Fe(e))}return Se(e),null;case 5:if(zt(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Fe(e);else{if(!i){if(e.stateNode===null)throw Error(C(166));return Se(e),null}if(t=ft.current,ui(e))ic(e);else{switch(r=od(it.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?r.createElement(l,{is:i.is}):r.createElement(l)}}t[We]=e,t[Va]=i;t:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;t:switch(Wa(t,l,i),l){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Fe(e)}}return Se(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Fe(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(C(166));if(t=it.current,ui(e)){if(t=e.stateNode,l=e.memoizedProps,i=null,r=Da,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[We]=e,t=!!(t.nodeValue===l||i!==null&&i.suppressHydrationWarning===!0||i1(t.nodeValue,l)),t||ri(e)}else t=od(t).createTextNode(i),t[We]=e,e.stateNode=t}return Se(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=ui(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(C(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(C(317));r[We]=e}else js(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Se(e),r=!1}else r=sc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(wl(e),e):(wl(e),null)}if(wl(e),(e.flags&128)!==0)return e.lanes=l,e;if(l=i!==null,t=t!==null&&t.memoizedState!==null,l){i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var o=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048)}return l!==t&&l&&(e.child.flags|=8192),he(e,e.updateQueue),Se(e),null;case 4:return Nt(),t===null&&Id(e.stateNode.containerInfo),Se(e),null;case 10:return sl(e.type),Se(e),null;case 19:if(nt(le),r=e.memoizedState,r===null)return Se(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)Vn(r,!1);else{if(te!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=Jr(t),o!==null){for(e.flags|=128,Vn(r,!1),t=o.updateQueue,e.updateQueue=t,he(e,t),e.subtreeFlags=0,t=l,l=e.child;l!==null;)Vu(l,t),l=l.sibling;return P(le,le.current&1|2),e.child}t=t.sibling}r.tail!==null&&Vt()>os&&(e.flags|=128,i=!0,Vn(r,!1),e.lanes=4194304)}else{if(!i)if(t=Jr(o),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,he(e,t),Vn(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ye)return Se(e),null}else 2*Vt()-r.renderingStartTime>os&&l!==536870912&&(e.flags|=128,i=!0,Vn(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Vt(),e.sibling=null,t=le.current,P(le,i?t&1|2:t&1),e):(Se(e),null);case 22:case 23:return wl(e),hc(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?(l&536870912)!==0&&(e.flags&128)===0&&(Se(e),e.subtreeFlags&6&&(e.flags|=8192)):Se(e),l=e.updateQueue,l!==null&&he(e,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==l&&(e.flags|=2048),t!==null&&nt(jl),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),e.memoizedState.cache!==l&&(e.flags|=2048),sl(ea),Se(e),null;case 25:return null;case 30:return null}throw Error(C(156,e.tag))}function vn(t,e){switch(Xu(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sl(ea),Nt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return zt(e),null;case 13:if(wl(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));js()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(le),null;case 4:return Nt(),null;case 10:return sl(e.type),null;case 22:case 23:return wl(e),hc(),t!==null&&nt(jl),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return sl(ea),null;case 25:return null;default:return null}}function tu(t,e){switch(Xu(e),e.tag){case 3:sl(ea),Nt();break;case 26:case 27:case 5:zt(e);break;case 4:Nt();break;case 13:wl(e);break;case 19:nt(le);break;case 10:sl(e.type);break;case 22:case 23:wl(e),hc(),t!==null&&nt(jl);break;case 24:sl(ea)}}function Yn(t,e){try{var l=e.updateQueue,i=l!==null?l.lastEffect:null;if(i!==null){var r=i.next;l=r;do{if((l.tag&t)===t){i=void 0;var o=l.create,j=l.inst;i=o(),j.destroy=i}l=l.next}while(l!==r)}}catch(k){ct(e,e.return,k)}}function ja(t,e,l){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var o=r.next;i=o;do{if((i.tag&t)===t){var j=i.inst,k=j.destroy;if(k!==void 0){j.destroy=void 0,r=e;var I=l,ht=k;try{ht()}catch(bt){ct(r,I,bt)}}}i=i.next}while(i!==o)}}catch(bt){ct(e,e.return,bt)}}function nd(t){var e=t.updateQueue;if(e!==null){var l=t.stateNode;try{pf(e,l)}catch(i){ct(t,t.return,i)}}}function ld(t,e,l){l.props=ql(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(i){ct(t,e,i)}}function eu(t,e){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof l=="function"?t.refCleanup=l(i):l.current=i}}catch(r){ct(t,e,r)}}function Ee(t,e){var l=t.ref,i=t.refCleanup;if(l!==null)if(typeof i=="function")try{i()}catch(r){ct(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(r){ct(t,e,r)}else l.current=null}function au(t){var e=t.type,l=t.memoizedProps,i=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":l.autoFocus&&i.focus();break t;case"img":l.src?i.src=l.src:l.srcSet&&(i.srcset=l.srcSet)}}catch(r){ct(t,t.return,r)}}function Si(t,e,l){try{var i=t.stateNode;Rg(i,t.type,l,e),i[Va]=e}catch(r){ct(t,t.return,r)}}function ho(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&nr(t.type)||t.tag===4}function Qs(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ho(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nu(t,e,l){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,e):(e=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,e.appendChild(t),l=l._reactRootContainer,l!=null||e.onclick!==null||(e.onclick=ud));else if(i!==4&&(i===27&&nr(t.type)&&(l=t.stateNode,e=null),t=t.child,t!==null))for(nu(t,e,l),t=t.sibling;t!==null;)nu(t,e,l),t=t.sibling}function Vl(t,e,l){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?l.insertBefore(t,e):l.appendChild(t);else if(i!==4&&(i===27&&nr(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Vl(t,e,l),t=t.sibling;t!==null;)Vl(t,e,l),t=t.sibling}function Zs(t){var e=t.stateNode,l=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Wa(e,i,l),e[We]=t,e[Va]=l}catch(o){ct(t,t.return,o)}}var kn=!1,Be=!1,_i=!1,wc=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Qd(t,e){if(t=t.containerInfo,eh=md,t=$o(t),ki(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else t:{l=(l=t.ownerDocument)&&l.defaultView||window;var i=l.getSelection&&l.getSelection();if(i&&i.rangeCount!==0){l=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{l.nodeType,o.nodeType}catch{l=null;break t}var j=0,k=-1,I=-1,ht=0,bt=0,St=t,mt=null;e:for(;;){for(var yt;St!==l||r!==0&&St.nodeType!==3||(k=j+r),St!==o||i!==0&&St.nodeType!==3||(I=j+i),St.nodeType===3&&(j+=St.nodeValue.length),(yt=St.firstChild)!==null;)mt=St,St=yt;for(;;){if(St===t)break e;if(mt===l&&++ht===r&&(k=j),mt===o&&++bt===i&&(I=j),(yt=St.nextSibling)!==null)break;St=mt,mt=St.parentNode}St=yt}l=k===-1||I===-1?null:{start:k,end:I}}else l=null}l=l||{start:0,end:0}}else l=null;for(ah={focusedElem:t,selectionRange:l},md=!1,Ke=e;Ke!==null;)if(e=Ke,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Ke=t;else for(;Ke!==null;){switch(e=Ke,o=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&o!==null){t=void 0,l=e,r=o.memoizedProps,o=o.memoizedState,i=l.stateNode;try{var Zt=ql(l.type,r,l.elementType===l.type);t=i.getSnapshotBeforeUpdate(Zt,o),i.__reactInternalSnapshotBeforeUpdate=t}catch(Yt){ct(l,l.return,Yt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,l=t.nodeType,l===9)ih(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ih(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(C(163))}if(t=e.sibling,t!==null){t.return=e.return,Ke=t;break}Ke=e.return}}function Fs(t,e,l){var i=l.flags;switch(l.tag){case 0:case 11:case 15:oe(t,l),i&4&&Yn(5,l);break;case 1:if(oe(t,l),i&4)if(t=l.stateNode,e===null)try{t.componentDidMount()}catch(j){ct(l,l.return,j)}else{var r=ql(l.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(j){ct(l,l.return,j)}}i&64&&nd(l),i&512&&eu(l,l.return);break;case 3:if(oe(t,l),i&64&&(t=l.updateQueue,t!==null)){if(e=null,l.child!==null)switch(l.child.tag){case 27:case 5:e=l.child.stateNode;break;case 1:e=l.child.stateNode}try{pf(t,e)}catch(j){ct(l,l.return,j)}}break;case 27:e===null&&i&4&&Zs(l);case 26:case 5:oe(t,l),e===null&&i&4&&au(l),i&512&&eu(l,l.return);break;case 12:oe(t,l);break;case 13:oe(t,l),i&4&&rs(t,l),i&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=Dt.bind(null,l),qg(t,l))));break;case 22:if(i=l.memoizedState!==null||kn,!i){e=e!==null&&e.memoizedState!==null||Be,r=kn;var o=Be;kn=i,(Be=e)&&!o?Xn(t,l,(l.subtreeFlags&8772)!==0):oe(t,l),kn=r,Be=o}break;case 30:break;default:oe(t,l)}}function go(t){var e=t.alternate;e!==null&&(t.alternate=null,go(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&hr(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ue=null,Ea=!1;function on(t,e,l){for(l=l.child;l!==null;)pn(t,e,l),l=l.sibling}function pn(t,e,l){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(He,l)}catch{}switch(l.tag){case 26:Be||Ee(l,e),on(t,e,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Be||Ee(l,e);var i=Ue,r=Ea;nr(l.type)&&(Ue=l.stateNode,Ea=!1),on(t,e,l),Xc(l.stateNode),Ue=i,Ea=r;break;case 5:Be||Ee(l,e);case 6:if(i=Ue,r=Ea,Ue=null,on(t,e,l),Ue=i,Ea=r,Ue!==null)if(Ea)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(l.stateNode)}catch(o){ct(l,e,o)}else try{Ue.removeChild(l.stateNode)}catch(o){ct(l,e,o)}break;case 18:Ue!==null&&(Ea?(t=Ue,c1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),Ic(t)):c1(Ue,l.stateNode));break;case 4:i=Ue,r=Ea,Ue=l.stateNode.containerInfo,Ea=!0,on(t,e,l),Ue=i,Ea=r;break;case 0:case 11:case 14:case 15:Be||ja(2,l,e),Be||ja(4,l,e),on(t,e,l);break;case 1:Be||(Ee(l,e),i=l.stateNode,typeof i.componentWillUnmount=="function"&&ld(l,e,i)),on(t,e,l);break;case 21:on(t,e,l);break;case 22:Be=(i=Be)||l.memoizedState!==null,on(t,e,l),Be=i;break;default:on(t,e,l)}}function rs(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ic(t)}catch(l){ct(e,e.return,l)}}function qc(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new wc),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new wc),e;default:throw Error(C(435,t.tag))}}function hl(t,e){var l=qc(t);e.forEach(function(i){var r=Pt.bind(null,t,i);l.has(i)||(l.add(i),i.then(r,r))})}function Fa(t,e){var l=e.deletions;if(l!==null)for(var i=0;i<l.length;i++){var r=l[i],o=t,j=e,k=j;t:for(;k!==null;){switch(k.tag){case 27:if(nr(k.type)){Ue=k.stateNode,Ea=!1;break t}break;case 5:Ue=k.stateNode,Ea=!1;break t;case 3:case 4:Ue=k.stateNode.containerInfo,Ea=!0;break t}k=k.return}if(Ue===null)throw Error(C(160));pn(o,j,r),Ue=null,Ea=!1,o=r.alternate,o!==null&&(o.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)lu(e,t),e=e.sibling}var Ua=null;function lu(t,e){var l=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Fa(e,t),la(t),i&4&&(ja(3,t,t.return),Yn(3,t),ja(5,t,t.return));break;case 1:Fa(e,t),la(t),i&512&&(Be||l===null||Ee(l,l.return)),i&64&&kn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?i:l.concat(i))));break;case 26:var r=Ua;if(Fa(e,t),la(t),i&512&&(Be||l===null||Ee(l,l.return)),i&4){var o=l!==null?l.memoizedState:null;if(i=t.memoizedState,l===null)if(i===null)if(t.stateNode===null){t:{i=t.type,l=t.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":o=r.getElementsByTagName("title")[0],(!o||o[_l]||o[We]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=r.createElement(i),r.head.insertBefore(o,r.querySelector("head > title"))),Wa(o,i,l),o[We]=t,fa(o),i=o;break t;case"link":var j=p1("link","href",r).get(i+(l.href||""));if(j){for(var k=0;k<j.length;k++)if(o=j[k],o.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&o.getAttribute("rel")===(l.rel==null?null:l.rel)&&o.getAttribute("title")===(l.title==null?null:l.title)&&o.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){j.splice(k,1);break e}}o=r.createElement(i),Wa(o,i,l),r.head.appendChild(o);break;case"meta":if(j=p1("meta","content",r).get(i+(l.content||""))){for(k=0;k<j.length;k++)if(o=j[k],o.getAttribute("content")===(l.content==null?null:""+l.content)&&o.getAttribute("name")===(l.name==null?null:l.name)&&o.getAttribute("property")===(l.property==null?null:l.property)&&o.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&o.getAttribute("charset")===(l.charSet==null?null:l.charSet)){j.splice(k,1);break e}}o=r.createElement(i),Wa(o,i,l),r.head.appendChild(o);break;default:throw Error(C(468,i))}o[We]=t,fa(o),i=o}t.stateNode=i}else b1(r,t.type,t.stateNode);else t.stateNode=v1(r,i,t.memoizedProps);else o!==i?(o===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):o.count--,i===null?b1(r,t.type,t.stateNode):v1(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Si(t,t.memoizedProps,l.memoizedProps)}break;case 27:Fa(e,t),la(t),i&512&&(Be||l===null||Ee(l,l.return)),l!==null&&i&4&&Si(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Fa(e,t),la(t),i&512&&(Be||l===null||Ee(l,l.return)),t.flags&32){r=t.stateNode;try{Hi(r,"")}catch(yt){ct(t,t.return,yt)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,Si(t,r,l!==null?l.memoizedProps:r)),i&1024&&(_i=!0);break;case 6:if(Fa(e,t),la(t),i&4){if(t.stateNode===null)throw Error(C(162));i=t.memoizedProps,l=t.stateNode;try{l.nodeValue=i}catch(yt){ct(t,t.return,yt)}}break;case 3:if(dd=null,r=Ua,Ua=cd(e.containerInfo),Fa(e,t),Ua=r,la(t),i&4&&l!==null&&l.memoizedState.isDehydrated)try{Ic(e.containerInfo)}catch(yt){ct(t,t.return,yt)}_i&&(_i=!1,Wt(t));break;case 4:i=Ua,Ua=cd(t.stateNode.containerInfo),Fa(e,t),la(t),Ua=i;break;case 12:Fa(e,t),la(t);break;case 13:Fa(e,t),la(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&($s=Vt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,hl(t,i)));break;case 22:r=t.memoizedState!==null;var I=l!==null&&l.memoizedState!==null,ht=kn,bt=Be;if(kn=ht||r,Be=bt||I,Fa(e,t),Be=bt,kn=ht,la(t),i&8192)t:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(l===null||I||kn||Be||we(t)),l=null,e=t;;){if(e.tag===5||e.tag===26){if(l===null){I=l=e;try{if(o=I.stateNode,r)j=o.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{k=I.stateNode;var St=I.memoizedProps.style,mt=St!=null&&St.hasOwnProperty("display")?St.display:null;k.style.display=mt==null||typeof mt=="boolean"?"":(""+mt).trim()}}catch(yt){ct(I,I.return,yt)}}}else if(e.tag===6){if(l===null){I=e;try{I.stateNode.nodeValue=r?"":I.memoizedProps}catch(yt){ct(I,I.return,yt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;l===e&&(l=null),e=e.return}l===e&&(l=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(l=i.retryQueue,l!==null&&(i.retryQueue=null,hl(t,l))));break;case 19:Fa(e,t),la(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,hl(t,i)));break;case 30:break;case 21:break;default:Fa(e,t),la(t)}}function la(t){var e=t.flags;if(e&2){try{for(var l,i=t.return;i!==null;){if(ho(i)){l=i;break}i=i.return}if(l==null)throw Error(C(160));switch(l.tag){case 27:var r=l.stateNode,o=Qs(t);Vl(t,o,r);break;case 5:var j=l.stateNode;l.flags&32&&(Hi(j,""),l.flags&=-33);var k=Qs(t);Vl(t,k,j);break;case 3:case 4:var I=l.stateNode.containerInfo,ht=Qs(t);nu(t,ht,I);break;default:throw Error(C(161))}}catch(bt){ct(t,t.return,bt)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Wt(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Wt(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function oe(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Fs(t,e.alternate,e),e=e.sibling}function we(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ja(4,e,e.return),we(e);break;case 1:Ee(e,e.return);var l=e.stateNode;typeof l.componentWillUnmount=="function"&&ld(e,e.return,l),we(e);break;case 27:Xc(e.stateNode);case 26:case 5:Ee(e,e.return),we(e);break;case 22:e.memoizedState===null&&we(e);break;case 30:we(e);break;default:we(e)}t=t.sibling}}function Xn(t,e,l){for(l=l&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,o=e,j=o.flags;switch(o.tag){case 0:case 11:case 15:Xn(r,o,l),Yn(4,o);break;case 1:if(Xn(r,o,l),i=o,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(ht){ct(i,i.return,ht)}if(i=o,r=i.updateQueue,r!==null){var k=i.stateNode;try{var I=r.shared.hiddenCallbacks;if(I!==null)for(r.shared.hiddenCallbacks=null,r=0;r<I.length;r++)wt(I[r],k)}catch(ht){ct(i,i.return,ht)}}l&&j&64&&nd(o),eu(o,o.return);break;case 27:Zs(o);case 26:case 5:Xn(r,o,l),l&&i===null&&j&4&&au(o),eu(o,o.return);break;case 12:Xn(r,o,l);break;case 13:Xn(r,o,l),l&&j&4&&rs(r,o);break;case 22:o.memoizedState===null&&Xn(r,o,l),eu(o,o.return);break;case 30:break;default:Xn(r,o,l)}e=e.sibling}}function Ei(t,e){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&wn(l))}function Yl(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&wn(t))}function bn(t,e,l,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Js(t,e,l,i),e=e.sibling}function Js(t,e,l,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:bn(t,e,l,i),r&2048&&Yn(9,e);break;case 1:bn(t,e,l,i);break;case 3:bn(t,e,l,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&wn(t)));break;case 12:if(r&2048){bn(t,e,l,i),t=e.stateNode;try{var o=e.memoizedProps,j=o.id,k=o.onPostCommit;typeof k=="function"&&k(j,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){ct(e,e.return,I)}}else bn(t,e,l,i);break;case 13:bn(t,e,l,i);break;case 23:break;case 22:o=e.stateNode,j=e.alternate,e.memoizedState!==null?o._visibility&2?bn(t,e,l,i):iu(t,e):o._visibility&2?bn(t,e,l,i):(o._visibility|=2,Kn(t,e,l,i,(e.subtreeFlags&10256)!==0)),r&2048&&Ei(j,e);break;case 24:bn(t,e,l,i),r&2048&&Yl(e.alternate,e);break;default:bn(t,e,l,i)}}function Kn(t,e,l,i,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=t,j=e,k=l,I=i,ht=j.flags;switch(j.tag){case 0:case 11:case 15:Kn(o,j,k,I,r),Yn(8,j);break;case 23:break;case 22:var bt=j.stateNode;j.memoizedState!==null?bt._visibility&2?Kn(o,j,k,I,r):iu(o,j):(bt._visibility|=2,Kn(o,j,k,I,r)),r&&ht&2048&&Ei(j.alternate,j);break;case 24:Kn(o,j,k,I,r),r&&ht&2048&&Yl(j.alternate,j);break;default:Kn(o,j,k,I,r)}e=e.sibling}}function iu(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var l=t,i=e,r=i.flags;switch(i.tag){case 22:iu(l,i),r&2048&&Ei(i.alternate,i);break;case 24:iu(l,i),r&2048&&Yl(i.alternate,i);break;default:iu(l,i)}e=e.sibling}}var Ni=8192;function us(t){if(t.subtreeFlags&Ni)for(t=t.child;t!==null;)Lc(t),t=t.sibling}function Lc(t){switch(t.tag){case 26:us(t),t.flags&Ni&&t.memoizedState!==null&&Ig(Ua,t.memoizedState,t.memoizedProps);break;case 5:us(t);break;case 3:case 4:var e=Ua;Ua=cd(t.stateNode.containerInfo),us(t),Ua=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Ni,Ni=16777216,us(t),Ni=e):us(t));break;default:us(t)}}function id(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function gl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var l=0;l<e.length;l++){var i=e[l];Ke=i,Vc(i,t)}id(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ps(t),t=t.sibling}function Ps(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&ja(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,kl(t)):gl(t);break;default:gl(t)}}function kl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var l=0;l<e.length;l++){var i=e[l];Ke=i,Vc(i,t)}id(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ja(8,e,e.return),kl(e);break;case 22:l=e.stateNode,l._visibility&2&&(l._visibility&=-3,kl(e));break;default:kl(e)}t=t.sibling}}function Vc(t,e){for(;Ke!==null;){var l=Ke;switch(l.tag){case 0:case 11:case 15:ja(8,l,e);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var i=l.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:wn(l.memoizedState.cache)}if(i=l.child,i!==null)i.return=l,Ke=i;else t:for(l=t;Ke!==null;){i=Ke;var r=i.sibling,o=i.return;if(go(i),i===l){Ke=null;break t}if(r!==null){r.return=o,Ke=r;break t}Ke=o}}}var On={getCacheForType:function(t){var e=Ra(ea),l=e.data.get(t);return l===void 0&&(l=t(),e.data.set(t,l)),l}},ml=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ze=null,ne=null,ce=0,Qt=0,Ja=null,Ga=!1,qe=!1,su=!1,yl=0,te=0,Ge=0,ia=0,xn=0,Na=0,Ws=0,Ci=null,Ca=null,Is=!1,$s=0,os=1/0,Ti=null,Ai=null,Lt=0,ve=null,Jt=null,ee=0,Ne=0,Pa=null,Xl=null,vl=0,ru=null;function $e(){if((Kt&2)!==0&&ce!==0)return ce&-ce;if(tt.T!==null){var t=Hs;return t!==0?t:Fd()}return fr()}function Je(){Na===0&&(Na=(ce&536870912)===0||ye?ys():536870912);var t=yn.current;return t!==null&&(t.flags|=32),Na}function sa(t,e,l){(t===ze&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(zi(t,0),Sn(t,ce,Na,!1)),Mt(t,l),((Kt&2)===0||t!==ze)&&(t===ze&&((Kt&2)===0&&(ia|=l),te===4&&Sn(t,ce,Na,!1)),Ut(t))}function Mi(t,e,l){if((Kt&6)!==0)throw Error(C(327));var i=!l&&(e&124)===0&&(e&t.expiredLanes)===0||Fl(t,e),r=i?er(t,e):ha(t,e,!0),o=i;do{if(r===0){qe&&!i&&Sn(t,e,0,!1);break}else{if(l=t.current.alternate,o&&!zn(l)){r=ha(t,e,!1),o=!1;continue}if(r===2){if(o=e,t.errorRecoveryDisabledLanes&o)var j=0;else j=t.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){e=j;t:{var k=t;r=Ci;var I=k.current.memoizedState.isDehydrated;if(I&&(zi(k,j).flags|=256),j=ha(k,j,!1),j!==2){if(su&&!I){k.errorRecoveryDisabledLanes|=o,ia|=o,r=4;break t}o=Ca,Ca=r,o!==null&&(Ca===null?Ca=o:Ca.push.apply(Ca,o))}r=j}if(o=!1,r!==2)continue}}if(r===1){zi(t,0),Sn(t,e,0,!0);break}t:{switch(i=t,o=r,o){case 0:case 1:throw Error(C(345));case 4:if((e&4194048)!==e)break;case 6:Sn(i,e,Na,!Ga);break t;case 2:Ca=null;break;case 3:case 5:break;default:throw Error(C(329))}if((e&62914560)===e&&(r=$s+300-Vt(),10<r)){if(Sn(i,e,Na,!Ga),Zl(i,0,!0)!==0)break t;i.timeoutHandle=u1(mo.bind(null,i,l,Ca,Ti,Is,e,Na,ia,Ws,Ga,o,2,-0,0),r);break t}mo(i,l,Ca,Ti,Is,e,Na,ia,Ws,Ga,o,0,-0,0)}}break}while(!0);Ut(t)}function mo(t,e,l,i,r,o,j,k,I,ht,bt,St,mt,yt){if(t.timeoutHandle=-1,St=e.subtreeFlags,(St&8192||(St&16785408)===16785408)&&(Zc={stylesheets:null,count:0,unsuspend:Wg},Lc(e),St=$g(),St!==null)){t.cancelPendingCommit=St(a.bind(null,t,e,o,l,i,r,j,k,I,bt,1,mt,yt)),Sn(t,o,j,!ht);return}a(t,e,o,l,i,r,j,k,I)}function zn(t){for(var e=t;;){var l=e.tag;if((l===0||l===11||l===15)&&e.flags&16384&&(l=e.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var i=0;i<l.length;i++){var r=l[i],o=r.getSnapshot;r=r.value;try{if(!hn(o(),r))return!1}catch{return!1}}if(l=e.child,e.subtreeFlags&16384&&l!==null)l.return=e,e=l;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sn(t,e,l,i){e&=~xn,e&=~ia,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var o=31-Re(r),j=1<<o;i[o]=-1,r&=~j}l!==0&&Gn(t,l,e)}function Oi(){return(Kt&6)===0?(Ae(0),!1):!0}function Ha(){if(ne!==null){if(Qt===0)var t=ne.return;else t=ne,il=oi=null,mc(t),Ys=null,Ka=0,t=ne;for(;t!==null;)tu(t.alternate,t),t=t.return;ne=null}}function zi(t,e){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,Ug(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Ha(),ze=t,ne=l=al(t.current,null),ce=e,Qt=0,Ja=null,Ga=!1,qe=Fl(t,e),su=!1,Ws=Na=xn=ia=Ge=te=0,Ca=Ci=null,Is=!1,(e&8)!==0&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-Re(i),o=1<<r;e|=t[r],i&=~o}return yl=e,gn(),l}function yo(t,e){$t=null,tt.H=lo,e===$i||e===ts?(e=cc(),Qt=3):e===vf?(e=cc(),Qt=4):Qt=e===If?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ja=e,ne===null&&(te=1,so(t,pa(e,t.current)))}function tr(){var t=tt.H;return tt.H=lo,t===null?lo:t}function uu(){var t=tt.A;return tt.A=On,t}function pl(){te=4,Ga||(ce&4194048)!==ce&&yn.current!==null||(qe=!0),(Ge&134217727)===0&&(ia&134217727)===0||ze===null||Sn(ze,ce,Na,!1)}function ha(t,e,l){var i=Kt;Kt|=2;var r=tr(),o=uu();(ze!==t||ce!==e)&&(Ti=null,zi(t,e)),e=!1;var j=te;t:do try{if(Qt!==0&&ne!==null){var k=ne,I=Ja;switch(Qt){case 8:Ha(),j=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(e=!0);var ht=Qt;if(Qt=0,Ja=null,cs(t,k,I,ht),l&&qe){j=0;break t}break;default:ht=Qt,Qt=0,Ja=null,cs(t,k,I,ht)}}Di(),j=te;break}catch(bt){yo(t,bt)}while(!0);return e&&t.shellSuspendCounter++,il=oi=null,Kt=i,tt.H=r,tt.A=o,ne===null&&(ze=null,ce=0,gn()),j}function Di(){for(;ne!==null;)vo(ne)}function er(t,e){var l=Kt;Kt|=2;var i=tr(),r=uu();ze!==t||ce!==e?(Ti=null,os=Vt()+500,zi(t,e)):qe=Fl(t,e);t:do try{if(Qt!==0&&ne!==null){e=ne;var o=Ja;e:switch(Qt){case 1:Qt=0,Ja=null,cs(t,e,o,1);break;case 2:case 9:if(es(o)){Qt=0,Ja=null,po(e);break}e=function(){Qt!==2&&Qt!==9||ze!==t||(Qt=7),Ut(t)},o.then(e,e);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:es(o)?(Qt=0,Ja=null,po(e)):(Qt=0,Ja=null,cs(t,e,o,7));break;case 5:var j=null;switch(ne.tag){case 26:j=ne.memoizedState;case 5:case 27:var k=ne;if(!j||x1(j)){Qt=0,Ja=null;var I=k.sibling;if(I!==null)ne=I;else{var ht=k.return;ht!==null?(ne=ht,Ri(ht)):ne=null}break e}}Qt=0,Ja=null,cs(t,e,o,5);break;case 6:Qt=0,Ja=null,cs(t,e,o,6);break;case 8:Ha(),te=6;break t;default:throw Error(C(462))}}ar();break}catch(bt){yo(t,bt)}while(!0);return il=oi=null,tt.H=i,tt.A=r,Kt=l,ne!==null?0:(ze=null,ce=0,gn(),te)}function ar(){for(;ne!==null&&!jt();)vo(ne)}function vo(t){var e=$r(t.alternate,t,yl);t.memoizedProps=t.pendingProps,e===null?Ri(t):ne=e}function po(t){var e=t,l=e.alternate;switch(e.tag){case 15:case 0:e=oo(l,e,e.pendingProps,e.type,void 0,ce);break;case 11:e=oo(l,e,e.pendingProps,e.type.render,e.ref,ce);break;case 5:mc(e);default:tu(l,e),e=ne=Vu(e,yl),e=$r(l,e,yl)}t.memoizedProps=t.pendingProps,e===null?Ri(t):ne=e}function cs(t,e,l,i){il=oi=null,mc(e),Ys=null,Ka=0;var r=e.return;try{if(Kd(t,r,e,l,ce)){te=1,so(t,pa(l,t.current)),ne=null;return}}catch(o){if(r!==null)throw ne=r,o;te=1,so(t,pa(l,t.current)),ne=null;return}e.flags&32768?(ye||i===1?t=!0:qe||(ce&536870912)!==0?t=!1:(Ga=t=!0,(i===2||i===9||i===3||i===6)&&(i=yn.current,i!==null&&i.tag===13&&(i.flags|=16384))),bo(e,t)):Ri(e)}function Ri(t){var e=t;do{if((e.flags&32768)!==0){bo(e,Ga);return}t=e.return;var l=Bc(e.alternate,e,yl);if(l!==null){ne=l;return}if(e=e.sibling,e!==null){ne=e;return}ne=e=t}while(e!==null);te===0&&(te=5)}function bo(t,e){do{var l=vn(t.alternate,t);if(l!==null){l.flags&=32767,ne=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!e&&(t=t.sibling,t!==null)){ne=t;return}ne=t=l}while(t!==null);te=6,ne=null}function a(t,e,l,i,r,o,j,k,I){t.cancelPendingCommit=null;do g();while(Lt!==0);if((Kt&6)!==0)throw Error(C(327));if(e!==null){if(e===t.current)throw Error(C(177));if(o=e.lanes|e.childLanes,o|=Ar,ta(t,l,o,j,k,I),t===ze&&(ne=ze=null,ce=0),Jt=e,ve=t,ee=l,Ne=o,Pa=r,Xl=i,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Dn(va,function(){return K(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||i){i=tt.T,tt.T=null,r=O.p,O.p=2,j=Kt,Kt|=4;try{Qd(t,e,l)}finally{Kt=j,O.p=r,tt.T=i}}Lt=1,n(),s(),u()}}function n(){if(Lt===1){Lt=0;var t=ve,e=Jt,l=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||l){l=tt.T,tt.T=null;var i=O.p;O.p=2;var r=Kt;Kt|=4;try{lu(e,t);var o=ah,j=$o(t.containerInfo),k=o.focusedElem,I=o.selectionRange;if(j!==k&&k&&k.ownerDocument&&Io(k.ownerDocument.documentElement,k)){if(I!==null&&ki(k)){var ht=I.start,bt=I.end;if(bt===void 0&&(bt=ht),"selectionStart"in k)k.selectionStart=ht,k.selectionEnd=Math.min(bt,k.value.length);else{var St=k.ownerDocument||document,mt=St&&St.defaultView||window;if(mt.getSelection){var yt=mt.getSelection(),Zt=k.textContent.length,Yt=Math.min(I.start,Zt),Ve=I.end===void 0?Yt:Math.min(I.end,Zt);!yt.extend&&Yt>Ve&&(j=Ve,Ve=Yt,Yt=j);var ot=Ol(k,Yt),lt=Ol(k,Ve);if(ot&&lt&&(yt.rangeCount!==1||yt.anchorNode!==ot.node||yt.anchorOffset!==ot.offset||yt.focusNode!==lt.node||yt.focusOffset!==lt.offset)){var dt=St.createRange();dt.setStart(ot.node,ot.offset),yt.removeAllRanges(),Yt>Ve?(yt.addRange(dt),yt.extend(lt.node,lt.offset)):(dt.setEnd(lt.node,lt.offset),yt.addRange(dt))}}}}for(St=[],yt=k;yt=yt.parentNode;)yt.nodeType===1&&St.push({element:yt,left:yt.scrollLeft,top:yt.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<St.length;k++){var xt=St[k];xt.element.scrollLeft=xt.left,xt.element.scrollTop=xt.top}}md=!!eh,ah=eh=null}finally{Kt=r,O.p=i,tt.T=l}}t.current=e,Lt=2}}function s(){if(Lt===2){Lt=0;var t=ve,e=Jt,l=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||l){l=tt.T,tt.T=null;var i=O.p;O.p=2;var r=Kt;Kt|=4;try{Fs(t,e.alternate,e)}finally{Kt=r,O.p=i,tt.T=l}}Lt=3}}function u(){if(Lt===4||Lt===3){Lt=0,se();var t=ve,e=Jt,l=ee,i=Xl;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Lt=5:(Lt=0,Jt=ve=null,f(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Ai=null),fu(l),e=e.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(He,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=tt.T,r=O.p,O.p=2,tt.T=null;try{for(var o=t.onRecoverableError,j=0;j<i.length;j++){var k=i[j];o(k.value,{componentStack:k.stack})}}finally{tt.T=e,O.p=r}}(ee&3)!==0&&g(),Ut(t),r=t.pendingLanes,(l&4194090)!==0&&(r&42)!==0?t===ru?vl++:(vl=0,ru=t):vl=0,Ae(0)}}function f(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,wn(e)))}function g(t){return n(),s(),u(),K()}function K(){if(Lt!==5)return!1;var t=ve,e=Ne;Ne=0;var l=fu(ee),i=tt.T,r=O.p;try{O.p=32>l?32:l,tt.T=null,l=Pa,Pa=null;var o=ve,j=ee;if(Lt=0,Jt=ve=null,ee=0,(Kt&6)!==0)throw Error(C(331));var k=Kt;if(Kt|=4,Ps(o.current),Js(o,o.current,j,l),Kt=k,Ae(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(He,o)}catch{}return!0}finally{O.p=r,tt.T=i,f(t,e)}}function et(t,e,l){e=pa(l,e),e=Xs(t.stateNode,e,2),t=Xa(t,e,2),t!==null&&(Mt(t,2),Ut(t))}function ct(t,e,l){if(t.tag===3)et(t,t,l);else for(;e!==null;){if(e.tag===3){et(e,t,l);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ai===null||!Ai.has(i))){t=pa(l,t),l=Wr(2),i=Xa(e,l,2),i!==null&&(ro(l,i,e,t),Mt(i,2),Ut(i));break}}e=e.return}}function Et(t,e,l){var i=t.pingCache;if(i===null){i=t.pingCache=new ml;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(l)||(su=!0,r.add(l),t=Tt.bind(null,t,e,l),e.then(t,t))}function Tt(t,e,l){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,ze===t&&(ce&l)===l&&(te===4||te===3&&(ce&62914560)===ce&&300>Vt()-$s?(Kt&2)===0&&zi(t,0):xn|=l,Ws===ce&&(Ws=0)),Ut(t)}function Ot(t,e){e===0&&(e=Jl()),t=el(t,e),t!==null&&(Mt(t,e),Ut(t))}function Dt(t){var e=t.memoizedState,l=0;e!==null&&(l=e.retryLane),Ot(t,l)}function Pt(t,e){var l=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(l=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(C(314))}i!==null&&i.delete(e),Ot(t,l)}function Dn(t,e){return qt(t,e)}var ji=null,Rn=null,gt=!1,ut=!1,vt=!1,Ct=0;function Ut(t){t!==Rn&&t.next===null&&(Rn===null?ji=Rn=t:Rn=Rn.next=t),ut=!0,gt||(gt=!0,Zd())}function Ae(t,e){if(!vt&&ut){vt=!0;do for(var l=!1,i=ji;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var o=0;else{var j=i.suspendedLanes,k=i.pingedLanes;o=(1<<31-Re(42|t)+1)-1,o&=r&~(j&~k),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(l=!0,Kl(i,o))}else o=ce,o=Zl(i,i===ze?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(o&3)===0||Fl(i,o)||(l=!0,Kl(i,o));i=i.next}while(l);vt=!1}}function kt(){pe()}function pe(){ut=gt=!1;var t=0;Ct!==0&&(jg()&&(t=Ct),Ct=0);for(var e=Vt(),l=null,i=ji;i!==null;){var r=i.next,o=ga(i,e);o===0?(i.next=null,l===null?ji=r:l.next=r,r===null&&(Rn=l)):(l=i,(t!==0||(o&3)!==0)&&(ut=!0)),i=r}Ae(t)}function ga(t,e){for(var l=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes&-62914561;0<o;){var j=31-Re(o),k=1<<j,I=r[j];I===-1?((k&l)===0||(k&i)!==0)&&(r[j]=Ao(k,e)):I<=e&&(t.expiredLanes|=k),o&=~k}if(e=ze,l=ce,l=Zl(t,t===e?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,l===0||t===e&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Rt(i),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Fl(t,l)){if(e=l&-l,e===t.callbackPriority)return e;switch(i!==null&&Rt(i),fu(l)){case 2:case 8:l=Qe;break;case 32:l=va;break;case 268435456:l=ua;break;default:l=va}return i=be.bind(null,t),l=qt(l,i),t.callbackPriority=e,t.callbackNode=l,e}return i!==null&&i!==null&&Rt(i),t.callbackPriority=2,t.callbackNode=null,2}function be(t,e){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(g()&&t.callbackNode!==l)return null;var i=ce;return i=Zl(t,t===ze?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Mi(t,i,e),ga(t,Vt()),t.callbackNode!=null&&t.callbackNode===l?be.bind(null,t):null)}function Kl(t,e){if(g())return null;Mi(t,e,!0)}function Zd(){Gg(function(){(Kt&6)!==0?qt(ya,kt):pe()})}function Fd(){return Ct===0&&(Ct=ys()),Ct}function $h(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xu(""+t)}function t1(t,e){var l=e.ownerDocument.createElement("input");return l.name=e.name,l.value=e.value,t.id&&l.setAttribute("form",t.id),e.parentNode.insertBefore(l,e),t=new FormData(t),l.parentNode.removeChild(l),t}function Tg(t,e,l,i,r){if(e==="submit"&&l&&l.stateNode===r){var o=$h((r[Va]||null).action),j=i.submitter;j&&(e=(e=j[Va]||null)?$h(e.formAction):j.getAttribute("formAction"),e!==null&&(o=e,j=null));var k=new xr("action","action",null,i,r);t.push({event:k,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ct!==0){var I=j?t1(r,j):new FormData(r);Ac(l,{pending:!0,data:I,method:r.method,action:o},null,I)}}else typeof o=="function"&&(k.preventDefault(),I=j?t1(r,j):new FormData(r),Ac(l,{pending:!0,data:I,method:r.method,action:o},o,I))},currentTarget:r}]})}}for(var Jd=0;Jd<Oa.length;Jd++){var Pd=Oa[Jd],Ag=Pd.toLowerCase(),Mg=Pd[0].toUpperCase()+Pd.slice(1);Nn(Ag,"on"+Mg)}Nn(tc,"onAnimationEnd"),Nn(En,"onAnimationIteration"),Nn(Lu,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(hf,"onTransitionRun"),Nn(qd,"onTransitionStart"),Nn(ec,"onTransitionCancel"),Nn(Ma,"onTransitionEnd"),Il("onMouseEnter",["mouseout","mouseover"]),Il("onMouseLeave",["mouseout","mouseover"]),Il("onPointerEnter",["pointerout","pointerover"]),Il("onPointerLeave",["pointerout","pointerover"]),je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),je("onBeforeInput",["compositionend","keypress","textInput","paste"]),je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Og=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yc));function e1(t,e){e=(e&4)!==0;for(var l=0;l<t.length;l++){var i=t[l],r=i.event;i=i.listeners;t:{var o=void 0;if(e)for(var j=i.length-1;0<=j;j--){var k=i[j],I=k.instance,ht=k.currentTarget;if(k=k.listener,I!==o&&r.isPropagationStopped())break t;o=k,r.currentTarget=ht;try{o(r)}catch(bt){Ll(bt)}r.currentTarget=null,o=I}else for(j=0;j<i.length;j++){if(k=i[j],I=k.instance,ht=k.currentTarget,k=k.listener,I!==o&&r.isPropagationStopped())break t;o=k,r.currentTarget=ht;try{o(r)}catch(bt){Ll(bt)}r.currentTarget=null,o=I}}}}function fe(t,e){var l=e[dr];l===void 0&&(l=e[dr]=new Set);var i=t+"__bubble";l.has(i)||(a1(e,t,2,!1),l.add(i))}function Wd(t,e,l){var i=0;e&&(i|=4),a1(l,t,i,e)}var sd="_reactListening"+Math.random().toString(36).slice(2);function Id(t){if(!t[sd]){t[sd]=!0,hu.forEach(function(l){l!=="selectionchange"&&(Og.has(l)||Wd(l,!1,t),Wd(l,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sd]||(e[sd]=!0,Wd("selectionchange",!1,e))}}function a1(t,e,l,i){switch(T1(e)){case 2:var r=a5;break;case 8:r=n5;break;default:r=dh}l=r.bind(null,e,l,t),r=void 0,!_u||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,l,{capture:!0,passive:r}):t.addEventListener(e,l,!0):r!==void 0?t.addEventListener(e,l,{passive:r}):t.addEventListener(e,l,!1)}function $d(t,e,l,i,r){var o=i;if((e&1)===0&&(e&2)===0&&i!==null)t:for(;;){if(i===null)return;var j=i.tag;if(j===3||j===4){var k=i.stateNode.containerInfo;if(k===r)break;if(j===4)for(j=i.return;j!==null;){var I=j.tag;if((I===3||I===4)&&j.stateNode.containerInfo===r)return;j=j.return}for(;k!==null;){if(j=Jn(k),j===null)return;if(I=j.tag,I===5||I===6||I===26||I===27){i=o=j;continue t}k=k.parentNode}}i=i.return}Lo(function(){var ht=o,bt=ti(l),St=[];t:{var mt=ac.get(t);if(mt!==void 0){var yt=xr,Zt=t;switch(t){case"keypress":if(Ns(l)===0)break t;case"keydown":case"keyup":yt=Mu;break;case"focusin":Zt="focus",yt=qi;break;case"focusout":Zt="blur",yt=qi;break;case"beforeblur":case"afterblur":yt=qi;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=Sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=J0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=af;break;case tc:case En:case Lu:yt=P0;break;case Ma:yt=_a;break;case"scroll":case"scrollend":yt=Gd;break;case"wheel":yt=lf;break;case"copy":case"cut":case"paste":yt=ei;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=Ou;break;case"toggle":case"beforetoggle":yt=rf}var Yt=(e&4)!==0,Ve=!Yt&&(t==="scroll"||t==="scrollend"),ot=Yt?mt!==null?mt+"Capture":null:mt;Yt=[];for(var lt=ht,dt;lt!==null;){var xt=lt;if(dt=xt.stateNode,xt=xt.tag,xt!==5&&xt!==26&&xt!==27||dt===null||ot===null||(xt=_s(lt,ot),xt!=null&&Yt.push(kc(lt,xt,dt))),Ve)break;lt=lt.return}0<Yt.length&&(mt=new yt(mt,Zt,null,l,bt),St.push({event:mt,listeners:Yt}))}}if((e&7)===0){t:{if(mt=t==="mouseover"||t==="pointerover",yt=t==="mouseout"||t==="pointerout",mt&&l!==Su&&(Zt=l.relatedTarget||l.fromElement)&&(Jn(Zt)||Zt[xl]))break t;if((yt||mt)&&(mt=bt.window===bt?bt:(mt=bt.ownerDocument)?mt.defaultView||mt.parentWindow:window,yt?(Zt=l.relatedTarget||l.toElement,yt=ht,Zt=Zt?Jn(Zt):null,Zt!==null&&(Ve=_(Zt),Yt=Zt.tag,Zt!==Ve||Yt!==5&&Yt!==27&&Yt!==6)&&(Zt=null)):(yt=null,Zt=ht),yt!==Zt)){if(Yt=Sr,xt="onMouseLeave",ot="onMouseEnter",lt="mouse",(t==="pointerout"||t==="pointerover")&&(Yt=Ou,xt="onPointerLeave",ot="onPointerEnter",lt="pointer"),Ve=yt==null?mt:vs(yt),dt=Zt==null?mt:vs(Zt),mt=new Yt(xt,lt+"leave",yt,l,bt),mt.target=Ve,mt.relatedTarget=dt,xt=null,Jn(bt)===ht&&(Yt=new Yt(ot,lt+"enter",Zt,l,bt),Yt.target=dt,Yt.relatedTarget=Ve,xt=Yt),Ve=xt,yt&&Zt)e:{for(Yt=yt,ot=Zt,lt=0,dt=Yt;dt;dt=xo(dt))lt++;for(dt=0,xt=ot;xt;xt=xo(xt))dt++;for(;0<lt-dt;)Yt=xo(Yt),lt--;for(;0<dt-lt;)ot=xo(ot),dt--;for(;lt--;){if(Yt===ot||ot!==null&&Yt===ot.alternate)break e;Yt=xo(Yt),ot=xo(ot)}Yt=null}else Yt=null;yt!==null&&n1(St,mt,yt,Yt,!1),Zt!==null&&Ve!==null&&n1(St,Ve,Zt,Yt,!0)}}t:{if(mt=ht?vs(ht):window,yt=mt.nodeName&&mt.nodeName.toLowerCase(),yt==="select"||yt==="input"&&mt.type==="file")var Gt=$a;else if(ju(mt))if(Po)Gt=Ze;else{Gt=Bu;var ue=ff}else yt=mt.nodeName,!yt||yt.toLowerCase()!=="input"||mt.type!=="checkbox"&&mt.type!=="radio"?ht&&bu(ht.elementType)&&(Gt=$a):Gt=Nr;if(Gt&&(Gt=Gt(t,ht))){Jo(St,Gt,l,bt);break t}ue&&ue(t,mt,ht),t==="focusout"&&ht&&mt.type==="number"&&ht.memoizedProps.value!=null&&pu(mt,"number",mt.value)}switch(ue=ht?vs(ht):window,t){case"focusin":(ju(ue)||ue.contentEditable==="true")&&(Xi=ue,Cr=ht,zs=null);break;case"focusout":zs=Cr=Xi=null;break;case"mousedown":Tr=!0;break;case"contextmenu":case"mouseup":case"dragend":Tr=!1,wu(St,l,bt);break;case"selectionchange":if($n)break;case"keydown":case"keyup":wu(St,l,bt)}var Ht;if(As)t:{switch(t){case"compositionstart":var Xt="onCompositionStart";break t;case"compositionend":Xt="onCompositionEnd";break t;case"compositionupdate":Xt="onCompositionUpdate";break t}Xt=void 0}else ai?Du(t,l)&&(Xt="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Xt="onCompositionStart");Xt&&(Ko&&l.locale!=="ko"&&(ai||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&ai&&(Ht=Vo()):(Nl=bt,vr="value"in Nl?Nl.value:Nl.textContent,ai=!0)),ue=rd(ht,Xt),0<ue.length&&(Xt=new Al(Xt,t,null,l,bt),St.push({event:Xt,listeners:ue}),Ht?Xt.data=Ht:(Ht=Zo(l),Ht!==null&&(Xt.data=Ht)))),(Ht=of?Ru(t,l):Fo(t,l))&&(Xt=rd(ht,"onBeforeInput"),0<Xt.length&&(ue=new Al("onBeforeInput","beforeinput",null,l,bt),St.push({event:ue,listeners:Xt}),ue.data=Ht)),Tg(St,t,ht,l,bt)}e1(St,e)})}function kc(t,e,l){return{instance:t,listener:e,currentTarget:l}}function rd(t,e){for(var l=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||o===null||(r=_s(t,l),r!=null&&i.unshift(kc(t,r,o)),r=_s(t,e),r!=null&&i.push(kc(t,r,o))),t.tag===3)return i;t=t.return}return[]}function xo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function n1(t,e,l,i,r){for(var o=e._reactName,j=[];l!==null&&l!==i;){var k=l,I=k.alternate,ht=k.stateNode;if(k=k.tag,I!==null&&I===i)break;k!==5&&k!==26&&k!==27||ht===null||(I=ht,r?(ht=_s(l,o),ht!=null&&j.unshift(kc(l,ht,I))):r||(ht=_s(l,o),ht!=null&&j.push(kc(l,ht,I)))),l=l.return}j.length!==0&&t.push({event:e,listeners:j})}var zg=/\r\n?/g,Dg=/\u0000|\uFFFD/g;function l1(t){return(typeof t=="string"?t:""+t).replace(zg,`
`).replace(Dg,"")}function i1(t,e){return e=l1(e),l1(t)===e}function ud(){}function Le(t,e,l,i,r,o){switch(l){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Hi(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Hi(t,""+i);break;case"className":bs(t,"class",i);break;case"tabIndex":bs(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":bs(t,l,i);break;case"style":qo(t,i,o);break;case"data":if(e!=="object"){bs(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||l!=="href")){t.removeAttribute(l);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(l);break}i=xu(""+i),t.setAttribute(l,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(l==="formAction"?(e!=="input"&&Le(t,e,"name",r.name,r,null),Le(t,e,"formEncType",r.formEncType,r,null),Le(t,e,"formMethod",r.formMethod,r,null),Le(t,e,"formTarget",r.formTarget,r,null)):(Le(t,e,"encType",r.encType,r,null),Le(t,e,"method",r.method,r,null),Le(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(l);break}i=xu(""+i),t.setAttribute(l,i);break;case"onClick":i!=null&&(t.onclick=ud);break;case"onScroll":i!=null&&fe("scroll",t);break;case"onScrollEnd":i!=null&&fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(C(61));if(l=i.__html,l!=null){if(r.children!=null)throw Error(C(60));t.innerHTML=l}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}l=xu(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(l,""+i):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":i===!0?t.setAttribute(l,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(l,i):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(l,i):t.removeAttribute(l);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(l):t.setAttribute(l,i);break;case"popover":fe("beforetoggle",t),fe("toggle",t),ps(t,"popover",i);break;case"xlinkActuate":Hn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Hn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Hn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Hn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Hn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Hn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Hn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Hn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Hn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ps(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Q0.get(l)||l,ps(t,l,i))}}function th(t,e,l,i,r,o){switch(l){case"style":qo(t,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(C(61));if(l=i.__html,l!=null){if(r.children!=null)throw Error(C(60));t.innerHTML=l}}break;case"children":typeof i=="string"?Hi(t,i):(typeof i=="number"||typeof i=="bigint")&&Hi(t,""+i);break;case"onScroll":i!=null&&fe("scroll",t);break;case"onScrollEnd":i!=null&&fe("scrollend",t);break;case"onClick":i!=null&&(t.onclick=ud);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gu.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(r=l.endsWith("Capture"),e=l.slice(2,r?l.length-7:void 0),o=t[Va]||null,o=o!=null?o[l]:null,typeof o=="function"&&t.removeEventListener(e,o,r),typeof i=="function")){typeof o!="function"&&o!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(e,i,r);break t}l in t?t[l]=i:i===!0?t.setAttribute(l,""):ps(t,l,i)}}}function Wa(t,e,l){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",t),fe("load",t);var i=!1,r=!1,o;for(o in l)if(l.hasOwnProperty(o)){var j=l[o];if(j!=null)switch(o){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(C(137,e));default:Le(t,e,o,j,l,null)}}r&&Le(t,e,"srcSet",l.srcSet,l,null),i&&Le(t,e,"src",l.src,l,null);return;case"input":fe("invalid",t);var k=o=j=r=null,I=null,ht=null;for(i in l)if(l.hasOwnProperty(i)){var bt=l[i];if(bt!=null)switch(i){case"name":r=bt;break;case"type":j=bt;break;case"checked":I=bt;break;case"defaultChecked":ht=bt;break;case"value":o=bt;break;case"defaultValue":k=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(C(137,e));break;default:Le(t,e,i,bt,l,null)}}vu(t,o,k,I,ht,j,r,!1),gr(t);return;case"select":fe("invalid",t),i=j=o=null;for(r in l)if(l.hasOwnProperty(r)&&(k=l[r],k!=null))switch(r){case"value":o=k;break;case"defaultValue":j=k;break;case"multiple":i=k;default:Le(t,e,r,k,l,null)}e=o,l=j,t.multiple=!!i,e!=null?Ss(t,!!i,e,!1):l!=null&&Ss(t,!!i,l,!0);return;case"textarea":fe("invalid",t),o=r=i=null;for(j in l)if(l.hasOwnProperty(j)&&(k=l[j],k!=null))switch(j){case"value":i=k;break;case"defaultValue":r=k;break;case"children":o=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(C(91));break;default:Le(t,e,j,k,l,null)}Ho(t,i,r,o),gr(t);return;case"option":for(I in l)if(l.hasOwnProperty(I)&&(i=l[I],i!=null))switch(I){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Le(t,e,I,i,l,null)}return;case"dialog":fe("beforetoggle",t),fe("toggle",t),fe("cancel",t),fe("close",t);break;case"iframe":case"object":fe("load",t);break;case"video":case"audio":for(i=0;i<Yc.length;i++)fe(Yc[i],t);break;case"image":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"embed":case"source":case"link":fe("error",t),fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ht in l)if(l.hasOwnProperty(ht)&&(i=l[ht],i!=null))switch(ht){case"children":case"dangerouslySetInnerHTML":throw Error(C(137,e));default:Le(t,e,ht,i,l,null)}return;default:if(bu(e)){for(bt in l)l.hasOwnProperty(bt)&&(i=l[bt],i!==void 0&&th(t,e,bt,i,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(i=l[k],i!=null&&Le(t,e,k,i,l,null))}function Rg(t,e,l,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,o=null,j=null,k=null,I=null,ht=null,bt=null;for(yt in l){var St=l[yt];if(l.hasOwnProperty(yt)&&St!=null)switch(yt){case"checked":break;case"value":break;case"defaultValue":I=St;default:i.hasOwnProperty(yt)||Le(t,e,yt,null,i,St)}}for(var mt in i){var yt=i[mt];if(St=l[mt],i.hasOwnProperty(mt)&&(yt!=null||St!=null))switch(mt){case"type":o=yt;break;case"name":r=yt;break;case"checked":ht=yt;break;case"defaultChecked":bt=yt;break;case"value":j=yt;break;case"defaultValue":k=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(C(137,e));break;default:yt!==St&&Le(t,e,mt,yt,i,St)}}yu(t,j,k,I,ht,bt,o,r);return;case"select":yt=j=k=mt=null;for(o in l)if(I=l[o],l.hasOwnProperty(o)&&I!=null)switch(o){case"value":break;case"multiple":yt=I;default:i.hasOwnProperty(o)||Le(t,e,o,null,i,I)}for(r in i)if(o=i[r],I=l[r],i.hasOwnProperty(r)&&(o!=null||I!=null))switch(r){case"value":mt=o;break;case"defaultValue":k=o;break;case"multiple":j=o;default:o!==I&&Le(t,e,r,o,i,I)}e=k,l=j,i=yt,mt!=null?Ss(t,!!l,mt,!1):!!i!=!!l&&(e!=null?Ss(t,!!l,e,!0):Ss(t,!!l,l?[]:"",!1));return;case"textarea":yt=mt=null;for(k in l)if(r=l[k],l.hasOwnProperty(k)&&r!=null&&!i.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Le(t,e,k,null,i,r)}for(j in i)if(r=i[j],o=l[j],i.hasOwnProperty(j)&&(r!=null||o!=null))switch(j){case"value":mt=r;break;case"defaultValue":yt=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(C(91));break;default:r!==o&&Le(t,e,j,r,i,o)}Go(t,mt,yt);return;case"option":for(var Zt in l)if(mt=l[Zt],l.hasOwnProperty(Zt)&&mt!=null&&!i.hasOwnProperty(Zt))switch(Zt){case"selected":t.selected=!1;break;default:Le(t,e,Zt,null,i,mt)}for(I in i)if(mt=i[I],yt=l[I],i.hasOwnProperty(I)&&mt!==yt&&(mt!=null||yt!=null))switch(I){case"selected":t.selected=mt&&typeof mt!="function"&&typeof mt!="symbol";break;default:Le(t,e,I,mt,i,yt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in l)mt=l[Yt],l.hasOwnProperty(Yt)&&mt!=null&&!i.hasOwnProperty(Yt)&&Le(t,e,Yt,null,i,mt);for(ht in i)if(mt=i[ht],yt=l[ht],i.hasOwnProperty(ht)&&mt!==yt&&(mt!=null||yt!=null))switch(ht){case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(C(137,e));break;default:Le(t,e,ht,mt,i,yt)}return;default:if(bu(e)){for(var Ve in l)mt=l[Ve],l.hasOwnProperty(Ve)&&mt!==void 0&&!i.hasOwnProperty(Ve)&&th(t,e,Ve,void 0,i,mt);for(bt in i)mt=i[bt],yt=l[bt],!i.hasOwnProperty(bt)||mt===yt||mt===void 0&&yt===void 0||th(t,e,bt,mt,i,yt);return}}for(var ot in l)mt=l[ot],l.hasOwnProperty(ot)&&mt!=null&&!i.hasOwnProperty(ot)&&Le(t,e,ot,null,i,mt);for(St in i)mt=i[St],yt=l[St],!i.hasOwnProperty(St)||mt===yt||mt==null&&yt==null||Le(t,e,St,mt,i,yt)}var eh=null,ah=null;function od(t){return t.nodeType===9?t:t.ownerDocument}function s1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r1(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function nh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lh=null;function jg(){var t=window.event;return t&&t.type==="popstate"?t===lh?!1:(lh=t,!0):(lh=null,!1)}var u1=typeof setTimeout=="function"?setTimeout:void 0,Ug=typeof clearTimeout=="function"?clearTimeout:void 0,o1=typeof Promise=="function"?Promise:void 0,Gg=typeof queueMicrotask=="function"?queueMicrotask:typeof o1<"u"?function(t){return o1.resolve(null).then(t).catch(Hg)}:u1;function Hg(t){setTimeout(function(){throw t})}function nr(t){return t==="head"}function c1(t,e){var l=e,i=0,r=0;do{var o=l.nextSibling;if(t.removeChild(l),o&&o.nodeType===8)if(l=o.data,l==="/$"){if(0<i&&8>i){l=i;var j=t.ownerDocument;if(l&1&&Xc(j.documentElement),l&2&&Xc(j.body),l&4)for(l=j.head,Xc(l),j=l.firstChild;j;){var k=j.nextSibling,I=j.nodeName;j[_l]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&j.rel.toLowerCase()==="stylesheet"||l.removeChild(j),j=k}}if(r===0){t.removeChild(o),Ic(e);return}r--}else l==="$"||l==="$?"||l==="$!"?r++:i=l.charCodeAt(0)-48;else i=0;l=o}while(l);Ic(e)}function ih(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var l=e;switch(e=e.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ih(l),hr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function Bg(t,e,l,i){for(;t.nodeType===1;){var r=l;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[_l])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(o=t.getAttribute("rel"),o==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(o!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(o=t.getAttribute("src"),(o!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var o=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===o)return t}else return t;if(t=Ql(t.nextSibling),t===null)break}return null}function wg(t,e,l){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Ql(t.nextSibling),t===null))return null;return t}function sh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function qg(t,e){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")e();else{var i=function(){e(),l.removeEventListener("DOMContentLoaded",i)};l.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Ql(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var rh=null;function f1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(e===0)return t;e--}else l==="/$"&&e++}t=t.previousSibling}return null}function d1(t,e,l){switch(e=od(l),t){case"html":if(t=e.documentElement,!t)throw Error(C(452));return t;case"head":if(t=e.head,!t)throw Error(C(453));return t;case"body":if(t=e.body,!t)throw Error(C(454));return t;default:throw Error(C(451))}}function Xc(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);hr(t)}var bl=new Map,h1=new Set;function cd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fs=O.d;O.d={f:Lg,r:Vg,D:Yg,C:kg,L:Xg,m:Kg,X:Zg,S:Qg,M:Fg};function Lg(){var t=fs.f(),e=Oi();return t||e}function Vg(t){var e=Pn(t);e!==null&&e.tag===5&&e.type==="form"?kf(e):fs.r(t)}var So=typeof document>"u"?null:document;function g1(t,e,l){var i=So;if(i&&typeof e=="string"&&e){var r=fn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof l=="string"&&(r+='[crossorigin="'+l+'"]'),h1.has(r)||(h1.add(r),t={rel:t,crossOrigin:l,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),Wa(e,"link",t),fa(e),i.head.appendChild(e)))}}function Yg(t){fs.D(t),g1("dns-prefetch",t,null)}function kg(t,e){fs.C(t,e),g1("preconnect",t,e)}function Xg(t,e,l){fs.L(t,e,l);var i=So;if(i&&t&&e){var r='link[rel="preload"][as="'+fn(e)+'"]';e==="image"&&l&&l.imageSrcSet?(r+='[imagesrcset="'+fn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(r+='[imagesizes="'+fn(l.imageSizes)+'"]')):r+='[href="'+fn(t)+'"]';var o=r;switch(e){case"style":o=_o(t);break;case"script":o=Eo(t)}bl.has(o)||(t=E({rel:"preload",href:e==="image"&&l&&l.imageSrcSet?void 0:t,as:e},l),bl.set(o,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(Kc(o))||e==="script"&&i.querySelector(Qc(o))||(e=i.createElement("link"),Wa(e,"link",t),fa(e),i.head.appendChild(e)))}}function Kg(t,e){fs.m(t,e);var l=So;if(l&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+fn(i)+'"][href="'+fn(t)+'"]',o=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Eo(t)}if(!bl.has(o)&&(t=E({rel:"modulepreload",href:t},e),bl.set(o,t),l.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Qc(o)))return}i=l.createElement("link"),Wa(i,"link",t),fa(i),l.head.appendChild(i)}}}function Qg(t,e,l){fs.S(t,e,l);var i=So;if(i&&t){var r=Ui(i).hoistableStyles,o=_o(t);e=e||"default";var j=r.get(o);if(!j){var k={loading:0,preload:null};if(j=i.querySelector(Kc(o)))k.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":e},l),(l=bl.get(o))&&uh(t,l);var I=j=i.createElement("link");fa(I),Wa(I,"link",t),I._p=new Promise(function(ht,bt){I.onload=ht,I.onerror=bt}),I.addEventListener("load",function(){k.loading|=1}),I.addEventListener("error",function(){k.loading|=2}),k.loading|=4,fd(j,e,i)}j={type:"stylesheet",instance:j,count:1,state:k},r.set(o,j)}}}function Zg(t,e){fs.X(t,e);var l=So;if(l&&t){var i=Ui(l).hoistableScripts,r=Eo(t),o=i.get(r);o||(o=l.querySelector(Qc(r)),o||(t=E({src:t,async:!0},e),(e=bl.get(r))&&oh(t,e),o=l.createElement("script"),fa(o),Wa(o,"link",t),l.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}}function Fg(t,e){fs.M(t,e);var l=So;if(l&&t){var i=Ui(l).hoistableScripts,r=Eo(t),o=i.get(r);o||(o=l.querySelector(Qc(r)),o||(t=E({src:t,async:!0,type:"module"},e),(e=bl.get(r))&&oh(t,e),o=l.createElement("script"),fa(o),Wa(o,"link",t),l.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}}function m1(t,e,l,i){var r=(r=it.current)?cd(r):null;if(!r)throw Error(C(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(e=_o(l.href),l=Ui(r).hoistableStyles,i=l.get(e),i||(i={type:"style",instance:null,count:0,state:null},l.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=_o(l.href);var o=Ui(r).hoistableStyles,j=o.get(t);if(j||(r=r.ownerDocument||r,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(t,j),(o=r.querySelector(Kc(t)))&&!o._p&&(j.instance=o,j.state.loading=5),bl.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},bl.set(t,l),o||Jg(r,t,l,j.state))),e&&i===null)throw Error(C(528,""));return j}if(e&&i!==null)throw Error(C(529,""));return null;case"script":return e=l.async,l=l.src,typeof l=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Eo(l),l=Ui(r).hoistableScripts,i=l.get(e),i||(i={type:"script",instance:null,count:0,state:null},l.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(C(444,t))}}function _o(t){return'href="'+fn(t)+'"'}function Kc(t){return'link[rel="stylesheet"]['+t+"]"}function y1(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Jg(t,e,l,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Wa(e,"link",l),fa(e),t.head.appendChild(e))}function Eo(t){return'[src="'+fn(t)+'"]'}function Qc(t){return"script[async]"+t}function v1(t,e,l){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+fn(l.href)+'"]');if(i)return e.instance=i,fa(i),i;var r=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),fa(i),Wa(i,"style",r),fd(i,l.precedence,t),e.instance=i;case"stylesheet":r=_o(l.href);var o=t.querySelector(Kc(r));if(o)return e.state.loading|=4,e.instance=o,fa(o),o;i=y1(l),(r=bl.get(r))&&uh(i,r),o=(t.ownerDocument||t).createElement("link"),fa(o);var j=o;return j._p=new Promise(function(k,I){j.onload=k,j.onerror=I}),Wa(o,"link",i),e.state.loading|=4,fd(o,l.precedence,t),e.instance=o;case"script":return o=Eo(l.src),(r=t.querySelector(Qc(o)))?(e.instance=r,fa(r),r):(i=l,(r=bl.get(o))&&(i=E({},l),oh(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),fa(r),Wa(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(C(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(i=e.instance,e.state.loading|=4,fd(i,l.precedence,t));return e.instance}function fd(t,e,l){for(var i=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,o=r,j=0;j<i.length;j++){var k=i[j];if(k.dataset.precedence===e)o=k;else if(o!==r)break}o?o.parentNode.insertBefore(t,o.nextSibling):(e=l.nodeType===9?l.head:l,e.insertBefore(t,e.firstChild))}function uh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function oh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var dd=null;function p1(t,e,l){if(dd===null){var i=new Map,r=dd=new Map;r.set(l,i)}else r=dd,i=r.get(l),i||(i=new Map,r.set(l,i));if(i.has(t))return i;for(i.set(t,null),l=l.getElementsByTagName(t),r=0;r<l.length;r++){var o=l[r];if(!(o[_l]||o[We]||t==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var j=o.getAttribute(e)||"";j=t+j;var k=i.get(j);k?k.push(o):i.set(j,[o])}}return i}function b1(t,e,l){t=t.ownerDocument||t,t.head.insertBefore(l,e==="title"?t.querySelector("head > title"):null)}function Pg(t,e,l){if(l===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function x1(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Zc=null;function Wg(){}function Ig(t,e,l){if(Zc===null)throw Error(C(475));var i=Zc;if(e.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var r=_o(l.href),o=t.querySelector(Kc(r));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=hd.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=o,fa(o);return}o=t.ownerDocument||t,l=y1(l),(r=bl.get(r))&&uh(l,r),o=o.createElement("link"),fa(o);var j=o;j._p=new Promise(function(k,I){j.onload=k,j.onerror=I}),Wa(o,"link",l),e.instance=o}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(i.count++,e=hd.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function $g(){if(Zc===null)throw Error(C(475));var t=Zc;return t.stylesheets&&t.count===0&&ch(t,t.stylesheets),0<t.count?function(e){var l=setTimeout(function(){if(t.stylesheets&&ch(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(l)}}:null}function hd(){if(this.count--,this.count===0){if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gd=null;function ch(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gd=new Map,e.forEach(t5,t),gd=null,hd.call(t))}function t5(t,e){if(!(e.state.loading&4)){var l=gd.get(t);if(l)var i=l.get(null);else{l=new Map,gd.set(t,l);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<r.length;o++){var j=r[o];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(l.set(j.dataset.precedence,j),i=j)}i&&l.set(null,i)}r=e.instance,j=r.getAttribute("data-precedence"),o=l.get(j)||i,o===i&&l.set(null,r),l.set(j,r),this.count++,i=hd.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),o?o.parentNode.insertBefore(r,o.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Fc={$$typeof:h,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function e5(t,e,l,i,r,o,j,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.hiddenUpdates=Pl(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=o,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function S1(t,e,l,i,r,o,j,k,I,ht,bt,St){return t=new e5(t,e,l,j,k,I,ht,St),e=1,o===!0&&(e|=24),o=tn(3,null,null,e),t.current=o,o.stateNode=t,e=Gs(),e.refCount++,t.pooledCache=e,e.refCount++,o.memoizedState={element:i,isDehydrated:l,cache:e},Hr(o),t}function _1(t){return t?(t=Qi,t):Qi}function E1(t,e,l,i,r,o){r=_1(r),i.context===null?i.context=r:i.pendingContext=r,i=ul(e),i.payload={element:l},o=o===void 0?null:o,o!==null&&(i.callback=o),l=Xa(t,i,e),l!==null&&(sa(l,t,e),as(l,t,e))}function N1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<e?l:e}}function fh(t,e){N1(t,e),(t=t.alternate)&&N1(t,e)}function C1(t){if(t.tag===13){var e=el(t,67108864);e!==null&&sa(e,t,67108864),fh(t,67108864)}}var md=!0;function a5(t,e,l,i){var r=tt.T;tt.T=null;var o=O.p;try{O.p=2,dh(t,e,l,i)}finally{O.p=o,tt.T=r}}function n5(t,e,l,i){var r=tt.T;tt.T=null;var o=O.p;try{O.p=8,dh(t,e,l,i)}finally{O.p=o,tt.T=r}}function dh(t,e,l,i){if(md){var r=hh(i);if(r===null)$d(t,e,i,yd,l),A1(t,i);else if(i5(r,t,e,l,i))i.stopPropagation();else if(A1(t,i),e&4&&-1<l5.indexOf(t)){for(;r!==null;){var o=Pn(r);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var j=La(o.pendingLanes);if(j!==0){var k=o;for(k.pendingLanes|=2,k.entangledLanes|=2;j;){var I=1<<31-Re(j);k.entanglements[1]|=I,j&=~I}Ut(o),(Kt&6)===0&&(os=Vt()+500,Ae(0))}}break;case 13:k=el(o,2),k!==null&&sa(k,o,2),Oi(),fh(o,2)}if(o=hh(i),o===null&&$d(t,e,i,yd,l),o===r)break;r=o}r!==null&&i.stopPropagation()}else $d(t,e,i,null,l)}}function hh(t){return t=ti(t),gh(t)}var yd=null;function gh(t){if(yd=null,t=Jn(t),t!==null){var e=_(t);if(e===null)t=null;else{var l=e.tag;if(l===13){if(t=p(e),t!==null)return t;t=null}else if(l===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return yd=t,null}function T1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case ya:return 2;case Qe:return 8;case va:case Ft:return 32;case ua:return 268435456;default:return 32}default:return 32}}var mh=!1,lr=null,ir=null,sr=null,Jc=new Map,Pc=new Map,rr=[],l5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A1(t,e){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Jc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Wc(t,e,l,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:l,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Pn(e),e!==null&&C1(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function i5(t,e,l,i,r){switch(e){case"focusin":return lr=Wc(lr,t,e,l,i,r),!0;case"dragenter":return ir=Wc(ir,t,e,l,i,r),!0;case"mouseover":return sr=Wc(sr,t,e,l,i,r),!0;case"pointerover":var o=r.pointerId;return Jc.set(o,Wc(Jc.get(o)||null,t,e,l,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Pc.set(o,Wc(Pc.get(o)||null,t,e,l,i,r)),!0}return!1}function M1(t){var e=Jn(t.target);if(e!==null){var l=_(e);if(l!==null){if(e=l.tag,e===13){if(e=p(l),e!==null){t.blockedOn=e,du(t.priority,function(){if(l.tag===13){var i=$e();i=cu(i);var r=el(l,i);r!==null&&sa(r,l,i),fh(l,i)}});return}}else if(e===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var l=hh(t.nativeEvent);if(l===null){l=t.nativeEvent;var i=new l.constructor(l.type,l);Su=i,l.target.dispatchEvent(i),Su=null}else return e=Pn(l),e!==null&&C1(e),t.blockedOn=l,!1;e.shift()}return!0}function O1(t,e,l){vd(t)&&l.delete(e)}function s5(){mh=!1,lr!==null&&vd(lr)&&(lr=null),ir!==null&&vd(ir)&&(ir=null),sr!==null&&vd(sr)&&(sr=null),Jc.forEach(O1),Pc.forEach(O1)}function pd(t,e){t.blockedOn===e&&(t.blockedOn=null,mh||(mh=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,s5)))}var bd=null;function z1(t){bd!==t&&(bd=t,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){bd===t&&(bd=null);for(var e=0;e<t.length;e+=3){var l=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(gh(i||l)===null)continue;break}var o=Pn(l);o!==null&&(t.splice(e,3),e-=3,Ac(o,{pending:!0,data:r,method:l.method,action:i},i,r))}}))}function Ic(t){function e(I){return pd(I,t)}lr!==null&&pd(lr,t),ir!==null&&pd(ir,t),sr!==null&&pd(sr,t),Jc.forEach(e),Pc.forEach(e);for(var l=0;l<rr.length;l++){var i=rr[l];i.blockedOn===t&&(i.blockedOn=null)}for(;0<rr.length&&(l=rr[0],l.blockedOn===null);)M1(l),l.blockedOn===null&&rr.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(i=0;i<l.length;i+=3){var r=l[i],o=l[i+1],j=r[Va]||null;if(typeof o=="function")j||z1(l);else if(j){var k=null;if(o&&o.hasAttribute("formAction")){if(r=o,j=o[Va]||null)k=j.formAction;else if(gh(r)!==null)continue}else k=j.action;typeof k=="function"?l[i+1]=k:(l.splice(i,3),i-=3),z1(l)}}}function yh(t){this._internalRoot=t}xd.prototype.render=yh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));var l=e.current,i=$e();E1(l,i,t,e,null,null)},xd.prototype.unmount=yh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;E1(t.current,2,null,t,null,null),Oi(),e[xl]=null}};function xd(t){this._internalRoot=t}xd.prototype.unstable_scheduleHydration=function(t){if(t){var e=fr();t={blockedOn:null,target:t,priority:e};for(var l=0;l<rr.length&&e!==0&&e<rr[l].priority;l++);rr.splice(l,0,t),l===0&&M1(t)}};var D1=d.version;if(D1!=="19.1.1")throw Error(C(527,D1,"19.1.1"));O.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=x(e),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var r5={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{He=Sd.inject(r5),me=Sd}catch{}}return t0.createRoot=function(t,e){if(!A(t))throw Error(C(299));var l=!1,i="",r=is,o=rn,j=Wf,k=null;return e!=null&&(e.unstable_strictMode===!0&&(l=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(j=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(k=e.unstable_transitionCallbacks)),e=S1(t,1,!1,null,null,l,i,r,o,j,k,null),t[xl]=e.current,Id(t),new yh(e)},t0.hydrateRoot=function(t,e,l){if(!A(t))throw Error(C(299));var i=!1,r="",o=is,j=rn,k=Wf,I=null,ht=null;return l!=null&&(l.unstable_strictMode===!0&&(i=!0),l.identifierPrefix!==void 0&&(r=l.identifierPrefix),l.onUncaughtError!==void 0&&(o=l.onUncaughtError),l.onCaughtError!==void 0&&(j=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(I=l.unstable_transitionCallbacks),l.formState!==void 0&&(ht=l.formState)),e=S1(t,1,!0,e,l??null,i,r,o,j,k,I,ht),e.context=_1(null),l=e.current,i=$e(),i=cu(i),r=ul(i),r.callback=null,Xa(l,r,i),l=i,e.current.lanes=l,Mt(e,l),Ut(e),t[xl]=e.current,Id(t),new xd(e)},t0.version="19.1.1",t0}var Y1;function m5(){if(Y1)return bh.exports;Y1=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(d){console.error(d)}}return c(),bh.exports=g5(),bh.exports}var y5=m5();class v5{constructor(){this.storageKeys={floors:"managerplane-floors",devices:"managerplane-devices",roomObjects:"managerplane-roomObjects"},this.jsonFiles={floors:"/src/data/floors.json",devices:"/src/data/devices.json",roomObjects:"/src/data/roomObjects.json"}}async loadEntity(d){try{const B=localStorage.getItem(this.storageKeys[d]);if(B){const _=JSON.parse(B);return _.data||_}const C=await fetch(this.jsonFiles[d]);if(!C.ok)throw new Error(`HTTP error! status: ${C.status}`);const A=await C.json();return this.saveEntity(d,A),A}catch{return[]}}saveEntity(d,B){try{const C={data:B,lastModified:new Date().toISOString(),version:"1.0.0"};return localStorage.setItem(this.storageKeys[d],JSON.stringify(C)),!0}catch{return!1}}getEntity(d){try{const B=localStorage.getItem(this.storageKeys[d]);if(B){const C=JSON.parse(B);return C.data||C}return[]}catch{return[]}}exportEntity(d){const B=this.getEntity(d),C=`${d}-${new Date().toISOString().split("T")[0]}.json`;this.downloadJSON(B,C)}exportAll(){const d={floors:this.getEntity("floors"),devices:this.getEntity("devices"),roomObjects:this.getEntity("roomObjects"),exportDate:new Date().toISOString(),version:"1.0.0"},B=`manager-plane-backup-${new Date().toISOString().split("T")[0]}.json`;this.downloadJSON(d,B)}async importAll(d){return new Promise((B,C)=>{const A=new FileReader;A.onload=_=>{try{const p=JSON.parse(_.target.result);this.validateImportData(p)?(this.saveEntity("floors",p.floors||[]),this.saveEntity("devices",p.devices||[]),this.saveEntity("roomObjects",p.roomObjects||[]),B(p)):C(new Error("Formato de archivo invlido"))}catch(p){C(p)}},A.onerror=()=>C(new Error("Error leyendo archivo")),A.readAsText(d)})}async importEntity(d,B){return new Promise((C,A)=>{const _=new FileReader;_.onload=p=>{try{const m=JSON.parse(p.target.result);Array.isArray(m)?(this.saveEntity(d,m),C(m)):A(new Error("El archivo debe contener un array"))}catch(m){A(m)}},_.readAsText(B)})}downloadJSON(d,B){const C=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),A=URL.createObjectURL(C),_=document.createElement("a");_.href=A,_.download=B,_.click(),URL.revokeObjectURL(A)}validateImportData(d){return d&&(Array.isArray(d.floors)||d.floors===void 0)&&(Array.isArray(d.devices)||d.devices===void 0)&&(Array.isArray(d.roomObjects)||d.roomObjects===void 0)}clearAll(){Object.values(this.storageKeys).forEach(d=>{localStorage.removeItem(d)})}}const ms=new v5,Kh=()=>{const[c,d]=_t.useState([]),[B,C]=_t.useState(!0),[A,_]=_t.useState(null);_t.useEffect(()=>{p()},[]);const p=async()=>{try{C(!0);const v=await ms.loadEntity("floors");d(v)}catch(v){_(v.message)}finally{C(!1)}},m=v=>{d(v),ms.saveEntity("floors",v)};return{floors:c,loading:B,error:A,addFloor:v=>{const z={id:`planta-${Date.now()}`,name:v.name,zones:v.zones||[{id:"zona-inicial",name:"Predeterminada"}]},H=[...c,z];return m(H),z.id},updateFloor:(v,z)=>{const H=c.map(V=>V.id===v?{...V,...z}:V);m(H)},deleteFloor:v=>{const z=c.filter(H=>H.id!==v);m(z)},addZone:(v,z)=>{const H={id:`zona-${Date.now()}`,name:z},V=c.map(N=>N.id===v?{...N,zones:[...N.zones,H]}:N);return m(V),H.id},updateZone:(v,z,H)=>{const V=c.map(N=>N.id===v?{...N,zones:N.zones.map(h=>h.id===z?{...h,name:H}:h)}:N);m(V)},deleteZone:(v,z)=>{const H=c.map(V=>V.id===v?{...V,zones:V.zones.filter(N=>N.id!==z)}:V);m(H)},reload:p}},p5=()=>{const[c,d]=_t.useState([]),[B,C]=_t.useState(!0),[A,_]=_t.useState(null);_t.useEffect(()=>{p()},[]);const p=async()=>{try{C(!0);const T=await ms.loadEntity("devices");d(T)}catch(T){_(T.message)}finally{C(!1)}},m=T=>{d(T),ms.saveEntity("devices",T)},x=T=>{const S={...T,id:T.id||`device-${Date.now()}`},v=[...c,S];m(v)},y=(T,S)=>{const v=c.map(z=>z.id===T?{...z,...S}:z);m(v)};return{devices:c,loading:B,error:A,addDevice:x,updateDevice:y,updateDevicePosition:(T,S)=>{y(T,{position:S})},deleteDevice:T=>{const S=c.filter(v=>v.id!==T);m(S)},reload:p}},b5=()=>{const[c,d]=_t.useState([]),[B,C]=_t.useState(!0),[A,_]=_t.useState(null);_t.useEffect(()=>{p()},[]);const p=async()=>{try{C(!0);const M=await ms.loadEntity("roomObjects");d(M)}catch(M){_(M.message)}finally{C(!1)}},m=M=>{d(M),ms.saveEntity("roomObjects",M)};return{roomObjects:c,loading:B,error:A,addRoomObject:M=>{const T=[...c,M];m(T)},updateRoomObject:(M,T)=>{const S=c.map(v=>v.id===M?{...v,...T}:v);m(S)},deleteRoomObject:M=>{const T=c.filter(S=>S.id!==M);m(T)},reload:p}},x5=()=>{const[c,d]=_t.useState({isDragging:!1,dragObject:null,startPos:{x:0,y:0},currentPos:{x:0,y:0},offset:{x:0,y:0}}),B=_t.useCallback((p,m)=>{m.preventDefault(),m.stopPropagation();const x=document.querySelector("[data-canvas-viewport]");if(!x)return;const y=x.getBoundingClientRect(),E=y.left+p.position.x,M=y.top+p.position.y,T={x:m.clientX-E,y:m.clientY-M};d({isDragging:!0,dragObject:p,startPos:{x:m.clientX,y:m.clientY},currentPos:{x:m.clientX,y:m.clientY},offset:T})},[]),C=_t.useCallback(p=>{c.isDragging&&d(m=>({...m,currentPos:{x:p.clientX,y:p.clientY}}))},[c.isDragging]),A=_t.useCallback((p,m=1,x={x:0,y:0})=>{if(!c.isDragging||!c.dragObject)return;const y=document.querySelector("[data-canvas-viewport]");if(!y)return;const E=y.getBoundingClientRect(),M=c.currentPos.x-c.startPos.x,T=c.currentPos.y-c.startPos.y;if(Math.sqrt(M*M+T*T)>3){const v=(c.currentPos.x-E.left-x.x)/m-c.offset.x,z=(c.currentPos.y-E.top-x.y)/m-c.offset.y,H=c.dragObject.size?.width||32,V=c.dragObject.size?.height||32,N=0,h=0,U=E.width/m-H,G=E.height/m-V,Y=Math.max(N,Math.min(v,U)),W=Math.max(h,Math.min(z,G));p(c.dragObject.id,{x:Y,y:W})}d({isDragging:!1,dragObject:null,startPos:{x:0,y:0},currentPos:{x:0,y:0},offset:{x:0,y:0}})},[c]),_=_t.useCallback(()=>{d({isDragging:!1,dragObject:null,startPos:{x:0,y:0},currentPos:{x:0,y:0},offset:{x:0,y:0}})},[]);return{dragState:c,startDrag:B,updateDrag:C,endDrag:A,cancelDrag:_}};var og={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},k1=ke.createContext&&ke.createContext(og),S5=["attr","size","title"];function _5(c,d){if(c==null)return{};var B=E5(c,d),C,A;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(c);for(A=0;A<_.length;A++)C=_[A],!(d.indexOf(C)>=0)&&Object.prototype.propertyIsEnumerable.call(c,C)&&(B[C]=c[C])}return B}function E5(c,d){if(c==null)return{};var B={};for(var C in c)if(Object.prototype.hasOwnProperty.call(c,C)){if(d.indexOf(C)>=0)continue;B[C]=c[C]}return B}function Nd(){return Nd=Object.assign?Object.assign.bind():function(c){for(var d=1;d<arguments.length;d++){var B=arguments[d];for(var C in B)Object.prototype.hasOwnProperty.call(B,C)&&(c[C]=B[C])}return c},Nd.apply(this,arguments)}function X1(c,d){var B=Object.keys(c);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(c);d&&(C=C.filter(function(A){return Object.getOwnPropertyDescriptor(c,A).enumerable})),B.push.apply(B,C)}return B}function Cd(c){for(var d=1;d<arguments.length;d++){var B=arguments[d]!=null?arguments[d]:{};d%2?X1(Object(B),!0).forEach(function(C){N5(c,C,B[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(B)):X1(Object(B)).forEach(function(C){Object.defineProperty(c,C,Object.getOwnPropertyDescriptor(B,C))})}return c}function N5(c,d,B){return d=C5(d),d in c?Object.defineProperty(c,d,{value:B,enumerable:!0,configurable:!0,writable:!0}):c[d]=B,c}function C5(c){var d=T5(c,"string");return typeof d=="symbol"?d:d+""}function T5(c,d){if(typeof c!="object"||!c)return c;var B=c[Symbol.toPrimitive];if(B!==void 0){var C=B.call(c,d);if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(c)}function cg(c){return c&&c.map((d,B)=>ke.createElement(d.tag,Cd({key:B},d.attr),cg(d.child)))}function xe(c){return d=>ke.createElement(A5,Nd({attr:Cd({},c.attr)},d),cg(c.child))}function A5(c){var d=B=>{var{attr:C,size:A,title:_}=c,p=_5(c,S5),m=A||B.size||"1em",x;return B.className&&(x=B.className),c.className&&(x=(x?x+" ":"")+c.className),ke.createElement("svg",Nd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},B.attr,C,p,{className:x,style:Cd(Cd({color:c.color||B.color},B.style),c.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),_&&ke.createElement("title",null,_),c.children)};return k1!==void 0?ke.createElement(k1.Consumer,null,B=>d(B)):d(og)}function Eh(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM4 5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM7.5 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM4.5 8a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5z"},child:[]},{tag:"path",attr:{d:"M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm11 0H3v14h3v-2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V15h3z"},child:[]}]})(c)}function M5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022M6 8.694 1 10.36V15h5zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5z"},child:[]},{tag:"path",attr:{d:"M2 11h1v1H2zm2 0h1v1H4zm-2 2h1v1H2zm2 0h1v1H4zm4-4h1v1H8zm2 0h1v1h-1zm-2 2h1v1H8zm2 0h1v1h-1zm2-2h1v1h-1zm0 2h1v1h-1zM8 7h1v1H8zm2 0h1v1h-1zm2 0h1v1h-1zM8 5h1v1H8zm2 0h1v1h-1zm2 0h1v1h-1zm0-2h1v1h-1z"},child:[]}]})(c)}function qh(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"},child:[]}]})(c)}function O5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"},child:[]}]})(c)}function K1(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4.318 2.687C5.234 2.271 6.536 2 8 2s2.766.27 3.682.687C12.644 3.125 13 3.627 13 4c0 .374-.356.875-1.318 1.313C10.766 5.729 9.464 6 8 6s-2.766-.27-3.682-.687C3.356 4.875 3 4.373 3 4c0-.374.356-.875 1.318-1.313M13 5.698V7c0 .374-.356.875-1.318 1.313C10.766 8.729 9.464 9 8 9s-2.766-.27-3.682-.687C3.356 7.875 3 7.373 3 7V5.698c.271.202.58.378.904.525C4.978 6.711 6.427 7 8 7s3.022-.289 4.096-.777A5 5 0 0 0 13 5.698M14 4c0-1.007-.875-1.755-1.904-2.223C11.022 1.289 9.573 1 8 1s-3.022.289-4.096.777C2.875 2.245 2 2.993 2 4v9c0 1.007.875 1.755 1.904 2.223C4.978 15.71 6.427 16 8 16s3.022-.289 4.096-.777C13.125 14.755 14 14.007 14 13zm-1 4.698V10c0 .374-.356.875-1.318 1.313C10.766 11.729 9.464 12 8 12s-2.766-.27-3.682-.687C3.356 10.875 3 10.373 3 10V8.698c.271.202.58.378.904.525C4.978 9.71 6.427 10 8 10s3.022-.289 4.096-.777A5 5 0 0 0 13 8.698m0 3V13c0 .374-.356.875-1.318 1.313C10.766 14.729 9.464 15 8 15s-2.766-.27-3.682-.687C3.356 13.875 3 13.373 3 13v-1.302c.271.202.58.378.904.525C4.978 12.71 6.427 13 8 13s3.022-.289 4.096-.777c.324-.147.633-.323.904-.525"},child:[]}]})(c)}function fg(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.5 10c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1"},child:[]},{tag:"path",attr:{d:"M10.828.122A.5.5 0 0 1 11 .5V1h.5A1.5 1.5 0 0 1 13 2.5V15h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3V1.5a.5.5 0 0 1 .43-.495l7-1a.5.5 0 0 1 .398.117M11.5 2H11v13h1V2.5a.5.5 0 0 0-.5-.5M4 1.934V15h6V1.077z"},child:[]}]})(c)}function z5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"},child:[]},{tag:"path",attr:{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"},child:[]}]})(c)}function D5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 13.5v-7a.5.5 0 0 0-.5-.5H12V4.5a.5.5 0 0 0-.5-.5h-1v-.5A.5.5 0 0 0 10 3H6a.5.5 0 0 0-.5.5V4h-1a.5.5 0 0 0-.5.5V6H2.5a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 .5-.5M3.75 11h.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-1.5a.25.25 0 0 1 .25-.25m2 0h.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-1.5a.25.25 0 0 1 .25-.25m1.75.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zM9.75 11h.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-1.5a.25.25 0 0 1 .25-.25m1.75.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25z"},child:[]},{tag:"path",attr:{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM1 2a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1z"},child:[]}]})(c)}function R5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"},child:[]},{tag:"path",attr:{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"},child:[]}]})(c)}function Nh(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5"},child:[]},{tag:"path",attr:{d:"M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"},child:[]}]})(c)}function j5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5z"},child:[]}]})(c)}function U5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 3a.5.5 0 0 1 .5.5V11H2V3.5a.5.5 0 0 1 .5-.5zm-11-1A1.5 1.5 0 0 0 1 3.5V12h14V3.5A1.5 1.5 0 0 0 13.5 2zM0 12.5h16a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5"},child:[]}]})(c)}function G5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 1v8H1V1zM1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1zm13 2v5H9V2zM9 1a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM5 13v2H3v-2zm-2-1a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1zm12-1v2H9v-2zm-6-1a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1z"},child:[]}]})(c)}function H5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278M4.858 1.311A7.27 7.27 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.32 7.32 0 0 0 5.205-2.162q-.506.063-1.029.063c-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286"},child:[]}]})(c)}function B5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1zm1 13.5a.5.5 0 1 0 1 0 .5.5 0 0 0-1 0m2 0a.5.5 0 1 0 1 0 .5.5 0 0 0-1 0M9.5 1a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zM9 3.5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 0-1h-5a.5.5 0 0 0-.5.5M1.5 2A1.5 1.5 0 0 0 0 3.5v7A1.5 1.5 0 0 0 1.5 12H6v2h-.5a.5.5 0 0 0 0 1H7v-4H1.5a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5H7V2z"},child:[]}]})(c)}function Q1(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z"},child:[]}]})(c)}function Lh(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325"},child:[]}]})(c)}function w5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4.146.146A.5.5 0 0 1 4.5 0h7a.5.5 0 0 1 .5.5c0 .68-.342 1.174-.646 1.479-.126.125-.25.224-.354.298v4.431l.078.048c.203.127.476.314.751.555C12.36 7.775 13 8.527 13 9.5a.5.5 0 0 1-.5.5h-4v4.5c0 .276-.224 1.5-.5 1.5s-.5-1.224-.5-1.5V10h-4a.5.5 0 0 1-.5-.5c0-.973.64-1.725 1.17-2.189A6 6 0 0 1 5 6.708V2.277a3 3 0 0 1-.354-.298C4.342 1.674 4 1.179 4 .5a.5.5 0 0 1 .146-.354m1.58 1.408-.002-.001zm-.002-.001.002.001A.5.5 0 0 1 6 2v5a.5.5 0 0 1-.276.447h-.002l-.012.007-.054.03a5 5 0 0 0-.827.58c-.318.278-.585.596-.725.936h7.792c-.14-.34-.407-.658-.725-.936a5 5 0 0 0-.881-.61l-.012-.006h-.002A.5.5 0 0 1 10 7V2a.5.5 0 0 1 .295-.458 1.8 1.8 0 0 0 .351-.271c.08-.08.155-.17.214-.271H5.14q.091.15.214.271a1.8 1.8 0 0 0 .37.282"},child:[]}]})(c)}function Ch(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"},child:[]}]})(c)}function Td(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"},child:[]}]})(c)}function q5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"},child:[]},{tag:"path",attr:{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"},child:[]}]})(c)}function L5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"},child:[]}]})(c)}function V5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"},child:[]}]})(c)}function Y5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M1 0 0 1l2.2 3.081a1 1 0 0 0 .815.419h.07a1 1 0 0 1 .708.293l2.675 2.675-2.617 2.654A3.003 3.003 0 0 0 0 13a3 3 0 1 0 5.878-.851l2.654-2.617.968.968-.305.914a1 1 0 0 0 .242 1.023l3.27 3.27a.997.997 0 0 0 1.414 0l1.586-1.586a.997.997 0 0 0 0-1.414l-3.27-3.27a1 1 0 0 0-1.023-.242L10.5 9.5l-.96-.96 2.68-2.643A3.005 3.005 0 0 0 16 3q0-.405-.102-.777l-2.14 2.141L12 4l-.364-1.757L13.777.102a3 3 0 0 0-3.675 3.68L7.462 6.46 4.793 3.793a1 1 0 0 1-.293-.707v-.071a1 1 0 0 0-.419-.814zm9.646 10.646a.5.5 0 0 1 .708 0l2.914 2.915a.5.5 0 0 1-.707.707l-2.915-2.914a.5.5 0 0 1 0-.708M3 11l.471.242.529.026.287.445.445.287.026.529L5 13l-.242.471-.026.529-.445.287-.287.445-.529.026L3 15l-.471-.242L2 14.732l-.287-.445L1.268 14l-.026-.529L1 13l.242-.471.026-.529.445-.287.287-.445.529-.026z"},child:[]}]})(c)}function Y0(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},child:[]},{tag:"path",attr:{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},child:[]}]})(c)}function k5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"},child:[]},{tag:"path",attr:{d:"M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z"},child:[]}]})(c)}function X5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11M13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0"},child:[]},{tag:"path",attr:{d:"M10.344 11.742q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1 6.5 6.5 0 0 1-1.398 1.4z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5"},child:[]}]})(c)}function K5(c){return xe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11M13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0"},child:[]},{tag:"path",attr:{d:"M10.344 11.742q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1 6.5 6.5 0 0 1-1.398 1.4z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M3 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5"},child:[]}]})(c)}const Q5=({isOpen:c,title:d,label:B,placeholder:C,onConfirm:A,onCancel:_,children:p})=>{const[m,x]=_t.useState(""),[y,E]=_t.useState(!1);if(!c)return null;const M=()=>{m.trim()?(A(m.trim()),x(""),E(!1)):E(!0)},T=()=>{x(""),E(!1),_()};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-xs",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-100",children:d}),b.jsxs("form",{onSubmit:S=>{S.preventDefault(),M()},children:[p,b.jsx("label",{className:"block text-sm mb-1",children:B}),b.jsx("input",{type:"text",value:m,onChange:S=>{x(S.target.value),E(!1)},placeholder:C,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 transition-colors duration-200"}),y&&b.jsx("div",{className:"text-red-500 text-xs mt-2",children:"* Para confirmar rellena los campos."}),b.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[b.jsx("button",{type:"button",onClick:T,className:"px-3 py-1 rounded bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-gray-100",children:"Cancelar"}),b.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-600 text-white",children:"Guardar"})]})]})]})})};function Z5(c){return xe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m8.121 12 4.94-4.939-2.122-2.122L3.879 12l7.06 7.061 2.122-2.122z"},child:[]},{tag:"path",attr:{d:"M17.939 4.939 10.879 12l7.06 7.061 2.122-2.122L15.121 12l4.94-4.939z"},child:[]}]})(c)}function F5(c){return xe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m13.061 4.939-2.122 2.122L15.879 12l-4.94 4.939 2.122 2.122L20.121 12z"},child:[]},{tag:"path",attr:{d:"M6.061 19.061 13.121 12l-7.06-7.061-2.122 2.122L8.879 12l-4.94 4.939z"},child:[]}]})(c)}const J5=({currentFloor:c,currentZone:d,onFloorChange:B,onAddDevice:C,addFloor:A,addZone:_,floors:p=[],collapsed:m=!1,onToggleCollapse:x})=>{const[y,E]=_t.useState({[c]:!0}),[M,T]=_t.useState({open:!1,type:null}),[S,v]=_t.useState(p[0]?.id||""),z=()=>T({open:!0,type:"zone"}),H=()=>T({open:!0,type:"subzone"}),V=Y=>{M.type==="zone"?A({name:Y}):M.type==="subzone"&&S&&_(S,Y),T({open:!1,type:null})},N=()=>T({open:!1,type:null}),h=Y=>{E(W=>({...W,[Y]:!W[Y]}))},U=Y=>{const W=["bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200","bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200","bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200","bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200","bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-200","bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-200"];return W[Y%W.length]},G=Y=>typeof Y=="string"?Y:typeof Y=="object"&&Y!==null&&Y.name||"Sin nombre";return ke.useEffect(()=>{M.open&&M.type==="subzone"&&v(p[0]?.id||"")},[M.open,M.type,p]),b.jsxs("div",{className:"h-full flex flex-col bg-gray-300 dark:bg-gray-700 transition-colors duration-200",children:[b.jsxs("div",{className:"flex justify-center items-center p-2 mb-2 mt-2",children:[!m&&b.jsx("h1",{className:"text-xl font-black ml-2 text-gray-800 dark:text-gray-100 flex-1",children:"LISTADO DE ZONAS"}),b.jsx("button",{onClick:x,className:"flex items-center justify-center rounded-full h-8 w-8 bg-gray-400 dark:bg-gray-800 hover:bg-gray-500 dark:hover:bg-gray-600 transition-colors",title:m?"Mostrar Sidebar":"Ocultar Sidebar",children:m?b.jsx(F5,{className:"w-5 h-5 text-gray-800 dark:text-gray-300"}):b.jsx(Z5,{className:"w-5 h-5 text-gray-800 dark:text-gray-300"})})]}),b.jsx(Q5,{isOpen:M.open,title:M.type==="zone"?"Aadir nueva zona":"Aadir sub-zona",label:"Nombre:",placeholder:(M.type==="zone","Escribe el nombre"),onConfirm:V,onCancel:N,children:M.type==="subzone"&&b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Aadir en:"}),b.jsx("select",{value:S,onChange:Y=>v(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 transition-colors duration-200",children:p.map(Y=>b.jsx("option",{value:Y.id,children:G(Y.name)},Y.id))})]})}),b.jsxs("div",{className:"flex flex-col gap-2 justify-center items-center mb-2",children:[b.jsxs("button",{onClick:z,className:m?"w-full h-12 flex items-center justify-center bg-transparent text-[#478262] dark:text-teal-500 hover:bg-teal-800/10 dark:hover:bg-teal-500/10 transition-all":"w-52 flex items-center justify-left px-4 py-2 space-x-6 bg-[#007b8b] text-white rounded-lg hover:bg-[#005d69] transition-all",title:"Aadir nueva zona",children:[b.jsx(Ch,{className:`transition-all ${m?"w-7 h-7":"w-5 h-5"}`}),!m&&b.jsx("span",{className:"ml-2",children:"Aadir Zona"})]}),b.jsxs("button",{onClick:H,className:m?"w-full h-12 flex items-center justify-center bg-transparent text-rose-800 dark:text-rose-400 hover:bg-rose-900/10 dark:hover:bg-rose-500/10 transition-all":"w-52 flex items-center justify-left px-4 py-2 space-x-6 bg-rose-800 text-white rounded-lg hover:bg-rose-950 transition-all",title:"Aadir sub-zona",children:[b.jsx(Ch,{className:`transition-all ${m?"w-7 h-7":"w-5 h-5"}`}),!m&&b.jsx("span",{className:"ml-2",children:"Aadir Sub-zona"})]})]}),!m&&b.jsxs("div",{className:"flex-1 overflow-y-auto pt-2",children:[b.jsx("div",{className:"space-y-2",children:p.map(Y=>b.jsxs("div",{className:"dark:border-gray-700 rounded-lg bg-gray-400 dark:bg-gray-500/50 transition-colors duration-200",children:[b.jsxs("div",{className:"w-full pl-2 pr-4 py-3 flex items-center justify-between text-left rounded-lg transition-colors",children:[b.jsx("div",{className:"flex items-center space-x-4",children:b.jsx("h3",{className:"font-medium flex rounded-lg w-full px-3 py-2 bg-[#007b8b] dark:text-white",children:G(Y.name)})}),b.jsx("button",{onClick:()=>h(Y.id),className:"ml-2 p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",title:y[Y.id]?"Colapsar":"Expandir",children:y[Y.id]?b.jsx(qh,{className:"w-4 h-4 text-gray-800 dark:text-gray-300"}):b.jsx(O5,{className:"w-4 h-4 text-gray-800 dark:text-gray-300"})})]}),y[Y.id]&&Array.isArray(Y.zones)&&b.jsx("div",{className:"px-4 pb-3 ml-4 space-y-2",children:Y.zones.map((W,D)=>{const q=c===Y.id&&d===W.id,w=U(D);return b.jsx("button",{onClick:()=>B(Y.id,W.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors text-sm ${q?`${w} ring-2 ring-rose-800`:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-500 border-2 border-rose-800"}`,children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"font-medium",children:G(W.name)}),q&&b.jsx("span",{className:"text-xs bg-lime-600 text-white px-2 py-1 rounded-full"})]})},W.id)})})]},Y.id))}),p.length===0&&b.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[b.jsx("p",{className:"text-sm",children:"No hay plantas configuradas"}),b.jsx("p",{className:"text-xs mt-1",children:'Usa "Crear/Modificar Zonas" para empezar'})]})]}),!m&&b.jsx("div",{className:"my-2"}),b.jsxs("div",{className:`flex justify-center items-center border-t border-gray-400 ${m?"":"p-4"}`,children:[b.jsxs("button",{onClick:C,className:m?"w-full h-12 flex items-center justify-center bg-transparent text-blue-700 dark:text-blue-400 hover:bg-blue-900/10 dark:hover:bg-blue-500/10 transition-all":"w-52 h-10 flex items-center justify-center px-4 py-2 bg-blue-700 hover:bg-blue-900 text-white rounded-lg transition-all",title:"Aadir nuevo dispositivo",children:[b.jsx(Ch,{className:`transition-all ${m?"w-7 h-7":"w-5 h-5"}`}),!m&&b.jsx("span",{className:"ml-2 whitespace-nowrap",children:"Aadir Dispositivo"})]}),(!c||!d)&&!m&&b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:"Selecciona una zona primero"})]})]})};function P5(c){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M85.57 446.25h340.86a32 32 0 0 0 28.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0 0 28.17 47.17z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m250.26 195.39 5.74 122 5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 5.95z"},child:[]},{tag:"path",attr:{d:"M256 397.25a20 20 0 1 1 20-20 20 20 0 0 1-20 20z"},child:[]}]})(c)}const W5=({isOpen:c,type:d,item:B,floorName:C,onConfirm:A,onCancel:_})=>{if(!c||!B)return null;const p=d==="floor",m=d==="zone",x=()=>p?{icon:b.jsx(M5,{className:"text-black dark:text-white"}),title:"Eliminar Zona",name:B.name,description:`Esta zona contiene ${B.zones?.length||0} sub-zona${B.zones?.length!==1?"s":""}`,warning:"Se eliminarn tambin todos los dispositivos y objetos asociados a esta zona.",warningLevel:"high"}:m?{icon:b.jsx(w5,{}),title:"Eliminar sub-zona",name:B.name,description:`Zona de la planta: ${C}`,warning:"Se eliminarn tambin todos los dispositivos y objetos asociados a esta zona.",warningLevel:"medium"}:{icon:"",title:"Eliminar",name:"Desconocido",description:"",warning:"",warningLevel:"low"},{icon:y,title:E,name:M,description:T,warning:S,warningLevel:v}=x(),z=()=>{switch(v){case"high":return"bg-red-50 border-red-200 text-red-800";case"medium":return"bg-orange-50 border-orange-200 text-orange-800";default:return"bg-yellow-50 border-yellow-200 text-yellow-800"}};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:b.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-xl p-6 w-[500px] max-w-[90vw]",children:[b.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[b.jsx("div",{className:"text-4xl",children:y}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-semibold text-black dark:text-white",children:E}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"* Esta accin no se puede deshacer."})]})]}),b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-400 rounded-lg p-4 mb-4",children:[b.jsx("div",{className:"font-medium text-gray-800 dark:text-black text-lg mb-1",children:M}),b.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-800",children:T})]}),S&&b.jsx("div",{className:`rounded-lg border p-4 mb-6 ${z()}`,children:b.jsxs("div",{className:"flex items-start space-x-2",children:[b.jsx("span",{className:"text-xl",children:b.jsx(P5,{})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium mb-1",children:"Atencin!"}),b.jsx("div",{className:"text-sm",children:S})]})]})}),p&&b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"- Para confirmar, escribe el nombre de la zona:"}),b.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:M,id:"confirm-delete-input"})]}),b.jsxs("div",{className:"flex justify-end space-x-3",children:[b.jsx("button",{onClick:_,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),b.jsx("button",{onClick:()=>{if(p&&document.getElementById("confirm-delete-input").value.trim()!==M){alert("El nombre no coincide. Por favor, escribe el nombre exacto.");return}A()},className:`px-4 py-2 text-white rounded-lg transition-colors ${v==="high"?"bg-red-600 hover:bg-red-700":"bg-orange-600 hover:bg-orange-700"}`,children:p?"Eliminar Zona":"Eliminar Sub-Zona"})]})]})})},I5=({isOpen:c,floors:d,onClose:B,onAddFloor:C,onUpdateFloor:A,onDeleteFloor:_,onAddZone:p,onUpdateZone:m,onDeleteZone:x})=>{const[y,E]=_t.useState(""),[M,T]=_t.useState({}),[S,v]=_t.useState(null),[z,H]=_t.useState(null),[V,N]=_t.useState({show:!1,type:null,item:null});if(!c)return null;const h=D=>typeof D=="string"?D:typeof D=="object"&&D!==null&&D.name||"Sin nombre",U=()=>{y.trim()&&(C({name:y.trim()}),E(""))},G=D=>{const q=M[D]?.trim();q&&(p(D,{name:q}),T(w=>({...w,[D]:""})))},Y=(D,q,w=null)=>{N({show:!0,type:D,item:q,floorId:w})},W=()=>{const{type:D,item:q,floorId:w}=V;D==="floor"?_(q.id):D==="zone"&&x(w,q.id),N({show:!1,type:null,item:null})};return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden transition-colors duration-200",children:[b.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 px-6 py-4 border-b border-gray-200 dark:border-gray-600",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 flex items-center",children:[b.jsx(Eh,{className:"w-6 h-6 mr-2"}),"Gestin de Zonas"]}),b.jsx("button",{onClick:B,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),b.jsxs("div",{className:"flex h-[calc(90vh-120px)]",children:[b.jsxs("div",{className:"w-1/3 bg-gray-50 dark:bg-gray-700 p-6 border-r border-gray-200 dark:border-gray-600",children:[b.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Aadir Nueva"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre:"}),b.jsx("input",{type:"text",value:y,onChange:D=>E(D.target.value),placeholder:"Ej: Planta 1, Sala 4, etc.",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 transition-colors duration-200",onKeyPress:D=>D.key==="Enter"&&U()})]}),b.jsxs("button",{onClick:U,disabled:!y.trim(),className:"w-full px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 transition-colors duration-200",children:[b.jsx(Td,{className:"w-4 h-4"}),b.jsx("span",{children:"Crear Zona"})]})]})]}),b.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[b.jsxs("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:["Zonas y sub-zonas Existentes (",d.length,")"]}),d.length===0?b.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[b.jsx(Eh,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),b.jsx("p",{children:"No hay zonas configuradas"}),b.jsx("p",{className:"text-sm mt-1",children:"Crea tu primera zona para empezar"})]}):b.jsx("div",{className:"space-y-4",children:d.map(D=>b.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-600 transition-colors duration-200",children:[b.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-t-lg border-b border-gray-200 dark:border-gray-600",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(Eh,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),S===D.id?b.jsx("input",{type:"text",defaultValue:h(D.name),onBlur:q=>{q.target.value.trim()&&q.target.value!==h(D.name)&&A(D.id,{name:q.target.value.trim()}),v(null)},onKeyPress:q=>{q.key==="Enter"&&q.target.blur()},className:"px-2 py-1 border border-gray-300 dark:border-gray-500 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100",autoFocus:!0}):b.jsx("h4",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:h(D.name)}),b.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",Array.isArray(D.zones)?D.zones.length:0," sub-zona",(Array.isArray(D.zones)?D.zones.length:0)!==1?"s":"",")"]})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("button",{onClick:()=>v(D.id),className:"p-1 text-gray-400 dark:text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Editar nombre",children:b.jsx(Lh,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>Y("floor",D),className:"p-1 text-gray-400 dark:text-gray-500 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Eliminar planta",children:b.jsx(Y0,{className:"w-4 h-4"})})]})]})}),b.jsxs("div",{className:"p-4",children:[b.jsx("div",{className:"flex items-center justify-between mb-3",children:b.jsxs("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[b.jsx(j5,{className:"w-4 h-4 mr-2"}),"Sub-zonas existentes"]})}),Array.isArray(D.zones)&&b.jsx("div",{className:"space-y-2 mb-4",children:D.zones.map(q=>b.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded border border-gray-200 dark:border-gray-600",children:[z===q.id?b.jsx("input",{type:"text",defaultValue:h(q.name),onBlur:w=>{w.target.value.trim()&&w.target.value!==h(q.name)&&m(D.id,q.id,w.target.value.trim()),H(null)},onKeyPress:w=>{w.key==="Enter"&&w.target.blur()},className:"flex-1 px-2 py-1 border border-gray-300 dark:border-gray-500 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100",autoFocus:!0}):b.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-200 flex-1",children:h(q.name)}),b.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[b.jsx("button",{onClick:()=>H(q.id),className:"p-1 text-gray-400 dark:text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Editar zona",children:b.jsx(Lh,{className:"w-3 h-3"})}),b.jsx("button",{onClick:()=>Y("zone",q,D.id),className:"p-1 text-gray-400 dark:text-gray-500 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Eliminar zona",children:b.jsx(Y0,{className:"w-3 h-3"})})]})]},q.id))}),b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("input",{type:"text",value:M[D.id]||"",onChange:q=>T(w=>({...w,[D.id]:q.target.value})),placeholder:"Nombre de la sub-zona",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-500 text-gray-900 dark:text-gray-100 transition-colors duration-200",onKeyPress:q=>q.key==="Enter"&&G(D.id)}),b.jsxs("button",{onClick:()=>G(D.id),disabled:!M[D.id]?.trim(),className:"px-3 py-2 bg-green-600 dark:bg-green-700 text-white rounded text-sm hover:bg-green-700 dark:hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1 transition-colors duration-200",children:[b.jsx(Td,{className:"w-3 h-3"}),b.jsx("span",{children:"Crear sub-zona"})]})]})]})]},D.id))})]})]}),b.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 px-6 py-4 border-t border-gray-200 dark:border-gray-600 flex justify-end",children:b.jsx("button",{onClick:B,className:"px-4 py-2 bg-gray-600 dark:bg-gray-500 text-white rounded-lg hover:bg-gray-700 dark:hover:bg-gray-400 transition-colors duration-200",children:"Cerrar"})})]})}),b.jsx(W5,{isOpen:V.show,type:V.type,item:V.item,onConfirm:W,onCancel:()=>N({show:!1,type:null,item:null})})]})};var $5=ug();const tm=()=>{const[c,d]=_t.useState(!1),[B,C]=_t.useState(!1),[A,_]=_t.useState(""),p=()=>{try{const y=ms.exportAll(),E=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),M=URL.createObjectURL(E),T=document.createElement("a");T.href=M,T.download=`manager-plane-tool-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(M),_("Exportacin exitosa"),setTimeout(()=>_(""),3e3)}catch{_("Error en la exportacin"),setTimeout(()=>_(""),3e3)}},m=async y=>{const E=y.target.files[0];if(E){C(!0);try{await ms.importAll(E),_("Importacin exitosa - Recarga la pgina"),setTimeout(()=>{window.location.reload()},2e3)}catch{_("Error en la importacin"),setTimeout(()=>_(""),3e3)}C(!1),y.target.value=""}},x=y=>{try{ms.exportEntity(y),_(`${y} exportado exitosamente`),setTimeout(()=>_(""),3e3)}catch{_(`Error al exportar ${y}`),setTimeout(()=>_(""),3e3)}};return b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-green-600 dark:bg-green-700 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-600 transition-colors flex items-center space-x-2",title:"Gestin de datos",children:[b.jsx(K1,{className:"w-4 h-4"}),b.jsx("span",{children:"Exportar / Importar"})]}),c&&$5.createPortal(b.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50",children:b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 transition-colors duration-200",children:b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 flex items-center",children:[b.jsx(K1,{className:"w-6 h-6 mr-2"}),"Gestin de Datos"]}),b.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 bg-gray-300 dark:bg-gray-700 transition-colors duration-200",children:[b.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-3",children:"Copia de Seguridad Completa:"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("button",{onClick:p,className:"w-full px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors flex items-center justify-center space-x-2",children:[b.jsx(z5,{className:"w-4 h-4"}),b.jsx("span",{children:"Exportar Todo"})]}),b.jsx("div",{className:"relative w-full",children:b.jsxs("label",{className:"w-full cursor-pointer px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:[b.jsx("input",{type:"file",accept:".json",onChange:m,disabled:B,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer disabled:cursor-not-allowed"}),b.jsx(k5,{className:"w-4 h-4"}),b.jsx("span",{children:B?"Importando...":"Importar Todo"})]})})]})]}),b.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 transition-colors duration-200",children:[b.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-3",children:"Exportar por Categora:"}),b.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[b.jsxs("button",{onClick:()=>x("devices"),className:"px-3 py-2 bg-gray-600 dark:bg-gray-700 text-white rounded hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors flex items-center space-x-2 text-sm",children:[b.jsx(Nh,{className:"w-4 h-4"}),b.jsx("span",{children:"Dispositivos"})]}),b.jsxs("button",{onClick:()=>x("roomObjects"),className:"px-3 py-2 bg-gray-600 dark:bg-gray-700 text-white rounded hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors flex items-center space-x-2 text-sm",children:[b.jsx(Nh,{className:"w-4 h-4"}),b.jsx("span",{children:"Objetos de Habitacin"})]}),b.jsxs("button",{onClick:()=>x("floors"),className:"px-3 py-2 bg-gray-600 dark:bg-gray-700 text-white rounded hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors flex items-center space-x-2 text-sm",children:[b.jsx(Nh,{className:"w-4 h-4"}),b.jsx("span",{children:"Zonas y sub-zonas"})]})]})]}),A&&b.jsx("div",{className:`p-3 rounded-lg text-sm ${A.includes("Error")?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300":"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300"} transition-colors duration-200`,children:A})]}),b.jsx("div",{className:"mt-6 flex justify-end",children:b.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-gray-600 dark:bg-gray-700 text-white rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:"Cerrar"})})]})})}),document.body)]})},dg=_t.createContext(),em=({children:c})=>{const d=()=>{const p=localStorage.getItem("theme");return p||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[B,C]=_t.useState(d);_t.useEffect(()=>{const p=document.documentElement;p.classList.remove("light","dark"),p.classList.add(B),p.setAttribute("data-theme",B),localStorage.setItem("theme",B)},[B]);const _={theme:B,toggleTheme:()=>{C(B==="light"?"dark":"light")}};return b.jsx(dg.Provider,{value:_,children:c})},Qh=()=>{const c=_t.useContext(dg);if(c===void 0)throw new Error("useTheme must be used within a ThemeProvider");return c},am="/ManagerPlaneTool/assets/logo-Cp5-cfUz.png",nm="/ManagerPlaneTool/assets/logo-white-DNbyp0aJ.png",lm=({children:c,currentFloor:d,currentZone:B,onFloorChange:C,onAddDevice:A,floors:_,addFloor:p,updateFloor:m,deleteFloor:x,addZone:y,updateZone:E,deleteZone:M})=>{const[T,S]=_t.useState(!1),[v,z]=_t.useState(!1),{theme:H,toggleTheme:V}=Qh();return _t.useEffect(()=>{const N=()=>{window.innerWidth<768?z(!0):z(!1)};return window.addEventListener("resize",N),N(),()=>window.removeEventListener("resize",N)},[]),b.jsxs("div",{className:"h-screen flex flex-col bg-gray-100 dark:bg-gray-900 transition-colors duration-200",children:[b.jsx("header",{className:"bg-gray-400 dark:bg-black shadow-sm border-b border-gray-200 dark:border-gray-700 transition-colors duration-200",children:b.jsx("div",{className:"px-6 py-4",children:b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[b.jsx("div",{className:"flex items-center justify-between w-full sm:w-auto",children:b.jsx("img",{src:H==="dark"?nm:am,alt:"Manager Plane Tool Logo",className:"object-contain h-12 w-auto sm:h-20 transition-all duration-200"})}),b.jsxs("div",{className:`
              flex flex-row gap-2
              sm:gap-4 sm:justify-end
              w-full sm:w-auto
              relative
            `,children:[b.jsx(tm,{}),b.jsx("div",{className:"flex-1 flex justify-end relative",children:b.jsxs("button",{onClick:()=>S(!0),className:`
                    px-4 py-2 bg-gray-600 dark:bg-gray-700 text-white rounded-lg 
                    hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors 
                    flex items-center space-x-2
                    absolute right-0 top-0
                    sm:static
                  `,title:"Gestionar tus planos",children:[b.jsx("span",{children:b.jsx(Y5,{})}),b.jsx("span",{children:"Administrar Zonas"})]})}),b.jsxs("button",{onClick:V,className:`
                  ml-2 sm:ml-6
                  relative p-2.5 rounded-xl transition-all duration-300 ease-in-out
                  transform hover:scale-105 active:scale-95
                  shadow-lg hover:shadow-xl
                  ${H==="light"?"bg-gradient-to-br from-gray-600 to-black hover:from-blue-900 hover:to-indigo-800 border border-blue-200":"bg-gradient-to-br from-gray-700 to-gray-800 hover:from-gray-600 hover:to-gray-700 border border-gray-600"}
                `,title:H==="light"?"Cambiar a modo oscuro":"Cambiar a modo claro",children:[H==="light"?b.jsx(H5,{className:"w-5 h-5 text-gray-100 transition-colors duration-300"}):b.jsx(L5,{className:"w-5 h-5 text-yellow-400 transition-colors duration-300"}),b.jsx("div",{className:`
                  absolute inset-0 rounded-xl opacity-0 hover:opacity-20 transition-opacity duration-300
                  ${H==="light"?"bg-gradient-to-r from-blue-400 to-indigo-500":"bg-gradient-to-r from-yellow-400 to-orange-500"}
                `})]})]})]})})}),b.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[b.jsx("div",{className:`transition-all duration-300 ${v?"w-14 min-w-[3.5rem]":"w-64 min-w-[16rem]"}`,children:b.jsx(J5,{currentFloor:d,currentZone:B,onFloorChange:C,onAddDevice:A,addFloor:p,addZone:y,floors:_,collapsed:v,onToggleCollapse:()=>z(N=>!N)})}),b.jsx("main",{className:"flex-1 overflow-hidden",children:c})]}),b.jsx(I5,{isOpen:T,floors:_,onClose:()=>S(!1),onAddFloor:p,onUpdateFloor:m,onDeleteFloor:x,onAddZone:y,onUpdateZone:E,onDeleteZone:M})]})},k0={door:{name:"Puerta",icon:"",editable:!1,defaultSize:{width:40,height:40}},text:{name:"Etiqueta de Texto",icon:"",editable:!0,defaultSize:{width:120,height:40}}},Z1=(c,d)=>{const B=k0[c];if(!B)throw new Error(`Tipo de objeto desconocido: ${c}`);return{id:`${c}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:c,position:d,size:{...B.defaultSize},name:B.name,properties:{...c!=="rectangle"&&{color:B.color},...c==="rectangle"&&{borderWidth:8,borderStyle:"solid",backgroundColor:"transparent",borderRadius:0},...c==="text"&&{fontSize:16,fontWeight:"normal",textAlign:"center",color:"#000000",backgroundColor:"transparent",padding:4}}}};function im(c){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M48 96l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-245.5c0-4.2-1.7-8.3-4.7-11.3l33.9-33.9c12 12 18.7 28.3 18.7 45.3L448 416c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l245.5 0c17 0 33.3 6.7 45.3 18.7l74.5 74.5-33.9 33.9L320.8 84.7c-.3-.3-.5-.5-.8-.8L320 184c0 13.3-10.7 24-24 24l-192 0c-13.3 0-24-10.7-24-24L80 80 64 80c-8.8 0-16 7.2-16 16zm80-16l0 80 144 0 0-80L128 80zm32 240a64 64 0 1 1 128 0 64 64 0 1 1 -128 0z"},child:[]}]})(c)}const X0={desktop:{icon:B5,name:"PC Escritorio"},laptop:{icon:U5,name:"Laptop"},network:{icon:D5,name:"Red"},printer:{icon:q5,name:"Impresora"},others:{icon:im,name:"Otros Dispositivos"}},sm={active:{color:"#22c55e",name:"Activo"},inactive:{color:"#000",name:"Inactivo"},maintenance:{color:"#fbbf24",name:"Mantenimiento"},error:{color:"#ef4444",name:"Error"}},rm=({device:c,zoom:d,onStartDrag:B,isBeingDragged:C=!1})=>{const[A,_]=_t.useState(!1),p=X0[c.type],m=sm[c.status],x=p?.icon,y=z=>{z.button===0&&B(c,z)},E=()=>{},M=()=>{if(!c.specs)return[];const z=p?.fields||[];return Object.entries(c.specs).filter(([V,N])=>!z.includes(V)&&N&&N.toString().trim()!=="")},T=Math.max(24,38/d),S=Math.max(.8,1/d),v=M();return b.jsxs("div",{className:`absolute select-none cursor-grab active:cursor-grabbing transition-opacity ${C?"opacity-30":"hover:scale-105"}`,style:{left:c.position.x,top:c.position.y,transform:"translate(-50%, -50%)",pointerEvents:C?"none":"auto",zIndex:50},onMouseDown:y,onMouseEnter:()=>!C&&_(!0),onMouseLeave:()=>_(!1),onDoubleClick:E,children:[b.jsx("div",{className:"flex items-center justify-center transition-all duration-200",style:{width:T,height:T},children:x?b.jsx(x,{className:"transition-all duration-200 text-gray-100",style:{width:T*.6,height:T*.6}}):b.jsx("span",{className:"text-center leading-none text-gray-700",style:{fontSize:T*.6},children:""})}),b.jsx("div",{className:"absolute -top-1 rounded-full ring-1 ring-gray-400",style:{backgroundColor:m?.color||"#22c55e",width:T*.25,height:T*.25,animation:c.status==="active"?"pulse-status 1.5s infinite":void 0},title:m?.name||"Activo"}),A&&!C&&b.jsxs("div",{className:"absolute bg-gray-900 text-white px-3 py-2 rounded-lg shadow-lg pointer-events-none",style:{bottom:T+10,left:"50%",transform:`translateX(-50%) scale(${S})`,transformOrigin:"bottom center",zIndex:50,minWidth:"200px",maxWidth:"300px"},children:[b.jsx("div",{className:"text-sm font-medium",children:c.name}),b.jsxs("div",{className:"text-xs text-gray-300 mb-2",children:[p?.name||"Dispositivo","  ",m?.name||"Activo"]}),c.specs?.ip&&b.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:["IP: ",c.specs.ip]}),c.specs?.mac&&b.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:["MAC: ",c.specs.mac]}),v.length>0&&b.jsxs("div",{className:"border-t border-gray-700 pt-2 mt-2",children:[b.jsx("div",{className:"text-xs text-gray-300 font-medium mb-1",children:"Propiedades personalizadas:"}),v.slice(0,3).map(([z,H])=>b.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:[z,": ",H]},z)),v.length>3&&b.jsxs("div",{className:"text-xs text-gray-500 italic",children:["+",v.length-3]})]}),b.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]})},um=({object:c,zoom:d,onStartDrag:B,onUpdate:C,isBeingDragged:A=!1})=>{const[_,p]=_t.useState(!1),{theme:m}=Qh(),x=k0[c.type],y=V=>{V.button===0&&B(c,V)},E=()=>{A||p(!0)},M=()=>{p(!1)},T=V=>{switch(V){case"door":return 50;case"text":return 100;default:return 25}},S=()=>{switch(c.type){case"door":return b.jsx("div",{className:"w-full h-full flex items-center justify-center text-white",children:b.jsx(fg,{size:36})});case"text":return b.jsx("div",{className:"p-1 min-w-[20px] min-h-[20px] whitespace-pre-wrap break-words select-none",style:{fontSize:`${c.properties?.fontSize||16}px`,color:c.properties?.color||"#000000",fontWeight:c.properties?.fontWeight||"normal",backgroundColor:c.properties?.backgroundColor!=="transparent"?c.properties?.backgroundColor:"transparent",padding:c.properties?.backgroundColor!=="transparent"?"4px 8px":"2px",borderRadius:c.properties?.backgroundColor!=="transparent"?"4px":"0",boxShadow:c.properties?.backgroundColor!=="transparent"?"0 1px 3px rgba(0, 0, 0, 0.1)":"none"},children:c.name});default:return b.jsx("div",{className:"w-full h-full bg-gray-200 dark:bg-gray-600 border border-gray-400 dark:border-gray-500 flex items-center justify-center rounded",children:b.jsx("span",{style:{fontSize:Math.max(16,c.size.height*.5)},children:x?.icon||"?"})})}},v={position:"absolute",left:c.position.x,top:c.position.y,width:c.size.width,height:c.size.height,zIndex:T(c.type),cursor:"grab",opacity:A?.3:1,pointerEvents:A?"none":"auto"},z=()=>({...{position:"absolute",zIndex:9999,backgroundColor:"#1f2937",color:"white",borderRadius:"6px",padding:"8px 12px",fontSize:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.4)",whiteSpace:"nowrap",pointerEvents:"none"},bottom:c.size.height+8,left:"50%",transform:"translateX(-50%)"}),H=Math.max(.8,1/d);return b.jsxs("div",{style:v,className:`transition-opacity select-none ${A?"opacity-30":""}`,onMouseDown:y,onMouseEnter:E,onMouseLeave:M,children:[S(),_&&!A&&b.jsxs("div",{style:{...z(),transform:`${z().transform} scale(${H})`,transformOrigin:"bottom center"},children:[b.jsx("div",{className:"font-medium",children:x?.name}),c.type==="text"&&b.jsx("div",{className:"text-xs text-gray-300",children:c.name}),b.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Z-Index: ",T(c.type),"  X: ",Math.round(c.position.x),", Y: ",Math.round(c.position.y)]}),b.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-800",style:{display:c.type.startsWith("wall-diagonal")?"none":"block"}})]})]})},F1=({isOpen:c,initialText:d="",initialProperties:B={},onSave:C,onCancel:A,isEditing:_=!1})=>{const[p,m]=_t.useState({name:d,properties:{fontSize:"16",color:"#000000",fontWeight:"normal",backgroundColor:"transparent",padding:"4",...B}});if(_t.useEffect(()=>{c&&m({name:d,properties:{fontSize:"16",color:"#000000",fontWeight:"normal",backgroundColor:"transparent",padding:"4",...B}})},[c,_]),_t.useEffect(()=>{c||m({name:"",properties:{fontSize:"16",color:"#000000",fontWeight:"normal",backgroundColor:"transparent",padding:"4"}})},[c]),!c)return null;const x=()=>{p.name.trim()&&C(p)},y=E=>{m(M=>({...M,properties:{...M.properties,backgroundColor:E==="transparent"?"transparent":E}}))};return b.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50",children:b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 transition-colors duration-200",children:b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:_?"Editar Texto":"Aadir Texto"}),b.jsx("button",{onClick:A,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Texto *"}),b.jsx("textarea",{value:p.name,onChange:E=>m(M=>({...M,name:E.target.value})),placeholder:"Escribe el texto aqu...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200",rows:3})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tamao de fuente"}),b.jsxs("select",{value:p.properties.fontSize,onChange:E=>m(M=>({...M,properties:{...M.properties,fontSize:E.target.value}})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200",children:[b.jsx("option",{value:"12",children:"12px"}),b.jsx("option",{value:"14",children:"14px"}),b.jsx("option",{value:"16",children:"16px"}),b.jsx("option",{value:"18",children:"18px"}),b.jsx("option",{value:"20",children:"20px"}),b.jsx("option",{value:"24",children:"24px"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Color del texto"}),b.jsx("input",{type:"color",value:p.properties.color,onChange:E=>m(M=>({...M,properties:{...M.properties,color:E.target.value}})),className:"w-full h-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition-colors duration-200"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Color de fondo"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("label",{className:"flex items-center space-x-3",children:[b.jsx("input",{type:"radio",name:"backgroundType",checked:p.properties.backgroundColor==="transparent",onChange:()=>y("transparent"),className:"w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 dark:focus:ring-blue-400"}),b.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Sin fondo"})]}),b.jsxs("label",{className:"flex items-center space-x-3",children:[b.jsx("input",{type:"radio",name:"backgroundType",checked:p.properties.backgroundColor!=="transparent",onChange:()=>y("#ffffff"),className:"w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 dark:focus:ring-blue-400"}),b.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Con fondo"})]}),p.properties.backgroundColor!=="transparent"&&b.jsx("div",{className:"ml-7",children:b.jsx("input",{type:"color",value:p.properties.backgroundColor,onChange:E=>y(E.target.value),className:"w-full h-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition-colors duration-200"})})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Estilo del texto"}),b.jsxs("select",{value:p.properties.fontWeight,onChange:E=>m(M=>({...M,properties:{...M.properties,fontWeight:E.target.value}})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200",children:[b.jsx("option",{value:"normal",children:"Normal"}),b.jsx("option",{value:"bold",children:"Negrita"})]})]})]}),b.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg transition-colors duration-200",children:[b.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Vista previa:"}),b.jsx("div",{className:"flex items-center justify-center min-h-[60px] bg-white dark:bg-gray-600 rounded border border-gray-200 dark:border-gray-500",children:b.jsx("div",{style:{fontSize:`${p.properties.fontSize}px`,color:p.properties.color,fontWeight:p.properties.fontWeight,backgroundColor:p.properties.backgroundColor,padding:p.properties.backgroundColor!=="transparent"?"4px 8px":"0",borderRadius:p.properties.backgroundColor!=="transparent"?"4px":"0"},children:p.name||"Texto de ejemplo"})})]}),b.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[b.jsx("button",{onClick:A,className:"px-4 py-2 text-gray-600 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:"Cancelar"}),b.jsx("button",{onClick:x,disabled:!p.name.trim(),className:"px-4 py-2 bg-blue-500 dark:bg-blue-600 text-white rounded-lg hover:bg-blue-600 dark:hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:_?"Actualizar Texto":"Aadir Texto"})]})]})})})},om=({x:c,y:d,object:B,onEdit:C,onDelete:A,onClose:_})=>{if(!B)return null;const p=v=>{v==="edit"?C(B):v==="delete"&&A(B),_()},m=B.hasOwnProperty("status")||B.hasOwnProperty("customProperties")||B.hasOwnProperty("type")&&!k0[B.type],x=k0[B.type],y=X0[B.type],E=()=>m?!0:x&&x.hasOwnProperty("editable")?x.editable===!0:!1,T=m?{type:"Dispositivo",name:B.name||"Sin nombre",subtitle:y?y.name:B.type||"Tipo desconocido"}:{type:x?.name||B.type,name:B.name||x?.name||"Sin nombre",subtitle:null},S=B?.type==="line"||B?.type==="rect";return b.jsx("div",{className:"fixed inset-0 z-50",onClick:_,children:b.jsxs("div",{className:"absolute bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 min-w-[180px] transition-colors duration-200",style:{left:`${c}px`,top:`${d}px`,transform:"translate(-50%, -100%)"},onClick:v=>v.stopPropagation(),onContextMenu:v=>v.preventDefault(),children:[b.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700",children:[b.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:T.type}),b.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:T.name}),T.subtitle&&b.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:T.subtitle})]}),b.jsxs("div",{className:"py-1",children:[!S&&E()&&b.jsxs("button",{onClick:()=>p("edit"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200 flex items-center space-x-2",children:[b.jsx(Lh,{className:"w-4 h-4"}),b.jsx("span",{children:"Editar"})]}),b.jsxs("button",{onClick:()=>p("delete"),className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200 flex items-center space-x-2",children:[b.jsx(Y0,{className:"w-4 h-4"}),b.jsx("span",{children:"Eliminar"})]})]})]})})},cm=({isOpen:c,object:d,onConfirm:B,onCancel:C})=>{if(!c||!d)return null;const A=d.hasOwnProperty("status"),_=A?"dispositivo":"objeto";return b.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50",children:b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 transition-colors duration-200",children:b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-center mb-4",children:[b.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:b.jsx(R5,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),b.jsxs("div",{className:"ml-4",children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Confirmar eliminacin"}),b.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Esta accin no se puede deshacer"})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Ests seguro de que quieres eliminar el ",_," ",b.jsxs("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:['"',d.name||"Sin nombre",'"']}),"?"]}),A&&b.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:b.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[b.jsxs("div",{children:[b.jsx("strong",{children:"Tipo:"})," ",d.type]}),b.jsxs("div",{children:[b.jsx("strong",{children:"Estado:"})," ",d.status]}),b.jsxs("div",{children:[b.jsx("strong",{children:"Ubicacin:"})," ",d.floor," / ",d.zone]})]})})]}),b.jsxs("div",{className:"flex justify-end space-x-3",children:[b.jsx("button",{onClick:C,className:"px-4 py-2 text-gray-600 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:"Cancelar"}),b.jsx("button",{onClick:B,className:"px-4 py-2 bg-red-600 dark:bg-red-700 text-white rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors duration-200",children:"Eliminar"})]})]})})})};function fm(c){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M213.293 19.46L29.691 120.34h37.375l133.489-73.346-15.819 73.346h18.41l11.584-53.701 13.688 53.7h18.574l-19.447-76.294 202.941 76.295h51.147zM25 138.34v30h462v-30zm32 48v30h62v-30zm144 0v46h30v-46zm48 0v46h19.273L279 221.613V186.34zm190 0v141.707a24.618 24.618 0 0 1 9-1.707c3.166 0 6.2.61 9 1.707V186.34zm-238 64v242h30v-242zm247 94c-3.973 0-7 3.027-7 7s3.027 7 7 7 7-3.027 7-7-3.027-7-7-7zm-20.393 21.365l-16.421 24.635h21.63l9.743-14.613c-6.118-1.384-11.417-5.04-14.952-10.022zm40.786 0c-3.535 4.981-8.834 8.638-14.952 10.022l9.743 14.613h21.63zM409 408.34v30h78v-30zm-226 24.5l-60.4 45.3 10.8 14.4 49.6-37.2zm66 0v22.5l49.6 37.2 10.8-14.4z"},child:[]}]})(c)}function Zh(c){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 17.108c-75.73 0-137.122 61.392-137.122 137.122.055 23.25 6.022 46.107 11.58 56.262L256 494.892l119.982-274.244h-.063c11.27-20.324 17.188-43.18 17.202-66.418C393.122 78.5 331.73 17.108 256 17.108zm0 68.56a68.56 68.56 0 0 1 68.56 68.562A68.56 68.56 0 0 1 256 222.79a68.56 68.56 0 0 1-68.56-68.56A68.56 68.56 0 0 1 256 85.67z"},child:[]}]})(c)}const dm=({device:c,onSave:d,onCancel:B})=>{const{floors:C,loading:A}=Kh(),[_,p]=_t.useState({name:c.name||"",type:c.type||"",floor:c.floor||"",zone:c.zone||"",status:c.status||"active",customProperties:c.customProperties||[]}),[m,x]=_t.useState(""),[y,E]=_t.useState(""),[M,T]=_t.useState({}),[S,v]=_t.useState([]);_t.useEffect(()=>{c&&p({name:c.name||"",type:c.type||"",floor:c.floor||"",zone:c.zone||"",status:c.status||"active",customProperties:c.customProperties||[]})},[c]),_t.useEffect(()=>{if(C.length>0){const D=[];C.forEach(q=>{q.zones.forEach(w=>{D.push({id:`${q.id}-${w.id}`,floorId:q.id,zoneId:w.id,displayName:`${q.name} > ${w.name}`})})}),v(D)}},[C]);const z=()=>_.floor&&_.zone?`${_.floor}-${_.zone}`:"",H=D=>{if(!D){p(w=>({...w,floor:"",zone:""}));return}const q=S.find(w=>w.id===D);q&&p(w=>({...w,floor:q.floorId,zone:q.zoneId}))},V=(D,q)=>{p(w=>({...w,[D]:q})),M[D]&&T(w=>({...w,[D]:null}))},N=()=>{if(m.trim()&&y.trim()){const D={id:Date.now().toString(),name:m.trim(),value:y.trim()};p(q=>({...q,customProperties:[...q.customProperties,D]})),x(""),E("")}},h=D=>{p(q=>({...q,customProperties:q.customProperties.filter(w=>w.id!==D)}))},U=(D,q,w)=>{p(Q=>({...Q,customProperties:Q.customProperties.map(F=>F.id===D?{...F,[q]:w}:F)}))},G=()=>{const D={};return _.name.trim()||(D.name="El nombre es obligatorio"),(!_.floor||!_.zone)&&(D.location="Debe seleccionar una ubicacin"),T(D),Object.keys(D).length===0},Y=D=>{if(D.preventDefault(),G()){const q={...c,..._,id:c.id,position:c.position||{x:0,y:0}};d(q)}};if(A)return b.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50",children:b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 transition-colors duration-200",children:b.jsx("div",{className:"text-center text-gray-800 dark:text-gray-200",children:"Cargando..."})})});const W=X0[_.type];return W?b.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50",children:b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto transition-colors duration-200",children:b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:["Editar ",W.name]}),b.jsx("button",{onClick:B,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre del Dispositivo *"}),b.jsx("input",{type:"text",value:_.name,onChange:D=>V("name",D.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200 ${M.name?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`}),M.name&&b.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1",children:M.name})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de Dispositivo"}),b.jsx("input",{type:"text",value:W.name,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-600 text-gray-500 dark:text-gray-400"}),b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"El tipo de dispositivo no se puede cambiar despus de la creacin"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Asignar a *"}),b.jsxs("select",{value:z(),onChange:D=>H(D.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200 ${M.location?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,children:[b.jsx("option",{value:"",children:"Seleccionar ubicacin..."}),S.map(D=>b.jsx("option",{value:D.id,children:D.displayName},D.id))]}),M.location&&b.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1",children:M.location}),_.floor&&_.zone&&b.jsxs("div",{className:"flex mt-2 text-xs text-gray-500 dark:text-gray-400",children:[b.jsx(Zh,{className:"w-4 h-4"})," Ubicacin: ",S.find(D=>D.id===z())?.displayName]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Estado"}),b.jsxs("select",{value:_.status,onChange:D=>p(q=>({...q,status:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200",children:[b.jsx("option",{value:"active",children:"Activo"}),b.jsx("option",{value:"inactive",children:"Inactivo"}),b.jsx("option",{value:"maintenance",children:"Mantenimiento"}),b.jsx("option",{value:"error",children:"Error"})]})]}),b.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[b.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Propiedades del Dispositivo"}),b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4 transition-colors duration-200",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-1",children:"Nombre"}),b.jsx("input",{type:"text",value:m,onChange:D=>x(D.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 transition-colors duration-200"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-1",children:"Valor"}),b.jsx("input",{type:"text",value:y,onChange:D=>E(D.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 transition-colors duration-200"})]})]}),b.jsxs("button",{type:"button",onClick:N,className:"px-3 py-1 bg-blue-500 dark:bg-blue-600 text-white rounded text-sm hover:bg-blue-600 dark:hover:bg-blue-500 flex items-center space-x-1 transition-colors duration-200",children:[b.jsx(Td,{className:"w-4 h-4"}),b.jsx("span",{children:"Aadir Propiedad"})]})]}),_.customProperties.length>0?b.jsxs("div",{className:"space-y-2",children:[b.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Propiedades aadidas:"}),_.customProperties.map((D,q)=>b.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg p-3 transition-colors duration-200",children:[b.jsx("input",{type:"text",value:D.name,onChange:w=>U(D.id,"name",w.target.value),className:"flex-1 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 transition-colors duration-200"}),b.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),b.jsx("input",{type:"text",value:D.value,onChange:w=>U(D.id,"value",w.target.value),className:"flex-1 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 transition-colors duration-200"}),b.jsx("button",{type:"button",onClick:()=>h(D.id),className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-1 transition-colors",title:"Eliminar propiedad",children:b.jsx(Y0,{className:"w-4 h-4"})})]},D.id))]}):b.jsx("div",{className:"text-center py-3 text-gray-500 dark:text-gray-400 text-sm",children:"No hay propiedades aadidas"})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-6",children:[b.jsx("button",{type:"button",onClick:B,className:"px-4 py-2 text-gray-600 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:"Cancelar"}),b.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 dark:bg-blue-600 text-white rounded-lg hover:bg-blue-600 dark:hover:bg-blue-500 transition-colors duration-200",children:"Guardar Cambios"})]})]})]})})}):b.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 transition-colors duration-200",children:[b.jsx("div",{className:"text-center text-red-600 dark:text-red-400",children:"Error: Tipo de dispositivo no vlido"}),b.jsx("button",{onClick:B,className:"mt-4 px-4 py-2 bg-gray-500 dark:bg-gray-600 text-white rounded hover:bg-gray-600 dark:hover:bg-gray-500 transition-colors",children:"Cerrar"})]})})};var Ed={exports:{}},e0={},Th={},Ah={},J1;function ie(){return J1||(J1=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c._registerNode=c.Konva=c.glob=void 0;const d=Math.PI/180;function B(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}c.glob=typeof R1<"u"?R1:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},c.Konva={_global:c.glob,version:"9.3.22",isBrowser:B(),isUnminified:/param/.test((function(A){}).toString()),dblClickWindow:400,getAngle(A){return c.Konva.angleDeg?A*d:A},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return c.Konva.DD.isDragging},isTransforming(){var A;return(A=c.Konva.Transformer)===null||A===void 0?void 0:A.isTransforming()},isDragReady(){return!!c.Konva.DD.node},releaseCanvasOnDestroy:!0,document:c.glob.document,_injectGlobal(A){c.glob.Konva=A}};const C=A=>{c.Konva[A.prototype.getClassName()]=A};c._registerNode=C,c.Konva._injectGlobal(c.Konva)})(Ah)),Ah}var Mh={},P1;function ra(){return P1||(P1=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.Util=c.Transform=void 0;const d=ie();class B{constructor(U=[1,0,0,1,0,0]){this.dirty=!1,this.m=U&&U.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new B(this.m)}copyInto(U){U.m[0]=this.m[0],U.m[1]=this.m[1],U.m[2]=this.m[2],U.m[3]=this.m[3],U.m[4]=this.m[4],U.m[5]=this.m[5]}point(U){const G=this.m;return{x:G[0]*U.x+G[2]*U.y+G[4],y:G[1]*U.x+G[3]*U.y+G[5]}}translate(U,G){return this.m[4]+=this.m[0]*U+this.m[2]*G,this.m[5]+=this.m[1]*U+this.m[3]*G,this}scale(U,G){return this.m[0]*=U,this.m[1]*=U,this.m[2]*=G,this.m[3]*=G,this}rotate(U){const G=Math.cos(U),Y=Math.sin(U),W=this.m[0]*G+this.m[2]*Y,D=this.m[1]*G+this.m[3]*Y,q=this.m[0]*-Y+this.m[2]*G,w=this.m[1]*-Y+this.m[3]*G;return this.m[0]=W,this.m[1]=D,this.m[2]=q,this.m[3]=w,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(U,G){const Y=this.m[0]+this.m[2]*G,W=this.m[1]+this.m[3]*G,D=this.m[2]+this.m[0]*U,q=this.m[3]+this.m[1]*U;return this.m[0]=Y,this.m[1]=W,this.m[2]=D,this.m[3]=q,this}multiply(U){const G=this.m[0]*U.m[0]+this.m[2]*U.m[1],Y=this.m[1]*U.m[0]+this.m[3]*U.m[1],W=this.m[0]*U.m[2]+this.m[2]*U.m[3],D=this.m[1]*U.m[2]+this.m[3]*U.m[3],q=this.m[0]*U.m[4]+this.m[2]*U.m[5]+this.m[4],w=this.m[1]*U.m[4]+this.m[3]*U.m[5]+this.m[5];return this.m[0]=G,this.m[1]=Y,this.m[2]=W,this.m[3]=D,this.m[4]=q,this.m[5]=w,this}invert(){const U=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),G=this.m[3]*U,Y=-this.m[1]*U,W=-this.m[2]*U,D=this.m[0]*U,q=U*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),w=U*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=G,this.m[1]=Y,this.m[2]=W,this.m[3]=D,this.m[4]=q,this.m[5]=w,this}getMatrix(){return this.m}decompose(){const U=this.m[0],G=this.m[1],Y=this.m[2],W=this.m[3],D=this.m[4],q=this.m[5],w=U*W-G*Y,Q={x:D,y:q,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(U!=0||G!=0){const F=Math.sqrt(U*U+G*G);Q.rotation=G>0?Math.acos(U/F):-Math.acos(U/F),Q.scaleX=F,Q.scaleY=w/F,Q.skewX=(U*Y+G*W)/w,Q.skewY=0}else if(Y!=0||W!=0){const F=Math.sqrt(Y*Y+W*W);Q.rotation=Math.PI/2-(W>0?Math.acos(-Y/F):-Math.acos(Y/F)),Q.scaleX=w/F,Q.scaleY=F,Q.skewX=0,Q.skewY=(U*Y+G*W)/w}return Q.rotation=c.Util._getRotation(Q.rotation),Q}}c.Transform=B;const C="[object Array]",A="[object Number]",_="[object String]",p="[object Boolean]",m=Math.PI/180,x=180/Math.PI,y="#",E="",M="0",T="Konva warning: ",S="Konva error: ",v="rgb(",z={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},H=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let V=[];const N=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(h){setTimeout(h,60)};c.Util={_isElement(h){return!!(h&&h.nodeType==1)},_isFunction(h){return!!(h&&h.constructor&&h.call&&h.apply)},_isPlainObject(h){return!!h&&h.constructor===Object},_isArray(h){return Object.prototype.toString.call(h)===C},_isNumber(h){return Object.prototype.toString.call(h)===A&&!isNaN(h)&&isFinite(h)},_isString(h){return Object.prototype.toString.call(h)===_},_isBoolean(h){return Object.prototype.toString.call(h)===p},isObject(h){return h instanceof Object},isValidSelector(h){if(typeof h!="string")return!1;const U=h[0];return U==="#"||U==="."||U===U.toUpperCase()},_sign(h){return h===0||h>0?1:-1},requestAnimFrame(h){V.push(h),V.length===1&&N(function(){const U=V;V=[],U.forEach(function(G){G()})})},createCanvasElement(){const h=document.createElement("canvas");try{h.style=h.style||{}}catch{}return h},createImageElement(){return document.createElement("img")},_isInDocument(h){for(;h=h.parentNode;)if(h==document)return!0;return!1},_urlToImage(h,U){const G=c.Util.createImageElement();G.onload=function(){U(G)},G.src=h},_rgbToHex(h,U,G){return((1<<24)+(h<<16)+(U<<8)+G).toString(16).slice(1)},_hexToRgb(h){h=h.replace(y,E);const U=parseInt(h,16);return{r:U>>16&255,g:U>>8&255,b:U&255}},getRandomColor(){let h=(Math.random()*16777215<<0).toString(16);for(;h.length<6;)h=M+h;return y+h},getRGB(h){let U;return h in z?(U=z[h],{r:U[0],g:U[1],b:U[2]}):h[0]===y?this._hexToRgb(h.substring(1)):h.substr(0,4)===v?(U=H.exec(h.replace(/ /g,"")),{r:parseInt(U[1],10),g:parseInt(U[2],10),b:parseInt(U[3],10)}):{r:0,g:0,b:0}},colorToRGBA(h){return h=h||"black",c.Util._namedColorToRBA(h)||c.Util._hex3ColorToRGBA(h)||c.Util._hex4ColorToRGBA(h)||c.Util._hex6ColorToRGBA(h)||c.Util._hex8ColorToRGBA(h)||c.Util._rgbColorToRGBA(h)||c.Util._rgbaColorToRGBA(h)||c.Util._hslColorToRGBA(h)},_namedColorToRBA(h){const U=z[h.toLowerCase()];return U?{r:U[0],g:U[1],b:U[2],a:1}:null},_rgbColorToRGBA(h){if(h.indexOf("rgb(")===0){h=h.match(/rgb\(([^)]+)\)/)[1];const U=h.split(/ *, */).map(Number);return{r:U[0],g:U[1],b:U[2],a:1}}},_rgbaColorToRGBA(h){if(h.indexOf("rgba(")===0){h=h.match(/rgba\(([^)]+)\)/)[1];const U=h.split(/ *, */).map((G,Y)=>G.slice(-1)==="%"?Y===3?parseInt(G)/100:parseInt(G)/100*255:Number(G));return{r:U[0],g:U[1],b:U[2],a:U[3]}}},_hex8ColorToRGBA(h){if(h[0]==="#"&&h.length===9)return{r:parseInt(h.slice(1,3),16),g:parseInt(h.slice(3,5),16),b:parseInt(h.slice(5,7),16),a:parseInt(h.slice(7,9),16)/255}},_hex6ColorToRGBA(h){if(h[0]==="#"&&h.length===7)return{r:parseInt(h.slice(1,3),16),g:parseInt(h.slice(3,5),16),b:parseInt(h.slice(5,7),16),a:1}},_hex4ColorToRGBA(h){if(h[0]==="#"&&h.length===5)return{r:parseInt(h[1]+h[1],16),g:parseInt(h[2]+h[2],16),b:parseInt(h[3]+h[3],16),a:parseInt(h[4]+h[4],16)/255}},_hex3ColorToRGBA(h){if(h[0]==="#"&&h.length===4)return{r:parseInt(h[1]+h[1],16),g:parseInt(h[2]+h[2],16),b:parseInt(h[3]+h[3],16),a:1}},_hslColorToRGBA(h){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(h)){const[U,...G]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(h),Y=Number(G[0])/360,W=Number(G[1])/100,D=Number(G[2])/100;let q,w,Q;if(W===0)return Q=D*255,{r:Math.round(Q),g:Math.round(Q),b:Math.round(Q),a:1};D<.5?q=D*(1+W):q=D+W-D*W;const F=2*D-q,$=[0,0,0];for(let st=0;st<3;st++)w=Y+1/3*-(st-1),w<0&&w++,w>1&&w--,6*w<1?Q=F+(q-F)*6*w:2*w<1?Q=q:3*w<2?Q=F+(q-F)*(2/3-w)*6:Q=F,$[st]=Q*255;return{r:Math.round($[0]),g:Math.round($[1]),b:Math.round($[2]),a:1}}},haveIntersection(h,U){return!(U.x>h.x+h.width||U.x+U.width<h.x||U.y>h.y+h.height||U.y+U.height<h.y)},cloneObject(h){const U={};for(const G in h)this._isPlainObject(h[G])?U[G]=this.cloneObject(h[G]):this._isArray(h[G])?U[G]=this.cloneArray(h[G]):U[G]=h[G];return U},cloneArray(h){return h.slice(0)},degToRad(h){return h*m},radToDeg(h){return h*x},_degToRad(h){return c.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),c.Util.degToRad(h)},_radToDeg(h){return c.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),c.Util.radToDeg(h)},_getRotation(h){return d.Konva.angleDeg?c.Util.radToDeg(h):h},_capitalize(h){return h.charAt(0).toUpperCase()+h.slice(1)},throw(h){throw new Error(S+h)},error(h){console.error(S+h)},warn(h){d.Konva.showWarnings&&console.warn(T+h)},each(h,U){for(const G in h)U(G,h[G])},_inRange(h,U,G){return U<=h&&h<G},_getProjectionToSegment(h,U,G,Y,W,D){let q,w,Q;const F=(h-G)*(h-G)+(U-Y)*(U-Y);if(F==0)q=h,w=U,Q=(W-G)*(W-G)+(D-Y)*(D-Y);else{const $=((W-h)*(G-h)+(D-U)*(Y-U))/F;$<0?(q=h,w=U,Q=(h-W)*(h-W)+(U-D)*(U-D)):$>1?(q=G,w=Y,Q=(G-W)*(G-W)+(Y-D)*(Y-D)):(q=h+$*(G-h),w=U+$*(Y-U),Q=(q-W)*(q-W)+(w-D)*(w-D))}return[q,w,Q]},_getProjectionToLine(h,U,G){const Y=c.Util.cloneObject(h);let W=Number.MAX_VALUE;return U.forEach(function(D,q){if(!G&&q===U.length-1)return;const w=U[(q+1)%U.length],Q=c.Util._getProjectionToSegment(D.x,D.y,w.x,w.y,h.x,h.y),F=Q[0],$=Q[1],st=Q[2];st<W&&(Y.x=F,Y.y=$,W=st)}),Y},_prepareArrayForTween(h,U,G){const Y=[],W=[];if(h.length>U.length){const q=U;U=h,h=q}for(let q=0;q<h.length;q+=2)Y.push({x:h[q],y:h[q+1]});for(let q=0;q<U.length;q+=2)W.push({x:U[q],y:U[q+1]});const D=[];return W.forEach(function(q){const w=c.Util._getProjectionToLine(q,Y,G);D.push(w.x),D.push(w.y)}),D},_prepareToStringify(h){let U;h.visitedByCircularReferenceRemoval=!0;for(const G in h)if(h.hasOwnProperty(G)&&h[G]&&typeof h[G]=="object"){if(U=Object.getOwnPropertyDescriptor(h,G),h[G].visitedByCircularReferenceRemoval||c.Util._isElement(h[G]))if(U.configurable)delete h[G];else return null;else if(c.Util._prepareToStringify(h[G])===null)if(U.configurable)delete h[G];else return null}return delete h.visitedByCircularReferenceRemoval,h},_assign(h,U){for(const G in U)h[G]=U[G];return h},_getFirstPointerId(h){return h.touches?h.changedTouches[0].identifier:h.pointerId||999},releaseCanvas(...h){d.Konva.releaseCanvasOnDestroy&&h.forEach(U=>{U.width=0,U.height=0})},drawRoundedRectPath(h,U,G,Y){let W=0,D=0,q=0,w=0;typeof Y=="number"?W=D=q=w=Math.min(Y,U/2,G/2):(W=Math.min(Y[0]||0,U/2,G/2),D=Math.min(Y[1]||0,U/2,G/2),w=Math.min(Y[2]||0,U/2,G/2),q=Math.min(Y[3]||0,U/2,G/2)),h.moveTo(W,0),h.lineTo(U-D,0),h.arc(U-D,D,D,Math.PI*3/2,0,!1),h.lineTo(U,G-w),h.arc(U-w,G-w,w,0,Math.PI/2,!1),h.lineTo(q,G),h.arc(q,G-q,q,Math.PI/2,Math.PI,!1),h.lineTo(0,W),h.arc(W,W,W,Math.PI,Math.PI*3/2,!1)}}})(Mh)),Mh}var a0={},ds={},hs={},W1;function hg(){if(W1)return hs;W1=1,Object.defineProperty(hs,"__esModule",{value:!0}),hs.HitContext=hs.SceneContext=hs.Context=void 0;const c=ra(),d=ie();function B(V){const N=[],h=V.length,U=c.Util;for(let G=0;G<h;G++){let Y=V[G];U._isNumber(Y)?Y=Math.round(Y*1e3)/1e3:U._isString(Y)||(Y=Y+""),N.push(Y)}return N}const C=",",A="(",_=")",p="([",m="])",x=";",y="()",E="=",M=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],T=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],S=100;let v=class{constructor(N){this.canvas=N,d.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(N){N.fillEnabled()&&this._fill(N)}_fill(N){}strokeShape(N){N.hasStroke()&&this._stroke(N)}_stroke(N){}fillStrokeShape(N){N.attrs.fillAfterStrokeEnabled?(this.strokeShape(N),this.fillShape(N)):(this.fillShape(N),this.strokeShape(N))}getTrace(N,h){let U=this.traceArr,G=U.length,Y="",W,D,q,w;for(W=0;W<G;W++)D=U[W],q=D.method,q?(w=D.args,Y+=q,N?Y+=y:c.Util._isArray(w[0])?Y+=p+w.join(C)+m:(h&&(w=w.map(Q=>typeof Q=="number"?Math.floor(Q):Q)),Y+=A+w.join(C)+_)):(Y+=D.property,N||(Y+=E+D.val)),Y+=x;return Y}clearTrace(){this.traceArr=[]}_trace(N){let h=this.traceArr,U;h.push(N),U=h.length,U>=S&&h.shift()}reset(){const N=this.getCanvas().getPixelRatio();this.setTransform(1*N,0,0,1*N,0,0)}getCanvas(){return this.canvas}clear(N){const h=this.getCanvas();N?this.clearRect(N.x||0,N.y||0,N.width||0,N.height||0):this.clearRect(0,0,h.getWidth()/h.pixelRatio,h.getHeight()/h.pixelRatio)}_applyLineCap(N){const h=N.attrs.lineCap;h&&this.setAttr("lineCap",h)}_applyOpacity(N){const h=N.getAbsoluteOpacity();h!==1&&this.setAttr("globalAlpha",h)}_applyLineJoin(N){const h=N.attrs.lineJoin;h&&this.setAttr("lineJoin",h)}setAttr(N,h){this._context[N]=h}arc(N,h,U,G,Y,W){this._context.arc(N,h,U,G,Y,W)}arcTo(N,h,U,G,Y){this._context.arcTo(N,h,U,G,Y)}beginPath(){this._context.beginPath()}bezierCurveTo(N,h,U,G,Y,W){this._context.bezierCurveTo(N,h,U,G,Y,W)}clearRect(N,h,U,G){this._context.clearRect(N,h,U,G)}clip(...N){this._context.clip.apply(this._context,N)}closePath(){this._context.closePath()}createImageData(N,h){const U=arguments;if(U.length===2)return this._context.createImageData(N,h);if(U.length===1)return this._context.createImageData(N)}createLinearGradient(N,h,U,G){return this._context.createLinearGradient(N,h,U,G)}createPattern(N,h){return this._context.createPattern(N,h)}createRadialGradient(N,h,U,G,Y,W){return this._context.createRadialGradient(N,h,U,G,Y,W)}drawImage(N,h,U,G,Y,W,D,q,w){const Q=arguments,F=this._context;Q.length===3?F.drawImage(N,h,U):Q.length===5?F.drawImage(N,h,U,G,Y):Q.length===9&&F.drawImage(N,h,U,G,Y,W,D,q,w)}ellipse(N,h,U,G,Y,W,D,q){this._context.ellipse(N,h,U,G,Y,W,D,q)}isPointInPath(N,h,U,G){return U?this._context.isPointInPath(U,N,h,G):this._context.isPointInPath(N,h,G)}fill(...N){this._context.fill.apply(this._context,N)}fillRect(N,h,U,G){this._context.fillRect(N,h,U,G)}strokeRect(N,h,U,G){this._context.strokeRect(N,h,U,G)}fillText(N,h,U,G){G?this._context.fillText(N,h,U,G):this._context.fillText(N,h,U)}measureText(N){return this._context.measureText(N)}getImageData(N,h,U,G){return this._context.getImageData(N,h,U,G)}lineTo(N,h){this._context.lineTo(N,h)}moveTo(N,h){this._context.moveTo(N,h)}rect(N,h,U,G){this._context.rect(N,h,U,G)}roundRect(N,h,U,G,Y){this._context.roundRect(N,h,U,G,Y)}putImageData(N,h,U){this._context.putImageData(N,h,U)}quadraticCurveTo(N,h,U,G){this._context.quadraticCurveTo(N,h,U,G)}restore(){this._context.restore()}rotate(N){this._context.rotate(N)}save(){this._context.save()}scale(N,h){this._context.scale(N,h)}setLineDash(N){this._context.setLineDash?this._context.setLineDash(N):"mozDash"in this._context?this._context.mozDash=N:"webkitLineDash"in this._context&&(this._context.webkitLineDash=N)}getLineDash(){return this._context.getLineDash()}setTransform(N,h,U,G,Y,W){this._context.setTransform(N,h,U,G,Y,W)}stroke(N){N?this._context.stroke(N):this._context.stroke()}strokeText(N,h,U,G){this._context.strokeText(N,h,U,G)}transform(N,h,U,G,Y,W){this._context.transform(N,h,U,G,Y,W)}translate(N,h){this._context.translate(N,h)}_enableTrace(){let N=this,h=M.length,U=this.setAttr,G,Y;const W=function(D){let q=N[D],w;N[D]=function(){return Y=B(Array.prototype.slice.call(arguments,0)),w=q.apply(N,arguments),N._trace({method:D,args:Y}),w}};for(G=0;G<h;G++)W(M[G]);N.setAttr=function(){U.apply(N,arguments);const D=arguments[0];let q=arguments[1];(D==="shadowOffsetX"||D==="shadowOffsetY"||D==="shadowBlur")&&(q=q/this.canvas.getPixelRatio()),N._trace({property:D,val:q})}}_applyGlobalCompositeOperation(N){const h=N.attrs.globalCompositeOperation;!h||h==="source-over"||this.setAttr("globalCompositeOperation",h)}};hs.Context=v,T.forEach(function(V){Object.defineProperty(v.prototype,V,{get(){return this._context[V]},set(N){this._context[V]=N}})});class z extends v{constructor(N,{willReadFrequently:h=!1}={}){super(N),this._context=N._canvas.getContext("2d",{willReadFrequently:h})}_fillColor(N){const h=N.fill();this.setAttr("fillStyle",h),N._fillFunc(this)}_fillPattern(N){this.setAttr("fillStyle",N._getFillPattern()),N._fillFunc(this)}_fillLinearGradient(N){const h=N._getLinearGradient();h&&(this.setAttr("fillStyle",h),N._fillFunc(this))}_fillRadialGradient(N){const h=N._getRadialGradient();h&&(this.setAttr("fillStyle",h),N._fillFunc(this))}_fill(N){const h=N.fill(),U=N.getFillPriority();if(h&&U==="color"){this._fillColor(N);return}const G=N.getFillPatternImage();if(G&&U==="pattern"){this._fillPattern(N);return}const Y=N.getFillLinearGradientColorStops();if(Y&&U==="linear-gradient"){this._fillLinearGradient(N);return}const W=N.getFillRadialGradientColorStops();if(W&&U==="radial-gradient"){this._fillRadialGradient(N);return}h?this._fillColor(N):G?this._fillPattern(N):Y?this._fillLinearGradient(N):W&&this._fillRadialGradient(N)}_strokeLinearGradient(N){const h=N.getStrokeLinearGradientStartPoint(),U=N.getStrokeLinearGradientEndPoint(),G=N.getStrokeLinearGradientColorStops(),Y=this.createLinearGradient(h.x,h.y,U.x,U.y);if(G){for(let W=0;W<G.length;W+=2)Y.addColorStop(G[W],G[W+1]);this.setAttr("strokeStyle",Y)}}_stroke(N){const h=N.dash(),U=N.getStrokeScaleEnabled();if(N.hasStroke()){if(!U){this.save();const Y=this.getCanvas().getPixelRatio();this.setTransform(Y,0,0,Y,0,0)}this._applyLineCap(N),h&&N.dashEnabled()&&(this.setLineDash(h),this.setAttr("lineDashOffset",N.dashOffset())),this.setAttr("lineWidth",N.strokeWidth()),N.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),N.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(N):this.setAttr("strokeStyle",N.stroke()),N._strokeFunc(this),U||this.restore()}}_applyShadow(N){var h,U,G;const Y=(h=N.getShadowRGBA())!==null&&h!==void 0?h:"black",W=(U=N.getShadowBlur())!==null&&U!==void 0?U:5,D=(G=N.getShadowOffset())!==null&&G!==void 0?G:{x:0,y:0},q=N.getAbsoluteScale(),w=this.canvas.getPixelRatio(),Q=q.x*w,F=q.y*w;this.setAttr("shadowColor",Y),this.setAttr("shadowBlur",W*Math.min(Math.abs(Q),Math.abs(F))),this.setAttr("shadowOffsetX",D.x*Q),this.setAttr("shadowOffsetY",D.y*F)}}hs.SceneContext=z;class H extends v{constructor(N){super(N),this._context=N._canvas.getContext("2d",{willReadFrequently:!0})}_fill(N){this.save(),this.setAttr("fillStyle",N.colorKey),N._fillFuncHit(this),this.restore()}strokeShape(N){N.hasHitStroke()&&this._stroke(N)}_stroke(N){if(N.hasHitStroke()){const h=N.getStrokeScaleEnabled();if(!h){this.save();const Y=this.getCanvas().getPixelRatio();this.setTransform(Y,0,0,Y,0,0)}this._applyLineCap(N);const U=N.hitStrokeWidth(),G=U==="auto"?N.strokeWidth():U;this.setAttr("lineWidth",G),this.setAttr("strokeStyle",N.colorKey),N._strokeFuncHit(this),h||this.restore()}}}return hs.HitContext=H,hs}var I1;function zd(){if(I1)return ds;I1=1,Object.defineProperty(ds,"__esModule",{value:!0}),ds.HitCanvas=ds.SceneCanvas=ds.Canvas=void 0;const c=ra(),d=hg(),B=ie();let C;function A(){if(C)return C;const x=c.Util.createCanvasElement(),y=x.getContext("2d");return C=(function(){const E=B.Konva._global.devicePixelRatio||1,M=y.webkitBackingStorePixelRatio||y.mozBackingStorePixelRatio||y.msBackingStorePixelRatio||y.oBackingStorePixelRatio||y.backingStorePixelRatio||1;return E/M})(),c.Util.releaseCanvas(x),C}class _{constructor(y){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const M=(y||{}).pixelRatio||B.Konva.pixelRatio||A();this.pixelRatio=M,this._canvas=c.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(y){const E=this.pixelRatio;this.pixelRatio=y,this.setSize(this.getWidth()/E,this.getHeight()/E)}setWidth(y){this.width=this._canvas.width=y*this.pixelRatio,this._canvas.style.width=y+"px";const E=this.pixelRatio;this.getContext()._context.scale(E,E)}setHeight(y){this.height=this._canvas.height=y*this.pixelRatio,this._canvas.style.height=y+"px";const E=this.pixelRatio;this.getContext()._context.scale(E,E)}getWidth(){return this.width}getHeight(){return this.height}setSize(y,E){this.setWidth(y||0),this.setHeight(E||0)}toDataURL(y,E){try{return this._canvas.toDataURL(y,E)}catch{try{return this._canvas.toDataURL()}catch(T){return c.Util.error("Unable to get data URL. "+T.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}ds.Canvas=_;class p extends _{constructor(y={width:0,height:0,willReadFrequently:!1}){super(y),this.context=new d.SceneContext(this,{willReadFrequently:y.willReadFrequently}),this.setSize(y.width,y.height)}}ds.SceneCanvas=p;class m extends _{constructor(y={width:0,height:0}){super(y),this.hitCanvas=!0,this.context=new d.HitContext(this),this.setSize(y.width,y.height)}}return ds.HitCanvas=m,ds}var Oh={},$1;function Fh(){return $1||($1=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.DD=void 0;const d=ie(),B=ra();c.DD={get isDragging(){let C=!1;return c.DD._dragElements.forEach(A=>{A.dragStatus==="dragging"&&(C=!0)}),C},justDragged:!1,get node(){let C;return c.DD._dragElements.forEach(A=>{C=A.node}),C},_dragElements:new Map,_drag(C){const A=[];c.DD._dragElements.forEach((_,p)=>{const{node:m}=_,x=m.getStage();x.setPointersPositions(C),_.pointerId===void 0&&(_.pointerId=B.Util._getFirstPointerId(C));const y=x._changedPointerPositions.find(E=>E.id===_.pointerId);if(y){if(_.dragStatus!=="dragging"){const E=m.dragDistance();if(Math.max(Math.abs(y.x-_.startPointerPos.x),Math.abs(y.y-_.startPointerPos.y))<E||(m.startDrag({evt:C}),!m.isDragging()))return}m._setDragPosition(C,_),A.push(m)}}),A.forEach(_=>{_.fire("dragmove",{type:"dragmove",target:_,evt:C},!0)})},_endDragBefore(C){const A=[];c.DD._dragElements.forEach(_=>{const{node:p}=_,m=p.getStage();if(C&&m.setPointersPositions(C),!m._changedPointerPositions.find(E=>E.id===_.pointerId))return;(_.dragStatus==="dragging"||_.dragStatus==="stopped")&&(c.DD.justDragged=!0,d.Konva._mouseListenClick=!1,d.Konva._touchListenClick=!1,d.Konva._pointerListenClick=!1,_.dragStatus="stopped");const y=_.node.getLayer()||_.node instanceof d.Konva.Stage&&_.node;y&&A.indexOf(y)===-1&&A.push(y)}),A.forEach(_=>{_.draw()})},_endDragAfter(C){c.DD._dragElements.forEach((A,_)=>{A.dragStatus==="stopped"&&A.node.fire("dragend",{type:"dragend",target:A.node,evt:C},!0),A.dragStatus!=="dragging"&&c.DD._dragElements.delete(_)})}},d.Konva.isBrowser&&(window.addEventListener("mouseup",c.DD._endDragBefore,!0),window.addEventListener("touchend",c.DD._endDragBefore,!0),window.addEventListener("touchcancel",c.DD._endDragBefore,!0),window.addEventListener("mousemove",c.DD._drag),window.addEventListener("touchmove",c.DD._drag),window.addEventListener("mouseup",c.DD._endDragAfter,!1),window.addEventListener("touchend",c.DD._endDragAfter,!1),window.addEventListener("touchcancel",c.DD._endDragAfter,!1))})(Oh)),Oh}var zh={},jn={},t2;function ge(){if(t2)return jn;t2=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.RGBComponent=C,jn.alphaComponent=A,jn.getNumberValidator=_,jn.getNumberOrArrayOfNumbersValidator=p,jn.getNumberOrAutoValidator=m,jn.getStringValidator=x,jn.getStringOrGradientValidator=y,jn.getFunctionValidator=E,jn.getNumberArrayValidator=M,jn.getBooleanValidator=T,jn.getComponentValidator=S;const c=ie(),d=ra();function B(v){return d.Util._isString(v)?'"'+v+'"':Object.prototype.toString.call(v)==="[object Number]"||d.Util._isBoolean(v)?v:Object.prototype.toString.call(v)}function C(v){return v>255?255:v<0?0:Math.round(v)}function A(v){return v>1?1:v<1e-4?1e-4:v}function _(){if(c.Konva.isUnminified)return function(v,z){return d.Util._isNumber(v)||d.Util.warn(B(v)+' is a not valid value for "'+z+'" attribute. The value should be a number.'),v}}function p(v){if(c.Konva.isUnminified)return function(z,H){let V=d.Util._isNumber(z),N=d.Util._isArray(z)&&z.length==v;return!V&&!N&&d.Util.warn(B(z)+' is a not valid value for "'+H+'" attribute. The value should be a number or Array<number>('+v+")"),z}}function m(){if(c.Konva.isUnminified)return function(v,z){return d.Util._isNumber(v)||v==="auto"||d.Util.warn(B(v)+' is a not valid value for "'+z+'" attribute. The value should be a number or "auto".'),v}}function x(){if(c.Konva.isUnminified)return function(v,z){return d.Util._isString(v)||d.Util.warn(B(v)+' is a not valid value for "'+z+'" attribute. The value should be a string.'),v}}function y(){if(c.Konva.isUnminified)return function(v,z){const H=d.Util._isString(v),V=Object.prototype.toString.call(v)==="[object CanvasGradient]"||v&&v.addColorStop;return H||V||d.Util.warn(B(v)+' is a not valid value for "'+z+'" attribute. The value should be a string or a native gradient.'),v}}function E(){if(c.Konva.isUnminified)return function(v,z){return d.Util._isFunction(v)||d.Util.warn(B(v)+' is a not valid value for "'+z+'" attribute. The value should be a function.'),v}}function M(){if(c.Konva.isUnminified)return function(v,z){const H=Int8Array?Object.getPrototypeOf(Int8Array):null;return H&&v instanceof H||(d.Util._isArray(v)?v.forEach(function(V){d.Util._isNumber(V)||d.Util.warn('"'+z+'" attribute has non numeric element '+V+". Make sure that all elements are numbers.")}):d.Util.warn(B(v)+' is a not valid value for "'+z+'" attribute. The value should be a array of numbers.')),v}}function T(){if(c.Konva.isUnminified)return function(v,z){return v===!0||v===!1||d.Util.warn(B(v)+' is a not valid value for "'+z+'" attribute. The value should be a boolean.'),v}}function S(v){if(c.Konva.isUnminified)return function(z,H){return z==null||d.Util.isObject(z)||d.Util.warn(B(z)+' is a not valid value for "'+H+'" attribute. The value should be an object with properties '+v),z}}return jn}var e2;function de(){return e2||(e2=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.Factory=void 0;const d=ra(),B=ge(),C="get",A="set";c.Factory={addGetterSetter(_,p,m,x,y){c.Factory.addGetter(_,p,m),c.Factory.addSetter(_,p,x,y),c.Factory.addOverloadedGetterSetter(_,p)},addGetter(_,p,m){const x=C+d.Util._capitalize(p);_.prototype[x]=_.prototype[x]||function(){const y=this.attrs[p];return y===void 0?m:y}},addSetter(_,p,m,x){const y=A+d.Util._capitalize(p);_.prototype[y]||c.Factory.overWriteSetter(_,p,m,x)},overWriteSetter(_,p,m,x){const y=A+d.Util._capitalize(p);_.prototype[y]=function(E){return m&&E!==void 0&&E!==null&&(E=m.call(this,E,p)),this._setAttr(p,E),x&&x.call(this),this}},addComponentsGetterSetter(_,p,m,x,y){const E=m.length,M=d.Util._capitalize,T=C+M(p),S=A+M(p);_.prototype[T]=function(){const z={};for(let H=0;H<E;H++){const V=m[H];z[V]=this.getAttr(p+M(V))}return z};const v=(0,B.getComponentValidator)(m);_.prototype[S]=function(z){const H=this.attrs[p];x&&(z=x.call(this,z,p)),v&&v.call(this,z,p);for(const V in z)z.hasOwnProperty(V)&&this._setAttr(p+M(V),z[V]);return z||m.forEach(V=>{this._setAttr(p+M(V),void 0)}),this._fireChangeEvent(p,H,z),y&&y.call(this),this},c.Factory.addOverloadedGetterSetter(_,p)},addOverloadedGetterSetter(_,p){const m=d.Util._capitalize(p),x=A+m,y=C+m;_.prototype[p]=function(){return arguments.length?(this[x](arguments[0]),this):this[y]()}},addDeprecatedGetterSetter(_,p,m,x){d.Util.error("Adding deprecated "+p);const y=C+d.Util._capitalize(p),E=p+" property is deprecated and will be removed soon. Look at Konva change log for more information.";_.prototype[y]=function(){d.Util.error(E);const M=this.attrs[p];return M===void 0?m:M},c.Factory.addSetter(_,p,x,function(){d.Util.error(E)}),c.Factory.addOverloadedGetterSetter(_,p)},backCompat(_,p){d.Util.each(p,function(m,x){const y=_.prototype[x],E=C+d.Util._capitalize(m),M=A+d.Util._capitalize(m);function T(){y.apply(this,arguments),d.Util.error('"'+m+'" method is deprecated and will be removed soon. Use ""'+x+'" instead.')}_.prototype[m]=T,_.prototype[E]=T,_.prototype[M]=T})},afterSetFilter(){this._filterUpToDate=!1}}})(zh)),zh}var a2;function ma(){if(a2)return a0;a2=1,Object.defineProperty(a0,"__esModule",{value:!0}),a0.Node=void 0;const c=zd(),d=Fh(),B=de(),C=ie(),A=ra(),_=ge(),p="absoluteOpacity",m="allEventListeners",x="absoluteTransform",y="absoluteScale",E="canvas",M="Change",T="children",S="konva",v="listening",z="mouseenter",H="mouseleave",V="pointerenter",N="pointerleave",h="touchenter",U="touchleave",G="set",Y="Shape",W=" ",D="stage",q="transform",w="Stage",Q="visible",F=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(W);let $=1,st=class Vh{constructor(O){this._id=$++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(O),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(O){(O===q||O===x)&&this._cache.get(O)?this._cache.get(O).dirty=!0:O?this._cache.delete(O):this._cache.clear()}_getCache(O,L){let Z=this._cache.get(O);return(Z===void 0||(O===q||O===x)&&Z.dirty===!0)&&(Z=L.call(this),this._cache.set(O,Z)),Z}_calculate(O,L,Z){if(!this._attachedDepsListeners.get(O)){const R=L.map(X=>X+"Change.konva").join(W);this.on(R,()=>{this._clearCache(O)}),this._attachedDepsListeners.set(O,!0)}return this._getCache(O,Z)}_getCanvasCache(){return this._cache.get(E)}_clearSelfAndDescendantCache(O){this._clearCache(O),O===x&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(E)){const{scene:O,filter:L,hit:Z,buffer:R}=this._cache.get(E);A.Util.releaseCanvas(O,L,Z,R),this._cache.delete(E)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(O){const L=O||{};let Z={};(L.x===void 0||L.y===void 0||L.width===void 0||L.height===void 0)&&(Z=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let R=Math.ceil(L.width||Z.width),X=Math.ceil(L.height||Z.height),nt=L.pixelRatio,P=L.x===void 0?Math.floor(Z.x):L.x,ft=L.y===void 0?Math.floor(Z.y):L.y,pt=L.offset||0,it=L.drawBorder||!1,J=L.hitCanvasPixelRatio||1;if(!R||!X){A.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const rt=Math.abs(Math.round(Z.x)-P)>.5?1:0,Nt=Math.abs(Math.round(Z.y)-ft)>.5?1:0;R+=pt*2+rt,X+=pt*2+Nt,P-=pt,ft-=pt;const At=new c.SceneCanvas({pixelRatio:nt,width:R,height:X}),zt=new c.SceneCanvas({pixelRatio:nt,width:0,height:0,willReadFrequently:!0}),Bt=new c.HitCanvas({pixelRatio:J,width:R,height:X}),qt=At.getContext(),Rt=Bt.getContext(),jt=new c.SceneCanvas({width:At.width/At.pixelRatio+Math.abs(P),height:At.height/At.pixelRatio+Math.abs(ft),pixelRatio:At.pixelRatio}),se=jt.getContext();return Bt.isCache=!0,At.isCache=!0,this._cache.delete(E),this._filterUpToDate=!1,L.imageSmoothingEnabled===!1&&(At.getContext()._context.imageSmoothingEnabled=!1,zt.getContext()._context.imageSmoothingEnabled=!1),qt.save(),Rt.save(),se.save(),qt.translate(-P,-ft),Rt.translate(-P,-ft),se.translate(-P,-ft),jt.x=P,jt.y=ft,this._isUnderCache=!0,this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(y),this.drawScene(At,this,jt),this.drawHit(Bt,this),this._isUnderCache=!1,qt.restore(),Rt.restore(),it&&(qt.save(),qt.beginPath(),qt.rect(0,0,R,X),qt.closePath(),qt.setAttr("strokeStyle","red"),qt.setAttr("lineWidth",5),qt.stroke(),qt.restore()),this._cache.set(E,{scene:At,filter:zt,hit:Bt,buffer:jt,x:P,y:ft}),this._requestDraw(),this}isCached(){return this._cache.has(E)}getClientRect(O){throw new Error('abstract "getClientRect" method call')}_transformedRect(O,L){const Z=[{x:O.x,y:O.y},{x:O.x+O.width,y:O.y},{x:O.x+O.width,y:O.y+O.height},{x:O.x,y:O.y+O.height}];let R=1/0,X=1/0,nt=-1/0,P=-1/0;const ft=this.getAbsoluteTransform(L);return Z.forEach(function(pt){const it=ft.point(pt);R===void 0&&(R=nt=it.x,X=P=it.y),R=Math.min(R,it.x),X=Math.min(X,it.y),nt=Math.max(nt,it.x),P=Math.max(P,it.y)}),{x:R,y:X,width:nt-R,height:P-X}}_drawCachedSceneCanvas(O){O.save(),O._applyOpacity(this),O._applyGlobalCompositeOperation(this);const L=this._getCanvasCache();O.translate(L.x,L.y);const Z=this._getCachedSceneCanvas(),R=Z.pixelRatio;O.drawImage(Z._canvas,0,0,Z.width/R,Z.height/R),O.restore()}_drawCachedHitCanvas(O){const L=this._getCanvasCache(),Z=L.hit;O.save(),O.translate(L.x,L.y),O.drawImage(Z._canvas,0,0,Z.width/Z.pixelRatio,Z.height/Z.pixelRatio),O.restore()}_getCachedSceneCanvas(){let O=this.filters(),L=this._getCanvasCache(),Z=L.scene,R=L.filter,X=R.getContext(),nt,P,ft,pt;if(O){if(!this._filterUpToDate){const it=Z.pixelRatio;R.setSize(Z.width/Z.pixelRatio,Z.height/Z.pixelRatio);try{for(nt=O.length,X.clear(),X.drawImage(Z._canvas,0,0,Z.getWidth()/it,Z.getHeight()/it),P=X.getImageData(0,0,R.getWidth(),R.getHeight()),ft=0;ft<nt;ft++){if(pt=O[ft],typeof pt!="function"){A.Util.error("Filter should be type of function, but got "+typeof pt+" instead. Please check correct filters");continue}pt.call(this,P),X.putImageData(P,0,0)}}catch(J){A.Util.error("Unable to apply filter. "+J.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return R}return Z}on(O,L){if(this._cache&&this._cache.delete(m),arguments.length===3)return this._delegate.apply(this,arguments);const Z=O.split(W);for(let R=0;R<Z.length;R++){const nt=Z[R].split("."),P=nt[0],ft=nt[1]||"";this.eventListeners[P]||(this.eventListeners[P]=[]),this.eventListeners[P].push({name:ft,handler:L})}return this}off(O,L){let Z=(O||"").split(W),R=Z.length,X,nt,P,ft,pt,it;if(this._cache&&this._cache.delete(m),!O)for(nt in this.eventListeners)this._off(nt);for(X=0;X<R;X++)if(P=Z[X],ft=P.split("."),pt=ft[0],it=ft[1],pt)this.eventListeners[pt]&&this._off(pt,it,L);else for(nt in this.eventListeners)this._off(nt,it,L);return this}dispatchEvent(O){const L={target:this,type:O.type,evt:O};return this.fire(O.type,L),this}addEventListener(O,L){return this.on(O,function(Z){L.call(this,Z.evt)}),this}removeEventListener(O){return this.off(O),this}_delegate(O,L,Z){const R=this;this.on(O,function(X){const nt=X.target.findAncestors(L,!0,R);for(let P=0;P<nt.length;P++)X=A.Util.cloneObject(X),X.currentTarget=nt[P],Z.call(nt[P],X)})}remove(){return this.isDragging()&&this.stopDrag(),d.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(x),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(y),this._clearSelfAndDescendantCache(D),this._clearSelfAndDescendantCache(Q),this._clearSelfAndDescendantCache(v)}_remove(){this._clearCaches();const O=this.getParent();O&&O.children&&(O.children.splice(this.index,1),O._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(O){const L="get"+A.Util._capitalize(O);return A.Util._isFunction(this[L])?this[L]():this.attrs[O]}getAncestors(){let O=this.getParent(),L=[];for(;O;)L.push(O),O=O.getParent();return L}getAttrs(){return this.attrs||{}}setAttrs(O){return this._batchTransformChanges(()=>{let L,Z;if(!O)return this;for(L in O)L!==T&&(Z=G+A.Util._capitalize(L),A.Util._isFunction(this[Z])?this[Z](O[L]):this._setAttr(L,O[L]))}),this}isListening(){return this._getCache(v,this._isListening)}_isListening(O){if(!this.listening())return!1;const Z=this.getParent();return Z&&Z!==O&&this!==O?Z._isListening(O):!0}isVisible(){return this._getCache(Q,this._isVisible)}_isVisible(O){if(!this.visible())return!1;const Z=this.getParent();return Z&&Z!==O&&this!==O?Z._isVisible(O):!0}shouldDrawHit(O,L=!1){if(O)return this._isVisible(O)&&this._isListening(O);const Z=this.getLayer();let R=!1;d.DD._dragElements.forEach(nt=>{nt.dragStatus==="dragging"&&(nt.node.nodeType==="Stage"||nt.node.getLayer()===Z)&&(R=!0)});const X=!L&&!C.Konva.hitOnDragEnabled&&(R||C.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!X}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let O=this.getDepth(),L=this,Z=0,R,X,nt,P;function ft(it){for(R=[],X=it.length,nt=0;nt<X;nt++)P=it[nt],Z++,P.nodeType!==Y&&(R=R.concat(P.getChildren().slice())),P._id===L._id&&(nt=X);R.length>0&&R[0].getDepth()<=O&&ft(R)}const pt=this.getStage();return L.nodeType!==w&&pt&&ft(pt.getChildren()),Z}getDepth(){let O=0,L=this.parent;for(;L;)O++,L=L.parent;return O}_batchTransformChanges(O){this._batchingTransformChange=!0,O(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(q),this._clearSelfAndDescendantCache(x)),this._needClearTransformCache=!1}setPosition(O){return this._batchTransformChanges(()=>{this.x(O.x),this.y(O.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const O=this.getStage();if(!O)return null;const L=O.getPointerPosition();if(!L)return null;const Z=this.getAbsoluteTransform().copy();return Z.invert(),Z.point(L)}getAbsolutePosition(O){let L=!1,Z=this.parent;for(;Z;){if(Z.isCached()){L=!0;break}Z=Z.parent}L&&!O&&(O=!0);const R=this.getAbsoluteTransform(O).getMatrix(),X=new A.Transform,nt=this.offset();return X.m=R.slice(),X.translate(nt.x,nt.y),X.getTranslation()}setAbsolutePosition(O){const{x:L,y:Z,...R}=this._clearTransform();this.attrs.x=L,this.attrs.y=Z,this._clearCache(q);const X=this._getAbsoluteTransform().copy();return X.invert(),X.translate(O.x,O.y),O={x:this.attrs.x+X.getTranslation().x,y:this.attrs.y+X.getTranslation().y},this._setTransform(R),this.setPosition({x:O.x,y:O.y}),this._clearCache(q),this._clearSelfAndDescendantCache(x),this}_setTransform(O){let L;for(L in O)this.attrs[L]=O[L]}_clearTransform(){const O={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,O}move(O){let L=O.x,Z=O.y,R=this.x(),X=this.y();return L!==void 0&&(R+=L),Z!==void 0&&(X+=Z),this.setPosition({x:R,y:X}),this}_eachAncestorReverse(O,L){let Z=[],R=this.getParent(),X,nt;if(!(L&&L._id===this._id)){for(Z.unshift(this);R&&(!L||R._id!==L._id);)Z.unshift(R),R=R.parent;for(X=Z.length,nt=0;nt<X;nt++)O(Z[nt])}}rotate(O){return this.rotation(this.rotation()+O),this}moveToTop(){if(!this.parent)return A.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const O=this.index,L=this.parent.getChildren().length;return O<L-1?(this.parent.children.splice(O,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return A.Util.warn("Node has no parent. moveUp function is ignored."),!1;const O=this.index,L=this.parent.getChildren().length;return O<L-1?(this.parent.children.splice(O,1),this.parent.children.splice(O+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return A.Util.warn("Node has no parent. moveDown function is ignored."),!1;const O=this.index;return O>0?(this.parent.children.splice(O,1),this.parent.children.splice(O-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return A.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const O=this.index;return O>0?(this.parent.children.splice(O,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(O){if(!this.parent)return A.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(O<0||O>=this.parent.children.length)&&A.Util.warn("Unexpected value "+O+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const L=this.index;return this.parent.children.splice(L,1),this.parent.children.splice(O,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(p,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let O=this.opacity();const L=this.getParent();return L&&!L._isUnderCache&&(O*=L.getAbsoluteOpacity()),O}moveTo(O){return this.getParent()!==O&&(this._remove(),O.add(this)),this}toObject(){let O=this.getAttrs(),L,Z,R,X,nt;const P={attrs:{},className:this.getClassName()};for(L in O)Z=O[L],nt=A.Util.isObject(Z)&&!A.Util._isPlainObject(Z)&&!A.Util._isArray(Z),!nt&&(R=typeof this[L]=="function"&&this[L],delete O[L],X=R?R.call(this):null,O[L]=Z,X!==Z&&(P.attrs[L]=Z));return A.Util._prepareToStringify(P)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(O,L,Z){const R=[];L&&this._isMatch(O)&&R.push(this);let X=this.parent;for(;X;){if(X===Z)return R;X._isMatch(O)&&R.push(X),X=X.parent}return R}isAncestorOf(O){return!1}findAncestor(O,L,Z){return this.findAncestors(O,L,Z)[0]}_isMatch(O){if(!O)return!1;if(typeof O=="function")return O(this);let L=O.replace(/ /g,"").split(","),Z=L.length,R,X;for(R=0;R<Z;R++)if(X=L[R],A.Util.isValidSelector(X)||(A.Util.warn('Selector "'+X+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),A.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),A.Util.warn("Konva is awesome, right?")),X.charAt(0)==="#"){if(this.id()===X.slice(1))return!0}else if(X.charAt(0)==="."){if(this.hasName(X.slice(1)))return!0}else if(this.className===X||this.nodeType===X)return!0;return!1}getLayer(){const O=this.getParent();return O?O.getLayer():null}getStage(){return this._getCache(D,this._getStage)}_getStage(){const O=this.getParent();return O?O.getStage():null}fire(O,L={},Z){return L.target=L.target||this,Z?this._fireAndBubble(O,L):this._fire(O,L),this}getAbsoluteTransform(O){return O?this._getAbsoluteTransform(O):this._getCache(x,this._getAbsoluteTransform)}_getAbsoluteTransform(O){let L;if(O)return L=new A.Transform,this._eachAncestorReverse(function(Z){const R=Z.transformsEnabled();R==="all"?L.multiply(Z.getTransform()):R==="position"&&L.translate(Z.x()-Z.offsetX(),Z.y()-Z.offsetY())},O),L;{L=this._cache.get(x)||new A.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(L):L.reset();const Z=this.transformsEnabled();if(Z==="all")L.multiply(this.getTransform());else if(Z==="position"){const R=this.attrs.x||0,X=this.attrs.y||0,nt=this.attrs.offsetX||0,P=this.attrs.offsetY||0;L.translate(R-nt,X-P)}return L.dirty=!1,L}}getAbsoluteScale(O){let L=this;for(;L;)L._isUnderCache&&(O=L),L=L.getParent();const R=this.getAbsoluteTransform(O).decompose();return{x:R.scaleX,y:R.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(q,this._getTransform)}_getTransform(){var O,L;const Z=this._cache.get(q)||new A.Transform;Z.reset();const R=this.x(),X=this.y(),nt=C.Konva.getAngle(this.rotation()),P=(O=this.attrs.scaleX)!==null&&O!==void 0?O:1,ft=(L=this.attrs.scaleY)!==null&&L!==void 0?L:1,pt=this.attrs.skewX||0,it=this.attrs.skewY||0,J=this.attrs.offsetX||0,rt=this.attrs.offsetY||0;return(R!==0||X!==0)&&Z.translate(R,X),nt!==0&&Z.rotate(nt),(pt!==0||it!==0)&&Z.skew(pt,it),(P!==1||ft!==1)&&Z.scale(P,ft),(J!==0||rt!==0)&&Z.translate(-1*J,-1*rt),Z.dirty=!1,Z}clone(O){let L=A.Util.cloneObject(this.attrs),Z,R,X,nt,P;for(Z in O)L[Z]=O[Z];const ft=new this.constructor(L);for(Z in this.eventListeners)for(R=this.eventListeners[Z],X=R.length,nt=0;nt<X;nt++)P=R[nt],P.name.indexOf(S)<0&&(ft.eventListeners[Z]||(ft.eventListeners[Z]=[]),ft.eventListeners[Z].push(P));return ft}_toKonvaCanvas(O){O=O||{};const L=this.getClientRect(),Z=this.getStage(),R=O.x!==void 0?O.x:Math.floor(L.x),X=O.y!==void 0?O.y:Math.floor(L.y),nt=O.pixelRatio||1,P=new c.SceneCanvas({width:O.width||Math.ceil(L.width)||(Z?Z.width():0),height:O.height||Math.ceil(L.height)||(Z?Z.height():0),pixelRatio:nt}),ft=P.getContext(),pt=new c.SceneCanvas({width:P.width/P.pixelRatio+Math.abs(R),height:P.height/P.pixelRatio+Math.abs(X),pixelRatio:P.pixelRatio});return O.imageSmoothingEnabled===!1&&(ft._context.imageSmoothingEnabled=!1),ft.save(),(R||X)&&ft.translate(-1*R,-1*X),this.drawScene(P,void 0,pt),ft.restore(),P}toCanvas(O){return this._toKonvaCanvas(O)._canvas}toDataURL(O){O=O||{};const L=O.mimeType||null,Z=O.quality||null,R=this._toKonvaCanvas(O).toDataURL(L,Z);return O.callback&&O.callback(R),R}toImage(O){return new Promise((L,Z)=>{try{const R=O?.callback;R&&delete O.callback,A.Util._urlToImage(this.toDataURL(O),function(X){L(X),R?.(X)})}catch(R){Z(R)}})}toBlob(O){return new Promise((L,Z)=>{try{const R=O?.callback;R&&delete O.callback,this.toCanvas(O).toBlob(X=>{L(X),R?.(X)},O?.mimeType,O?.quality)}catch(R){Z(R)}})}setSize(O){return this.width(O.width),this.height(O.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():C.Konva.dragDistance}_off(O,L,Z){let R=this.eventListeners[O],X,nt,P;for(X=0;X<R.length;X++)if(nt=R[X].name,P=R[X].handler,(nt!=="konva"||L==="konva")&&(!L||nt===L)&&(!Z||Z===P)){if(R.splice(X,1),R.length===0){delete this.eventListeners[O];break}X--}}_fireChangeEvent(O,L,Z){this._fire(O+M,{oldVal:L,newVal:Z})}addName(O){if(!this.hasName(O)){const L=this.name(),Z=L?L+" "+O:O;this.name(Z)}return this}hasName(O){if(!O)return!1;const L=this.name();return L?(L||"").split(/\s/g).indexOf(O)!==-1:!1}removeName(O){const L=(this.name()||"").split(/\s/g),Z=L.indexOf(O);return Z!==-1&&(L.splice(Z,1),this.name(L.join(" "))),this}setAttr(O,L){const Z=this[G+A.Util._capitalize(O)];return A.Util._isFunction(Z)?Z.call(this,L):this._setAttr(O,L),this}_requestDraw(){if(C.Konva.autoDrawEnabled){const O=this.getLayer()||this.getStage();O?.batchDraw()}}_setAttr(O,L){const Z=this.attrs[O];Z===L&&!A.Util.isObject(L)||(L==null?delete this.attrs[O]:this.attrs[O]=L,this._shouldFireChangeEvents&&this._fireChangeEvent(O,Z,L),this._requestDraw())}_setComponentAttr(O,L,Z){let R;Z!==void 0&&(R=this.attrs[O],R||(this.attrs[O]=this.getAttr(O)),this.attrs[O][L]=Z,this._fireChangeEvent(O,R,Z))}_fireAndBubble(O,L,Z){L&&this.nodeType===Y&&(L.target=this);const R=[z,H,V,N,h,U];if(!(R.indexOf(O)!==-1&&(Z&&(this===Z||this.isAncestorOf&&this.isAncestorOf(Z))||this.nodeType==="Stage"&&!Z))){this._fire(O,L);const nt=R.indexOf(O)!==-1&&Z&&Z.isAncestorOf&&Z.isAncestorOf(this)&&!Z.isAncestorOf(this.parent);(L&&!L.cancelBubble||!L)&&this.parent&&this.parent.isListening()&&!nt&&(Z&&Z.parent?this._fireAndBubble.call(this.parent,O,L,Z):this._fireAndBubble.call(this.parent,O,L))}}_getProtoListeners(O){var L,Z,R;const X=(L=this._cache.get(m))!==null&&L!==void 0?L:{};let nt=X?.[O];if(nt===void 0){nt=[];let P=Object.getPrototypeOf(this);for(;P;){const ft=(R=(Z=P.eventListeners)===null||Z===void 0?void 0:Z[O])!==null&&R!==void 0?R:[];nt.push(...ft),P=Object.getPrototypeOf(P)}X[O]=nt,this._cache.set(m,X)}return nt}_fire(O,L){L=L||{},L.currentTarget=this,L.type=O;const Z=this._getProtoListeners(O);if(Z)for(let X=0;X<Z.length;X++)Z[X].handler.call(this,L);const R=this.eventListeners[O];if(R)for(let X=0;X<R.length;X++)R[X].handler.call(this,L)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(O){const L=O?O.pointerId:void 0,Z=this.getStage(),R=this.getAbsolutePosition();if(!Z)return;const X=Z._getPointerById(L)||Z._changedPointerPositions[0]||R;d.DD._dragElements.set(this._id,{node:this,startPointerPos:X,offset:{x:X.x-R.x,y:X.y-R.y},dragStatus:"ready",pointerId:L})}startDrag(O,L=!0){d.DD._dragElements.has(this._id)||this._createDragElement(O);const Z=d.DD._dragElements.get(this._id);Z.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:O&&O.evt},L)}_setDragPosition(O,L){const Z=this.getStage()._getPointerById(L.pointerId);if(!Z)return;let R={x:Z.x-L.offset.x,y:Z.y-L.offset.y};const X=this.dragBoundFunc();if(X!==void 0){const nt=X.call(this,R,O);nt?R=nt:A.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==R.x||this._lastPos.y!==R.y)&&(this.setAbsolutePosition(R),this._requestDraw()),this._lastPos=R}stopDrag(O){const L=d.DD._dragElements.get(this._id);L&&(L.dragStatus="stopped"),d.DD._endDragBefore(O),d.DD._endDragAfter(O)}setDraggable(O){this._setAttr("draggable",O),this._dragChange()}isDragging(){const O=d.DD._dragElements.get(this._id);return O?O.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(O){if(!(!(O.evt.button!==void 0)||C.Konva.dragButtons.indexOf(O.evt.button)>=0)||this.isDragging())return;let R=!1;d.DD._dragElements.forEach(X=>{this.isAncestorOf(X.node)&&(R=!0)}),R||this._createDragElement(O)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const L=d.DD._dragElements.get(this._id),Z=L&&L.dragStatus==="dragging",R=L&&L.dragStatus==="ready";Z?this.stopDrag():R&&d.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(O={x:0,y:0}){const L=this.getStage();if(!L)return!1;const Z={x:-O.x,y:-O.y,width:L.width()+2*O.x,height:L.height()+2*O.y};return A.Util.haveIntersection(Z,this.getClientRect())}static create(O,L){return A.Util._isString(O)&&(O=JSON.parse(O)),this._createNode(O,L)}static _createNode(O,L){let Z=Vh.prototype.getClassName.call(O),R=O.children,X,nt,P;L&&(O.attrs.container=L),C.Konva[Z]||(A.Util.warn('Can not find a node with class name "'+Z+'". Fallback to "Shape".'),Z="Shape");const ft=C.Konva[Z];if(X=new ft(O.attrs),R)for(nt=R.length,P=0;P<nt;P++)X.add(Vh._createNode(R[P]));return X}};a0.Node=st,st.prototype.nodeType="Node",st.prototype._attrsAffectingSize=[],st.prototype.eventListeners={},st.prototype.on.call(st.prototype,F,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(q),this._clearSelfAndDescendantCache(x)}),st.prototype.on.call(st.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Q)}),st.prototype.on.call(st.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(v)}),st.prototype.on.call(st.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(p)});const at=B.Factory.addGetterSetter;return at(st,"zIndex"),at(st,"absolutePosition"),at(st,"position"),at(st,"x",0,(0,_.getNumberValidator)()),at(st,"y",0,(0,_.getNumberValidator)()),at(st,"globalCompositeOperation","source-over",(0,_.getStringValidator)()),at(st,"opacity",1,(0,_.getNumberValidator)()),at(st,"name","",(0,_.getStringValidator)()),at(st,"id","",(0,_.getStringValidator)()),at(st,"rotation",0,(0,_.getNumberValidator)()),B.Factory.addComponentsGetterSetter(st,"scale",["x","y"]),at(st,"scaleX",1,(0,_.getNumberValidator)()),at(st,"scaleY",1,(0,_.getNumberValidator)()),B.Factory.addComponentsGetterSetter(st,"skew",["x","y"]),at(st,"skewX",0,(0,_.getNumberValidator)()),at(st,"skewY",0,(0,_.getNumberValidator)()),B.Factory.addComponentsGetterSetter(st,"offset",["x","y"]),at(st,"offsetX",0,(0,_.getNumberValidator)()),at(st,"offsetY",0,(0,_.getNumberValidator)()),at(st,"dragDistance",void 0,(0,_.getNumberValidator)()),at(st,"width",0,(0,_.getNumberValidator)()),at(st,"height",0,(0,_.getNumberValidator)()),at(st,"listening",!0,(0,_.getBooleanValidator)()),at(st,"preventDefault",!0,(0,_.getBooleanValidator)()),at(st,"filters",void 0,function(tt){return this._filterUpToDate=!1,tt}),at(st,"visible",!0,(0,_.getBooleanValidator)()),at(st,"transformsEnabled","all",(0,_.getStringValidator)()),at(st,"size"),at(st,"dragBoundFunc"),at(st,"draggable",!1,(0,_.getBooleanValidator)()),B.Factory.backCompat(st,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),a0}var n0={},n2;function Dd(){if(n2)return n0;n2=1,Object.defineProperty(n0,"__esModule",{value:!0}),n0.Container=void 0;const c=de(),d=ma(),B=ge();let C=class extends d.Node{constructor(){super(...arguments),this.children=[]}getChildren(_){const p=this.children||[];return _?p.filter(_):p}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(_=>{_.parent=null,_.index=0,_.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(_=>{_.parent=null,_.index=0,_.destroy()}),this.children=[],this._requestDraw(),this}add(..._){if(_.length===0)return this;if(_.length>1){for(let m=0;m<_.length;m++)this.add(_[m]);return this}const p=_[0];return p.getParent()?(p.moveTo(this),this):(this._validateAdd(p),p.index=this.getChildren().length,p.parent=this,p._clearCaches(),this.getChildren().push(p),this._fire("add",{child:p}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(_){return this._generalFind(_,!1)}findOne(_){const p=this._generalFind(_,!0);return p.length>0?p[0]:void 0}_generalFind(_,p){const m=[];return this._descendants(x=>{const y=x._isMatch(_);return y&&m.push(x),!!(y&&p)}),m}_descendants(_){let p=!1;const m=this.getChildren();for(const x of m){if(p=_(x),p)return!0;if(x.hasChildren()&&(p=x._descendants(_),p))return!0}return!1}toObject(){const _=d.Node.prototype.toObject.call(this);return _.children=[],this.getChildren().forEach(p=>{_.children.push(p.toObject())}),_}isAncestorOf(_){let p=_.getParent();for(;p;){if(p._id===this._id)return!0;p=p.getParent()}return!1}clone(_){const p=d.Node.prototype.clone.call(this,_);return this.getChildren().forEach(function(m){p.add(m.clone())}),p}getAllIntersections(_){const p=[];return this.find("Shape").forEach(m=>{m.isVisible()&&m.intersects(_)&&p.push(m)}),p}_clearSelfAndDescendantCache(_){var p;super._clearSelfAndDescendantCache(_),!this.isCached()&&((p=this.children)===null||p===void 0||p.forEach(function(m){m._clearSelfAndDescendantCache(_)}))}_setChildrenIndices(){var _;(_=this.children)===null||_===void 0||_.forEach(function(p,m){p.index=m}),this._requestDraw()}drawScene(_,p,m){const x=this.getLayer(),y=_||x&&x.getCanvas(),E=y&&y.getContext(),M=this._getCanvasCache(),T=M&&M.scene,S=y&&y.isCache;if(!this.isVisible()&&!S)return this;if(T){E.save();const v=this.getAbsoluteTransform(p).getMatrix();E.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(E),E.restore()}else this._drawChildren("drawScene",y,p,m);return this}drawHit(_,p){if(!this.shouldDrawHit(p))return this;const m=this.getLayer(),x=_||m&&m.hitCanvas,y=x&&x.getContext(),E=this._getCanvasCache();if(E&&E.hit){y.save();const T=this.getAbsoluteTransform(p).getMatrix();y.transform(T[0],T[1],T[2],T[3],T[4],T[5]),this._drawCachedHitCanvas(y),y.restore()}else this._drawChildren("drawHit",x,p);return this}_drawChildren(_,p,m,x){var y;const E=p&&p.getContext(),M=this.clipWidth(),T=this.clipHeight(),S=this.clipFunc(),v=typeof M=="number"&&typeof T=="number"||S,z=m===this;if(v){E.save();const V=this.getAbsoluteTransform(m);let N=V.getMatrix();E.transform(N[0],N[1],N[2],N[3],N[4],N[5]),E.beginPath();let h;if(S)h=S.call(this,E,this);else{const U=this.clipX(),G=this.clipY();E.rect(U||0,G||0,M,T)}E.clip.apply(E,h),N=V.copy().invert().getMatrix(),E.transform(N[0],N[1],N[2],N[3],N[4],N[5])}const H=!z&&this.globalCompositeOperation()!=="source-over"&&_==="drawScene";H&&(E.save(),E._applyGlobalCompositeOperation(this)),(y=this.children)===null||y===void 0||y.forEach(function(V){V[_](p,m,x)}),H&&E.restore(),v&&E.restore()}getClientRect(_={}){var p;const m=_.skipTransform,x=_.relativeTo;let y,E,M,T,S={x:1/0,y:1/0,width:0,height:0};const v=this;(p=this.children)===null||p===void 0||p.forEach(function(V){if(!V.visible())return;const N=V.getClientRect({relativeTo:v,skipShadow:_.skipShadow,skipStroke:_.skipStroke});N.width===0&&N.height===0||(y===void 0?(y=N.x,E=N.y,M=N.x+N.width,T=N.y+N.height):(y=Math.min(y,N.x),E=Math.min(E,N.y),M=Math.max(M,N.x+N.width),T=Math.max(T,N.y+N.height)))});const z=this.find("Shape");let H=!1;for(let V=0;V<z.length;V++)if(z[V]._isVisible(this)){H=!0;break}return H&&y!==void 0?S={x:y,y:E,width:M-y,height:T-E}:S={x:0,y:0,width:0,height:0},m?S:this._transformedRect(S,x)}};return n0.Container=C,c.Factory.addComponentsGetterSetter(C,"clip",["x","y","width","height"]),c.Factory.addGetterSetter(C,"clipX",void 0,(0,B.getNumberValidator)()),c.Factory.addGetterSetter(C,"clipY",void 0,(0,B.getNumberValidator)()),c.Factory.addGetterSetter(C,"clipWidth",void 0,(0,B.getNumberValidator)()),c.Factory.addGetterSetter(C,"clipHeight",void 0,(0,B.getNumberValidator)()),c.Factory.addGetterSetter(C,"clipFunc"),n0}var Dh={},or={},l2;function gg(){if(l2)return or;l2=1,Object.defineProperty(or,"__esModule",{value:!0}),or.getCapturedShape=C,or.createEvent=A,or.hasPointerCapture=_,or.setPointerCapture=p,or.releaseCapture=m;const c=ie(),d=new Map,B=c.Konva._global.PointerEvent!==void 0;function C(x){return d.get(x)}function A(x){return{evt:x,pointerId:x.pointerId}}function _(x,y){return d.get(x)===y}function p(x,y){m(x),y.getStage()&&(d.set(x,y),B&&y._fire("gotpointercapture",A(new PointerEvent("gotpointercapture"))))}function m(x,y){const E=d.get(x);if(!E)return;const M=E.getStage();M&&M.content,d.delete(x),B&&E._fire("lostpointercapture",A(new PointerEvent("lostpointercapture")))}return or}var i2;function hm(){return i2||(i2=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.Stage=c.stages=void 0;const d=ra(),B=de(),C=Dd(),A=ie(),_=zd(),p=Fh(),m=ie(),x=gg(),y="Stage",E="string",M="px",T="mouseout",S="mouseleave",v="mouseover",z="mouseenter",H="mousemove",V="mousedown",N="mouseup",h="pointermove",U="pointerdown",G="pointerup",Y="pointercancel",W="lostpointercapture",D="pointerout",q="pointerleave",w="pointerover",Q="pointerenter",F="contextmenu",$="touchstart",st="touchend",at="touchmove",tt="touchcancel",O="wheel",L=5,Z=[[z,"_pointerenter"],[V,"_pointerdown"],[H,"_pointermove"],[N,"_pointerup"],[S,"_pointerleave"],[$,"_pointerdown"],[at,"_pointermove"],[st,"_pointerup"],[tt,"_pointercancel"],[v,"_pointerover"],[O,"_wheel"],[F,"_contextmenu"],[U,"_pointerdown"],[h,"_pointermove"],[G,"_pointerup"],[Y,"_pointercancel"],[q,"_pointerleave"],[W,"_lostpointercapture"]],R={mouse:{[D]:T,[q]:S,[w]:v,[Q]:z,[h]:H,[U]:V,[G]:N,[Y]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[D]:"touchout",[q]:"touchleave",[w]:"touchover",[Q]:"touchenter",[h]:at,[U]:$,[G]:st,[Y]:tt,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[D]:D,[q]:q,[w]:w,[Q]:Q,[h]:h,[U]:U,[G]:G,[Y]:Y,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},X=it=>it.indexOf("pointer")>=0?"pointer":it.indexOf("touch")>=0?"touch":"mouse",nt=it=>{const J=X(it);if(J==="pointer")return A.Konva.pointerEventsEnabled&&R.pointer;if(J==="touch")return R.touch;if(J==="mouse")return R.mouse};function P(it={}){return(it.clipFunc||it.clipWidth||it.clipHeight)&&d.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),it}const ft="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";c.stages=[];class pt extends C.Container{constructor(J){super(P(J)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),c.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{P(this.attrs)}),this._checkVisibility()}_validateAdd(J){const rt=J.getType()==="Layer",Nt=J.getType()==="FastLayer";rt||Nt||d.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const J=this.visible()?"":"none";this.content.style.display=J}setContainer(J){if(typeof J===E){let rt;if(J.charAt(0)==="."){const Nt=J.slice(1);J=document.getElementsByClassName(Nt)[0]}else J.charAt(0)!=="#"?rt=J:rt=J.slice(1),J=document.getElementById(rt);if(!J)throw"Can not find container in document with id "+rt}return this._setAttr("container",J),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),J.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const J=this.children,rt=J.length;for(let Nt=0;Nt<rt;Nt++)J[Nt].clear();return this}clone(J){return J||(J={}),J.container=typeof document<"u"&&document.createElement("div"),C.Container.prototype.clone.call(this,J)}destroy(){super.destroy();const J=this.content;J&&d.Util._isInDocument(J)&&this.container().removeChild(J);const rt=c.stages.indexOf(this);return rt>-1&&c.stages.splice(rt,1),d.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const J=this._pointerPositions[0]||this._changedPointerPositions[0];return J?{x:J.x,y:J.y}:(d.Util.warn(ft),null)}_getPointerById(J){return this._pointerPositions.find(rt=>rt.id===J)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(J){J=J||{},J.x=J.x||0,J.y=J.y||0,J.width=J.width||this.width(),J.height=J.height||this.height();const rt=new _.SceneCanvas({width:J.width,height:J.height,pixelRatio:J.pixelRatio||1}),Nt=rt.getContext()._context,At=this.children;return(J.x||J.y)&&Nt.translate(-1*J.x,-1*J.y),At.forEach(function(zt){if(!zt.isVisible())return;const Bt=zt._toKonvaCanvas(J);Nt.drawImage(Bt._canvas,J.x,J.y,Bt.getWidth()/Bt.getPixelRatio(),Bt.getHeight()/Bt.getPixelRatio())}),rt}getIntersection(J){if(!J)return null;const rt=this.children,Nt=rt.length,At=Nt-1;for(let zt=At;zt>=0;zt--){const Bt=rt[zt].getIntersection(J);if(Bt)return Bt}return null}_resizeDOM(){const J=this.width(),rt=this.height();this.content&&(this.content.style.width=J+M,this.content.style.height=rt+M),this.bufferCanvas.setSize(J,rt),this.bufferHitCanvas.setSize(J,rt),this.children.forEach(Nt=>{Nt.setSize({width:J,height:rt}),Nt.draw()})}add(J,...rt){if(arguments.length>1){for(let At=0;At<arguments.length;At++)this.add(arguments[At]);return this}super.add(J);const Nt=this.children.length;return Nt>L&&d.Util.warn("The stage has "+Nt+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),J.setSize({width:this.width(),height:this.height()}),J.draw(),A.Konva.isBrowser&&this.content.appendChild(J.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(J){return x.hasPointerCapture(J,this)}setPointerCapture(J){x.setPointerCapture(J,this)}releaseCapture(J){x.releaseCapture(J,this)}getLayers(){return this.children}_bindContentEvents(){A.Konva.isBrowser&&Z.forEach(([J,rt])=>{this.content.addEventListener(J,Nt=>{this[rt](Nt)},{passive:!1})})}_pointerenter(J){this.setPointersPositions(J);const rt=nt(J.type);rt&&this._fire(rt.pointerenter,{evt:J,target:this,currentTarget:this})}_pointerover(J){this.setPointersPositions(J);const rt=nt(J.type);rt&&this._fire(rt.pointerover,{evt:J,target:this,currentTarget:this})}_getTargetShape(J){let rt=this[J+"targetShape"];return rt&&!rt.getStage()&&(rt=null),rt}_pointerleave(J){const rt=nt(J.type),Nt=X(J.type);if(!rt)return;this.setPointersPositions(J);const At=this._getTargetShape(Nt),zt=!(A.Konva.isDragging()||A.Konva.isTransforming())||A.Konva.hitOnDragEnabled;At&&zt?(At._fireAndBubble(rt.pointerout,{evt:J}),At._fireAndBubble(rt.pointerleave,{evt:J}),this._fire(rt.pointerleave,{evt:J,target:this,currentTarget:this}),this[Nt+"targetShape"]=null):zt&&(this._fire(rt.pointerleave,{evt:J,target:this,currentTarget:this}),this._fire(rt.pointerout,{evt:J,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(J){const rt=nt(J.type),Nt=X(J.type);if(!rt)return;this.setPointersPositions(J);let At=!1;this._changedPointerPositions.forEach(zt=>{const Bt=this.getIntersection(zt);if(p.DD.justDragged=!1,A.Konva["_"+Nt+"ListenClick"]=!0,!Bt||!Bt.isListening()){this[Nt+"ClickStartShape"]=void 0;return}A.Konva.capturePointerEventsEnabled&&Bt.setPointerCapture(zt.id),this[Nt+"ClickStartShape"]=Bt,Bt._fireAndBubble(rt.pointerdown,{evt:J,pointerId:zt.id}),At=!0;const qt=J.type.indexOf("touch")>=0;Bt.preventDefault()&&J.cancelable&&qt&&J.preventDefault()}),At||this._fire(rt.pointerdown,{evt:J,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(J){const rt=nt(J.type),Nt=X(J.type);if(!rt||(A.Konva.isDragging()&&p.DD.node.preventDefault()&&J.cancelable&&J.preventDefault(),this.setPointersPositions(J),!(!(A.Konva.isDragging()||A.Konva.isTransforming())||A.Konva.hitOnDragEnabled)))return;const zt={};let Bt=!1;const qt=this._getTargetShape(Nt);this._changedPointerPositions.forEach(Rt=>{const jt=x.getCapturedShape(Rt.id)||this.getIntersection(Rt),se=Rt.id,Vt={evt:J,pointerId:se},Ce=qt!==jt;if(Ce&&qt&&(qt._fireAndBubble(rt.pointerout,{...Vt},jt),qt._fireAndBubble(rt.pointerleave,{...Vt},jt)),jt){if(zt[jt._id])return;zt[jt._id]=!0}jt&&jt.isListening()?(Bt=!0,Ce&&(jt._fireAndBubble(rt.pointerover,{...Vt},qt),jt._fireAndBubble(rt.pointerenter,{...Vt},qt),this[Nt+"targetShape"]=jt),jt._fireAndBubble(rt.pointermove,{...Vt})):qt&&(this._fire(rt.pointerover,{evt:J,target:this,currentTarget:this,pointerId:se}),this[Nt+"targetShape"]=null)}),Bt||this._fire(rt.pointermove,{evt:J,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(J){const rt=nt(J.type),Nt=X(J.type);if(!rt)return;this.setPointersPositions(J);const At=this[Nt+"ClickStartShape"],zt=this[Nt+"ClickEndShape"],Bt={};let qt=!1;this._changedPointerPositions.forEach(Rt=>{const jt=x.getCapturedShape(Rt.id)||this.getIntersection(Rt);if(jt){if(jt.releaseCapture(Rt.id),Bt[jt._id])return;Bt[jt._id]=!0}const se=Rt.id,Vt={evt:J,pointerId:se};let Ce=!1;A.Konva["_"+Nt+"InDblClickWindow"]?(Ce=!0,clearTimeout(this[Nt+"DblTimeout"])):p.DD.justDragged||(A.Konva["_"+Nt+"InDblClickWindow"]=!0,clearTimeout(this[Nt+"DblTimeout"])),this[Nt+"DblTimeout"]=setTimeout(function(){A.Konva["_"+Nt+"InDblClickWindow"]=!1},A.Konva.dblClickWindow),jt&&jt.isListening()?(qt=!0,this[Nt+"ClickEndShape"]=jt,jt._fireAndBubble(rt.pointerup,{...Vt}),A.Konva["_"+Nt+"ListenClick"]&&At&&At===jt&&(jt._fireAndBubble(rt.pointerclick,{...Vt}),Ce&&zt&&zt===jt&&jt._fireAndBubble(rt.pointerdblclick,{...Vt}))):(this[Nt+"ClickEndShape"]=null,A.Konva["_"+Nt+"ListenClick"]&&this._fire(rt.pointerclick,{evt:J,target:this,currentTarget:this,pointerId:se}),Ce&&this._fire(rt.pointerdblclick,{evt:J,target:this,currentTarget:this,pointerId:se}))}),qt||this._fire(rt.pointerup,{evt:J,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),A.Konva["_"+Nt+"ListenClick"]=!1,J.cancelable&&Nt!=="touch"&&Nt!=="pointer"&&J.preventDefault()}_contextmenu(J){this.setPointersPositions(J);const rt=this.getIntersection(this.getPointerPosition());rt&&rt.isListening()?rt._fireAndBubble(F,{evt:J}):this._fire(F,{evt:J,target:this,currentTarget:this})}_wheel(J){this.setPointersPositions(J);const rt=this.getIntersection(this.getPointerPosition());rt&&rt.isListening()?rt._fireAndBubble(O,{evt:J}):this._fire(O,{evt:J,target:this,currentTarget:this})}_pointercancel(J){this.setPointersPositions(J);const rt=x.getCapturedShape(J.pointerId)||this.getIntersection(this.getPointerPosition());rt&&rt._fireAndBubble(G,x.createEvent(J)),x.releaseCapture(J.pointerId)}_lostpointercapture(J){x.releaseCapture(J.pointerId)}setPointersPositions(J){const rt=this._getContentPosition();let Nt=null,At=null;J=J||window.event,J.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(J.touches,zt=>{this._pointerPositions.push({id:zt.identifier,x:(zt.clientX-rt.left)/rt.scaleX,y:(zt.clientY-rt.top)/rt.scaleY})}),Array.prototype.forEach.call(J.changedTouches||J.touches,zt=>{this._changedPointerPositions.push({id:zt.identifier,x:(zt.clientX-rt.left)/rt.scaleX,y:(zt.clientY-rt.top)/rt.scaleY})})):(Nt=(J.clientX-rt.left)/rt.scaleX,At=(J.clientY-rt.top)/rt.scaleY,this.pointerPos={x:Nt,y:At},this._pointerPositions=[{x:Nt,y:At,id:d.Util._getFirstPointerId(J)}],this._changedPointerPositions=[{x:Nt,y:At,id:d.Util._getFirstPointerId(J)}])}_setPointerPosition(J){d.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(J)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const J=this.content.getBoundingClientRect();return{top:J.top,left:J.left,scaleX:J.width/this.content.clientWidth||1,scaleY:J.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new _.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new _.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!A.Konva.isBrowser)return;const J=this.container();if(!J)throw"Stage has no container. A container is required.";J.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),J.appendChild(this.content),this._resizeDOM()}cache(){return d.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(J){J.batchDraw()}),this}}c.Stage=pt,pt.prototype.nodeType=y,(0,m._registerNode)(pt),B.Factory.addGetterSetter(pt,"container"),A.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{c.stages.forEach(it=>{it.batchDraw()})})})(Dh)),Dh}var l0={},Rh={},s2;function wa(){return s2||(s2=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.Shape=c.shapes=void 0;const d=ie(),B=ra(),C=de(),A=ma(),_=ge(),p=ie(),m=gg(),x="hasShadow",y="shadowRGBA",E="patternImage",M="linearGradient",T="radialGradient";let S;function v(){return S||(S=B.Util.createCanvasElement().getContext("2d"),S)}c.shapes={};function z(q){const w=this.attrs.fillRule;w?q.fill(w):q.fill()}function H(q){q.stroke()}function V(q){const w=this.attrs.fillRule;w?q.fill(w):q.fill()}function N(q){q.stroke()}function h(){this._clearCache(x)}function U(){this._clearCache(y)}function G(){this._clearCache(E)}function Y(){this._clearCache(M)}function W(){this._clearCache(T)}class D extends A.Node{constructor(w){super(w);let Q;for(;Q=B.Util.getRandomColor(),!(Q&&!(Q in c.shapes)););this.colorKey=Q,c.shapes[Q]=this}getContext(){return B.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return B.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(x,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(E,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const Q=v().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(Q&&Q.setTransform){const F=new B.Transform;F.translate(this.fillPatternX(),this.fillPatternY()),F.rotate(d.Konva.getAngle(this.fillPatternRotation())),F.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),F.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const $=F.getMatrix(),st=typeof DOMMatrix>"u"?{a:$[0],b:$[1],c:$[2],d:$[3],e:$[4],f:$[5]}:new DOMMatrix($);Q.setTransform(st)}return Q}}_getLinearGradient(){return this._getCache(M,this.__getLinearGradient)}__getLinearGradient(){const w=this.fillLinearGradientColorStops();if(w){const Q=v(),F=this.fillLinearGradientStartPoint(),$=this.fillLinearGradientEndPoint(),st=Q.createLinearGradient(F.x,F.y,$.x,$.y);for(let at=0;at<w.length;at+=2)st.addColorStop(w[at],w[at+1]);return st}}_getRadialGradient(){return this._getCache(T,this.__getRadialGradient)}__getRadialGradient(){const w=this.fillRadialGradientColorStops();if(w){const Q=v(),F=this.fillRadialGradientStartPoint(),$=this.fillRadialGradientEndPoint(),st=Q.createRadialGradient(F.x,F.y,this.fillRadialGradientStartRadius(),$.x,$.y,this.fillRadialGradientEndRadius());for(let at=0;at<w.length;at+=2)st.addColorStop(w[at],w[at+1]);return st}}getShadowRGBA(){return this._getCache(y,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const w=B.Util.colorToRGBA(this.shadowColor());if(w)return"rgba("+w.r+","+w.g+","+w.b+","+w.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const w=this.hitStrokeWidth();return w==="auto"?this.hasStroke():this.strokeEnabled()&&!!w}intersects(w){const Q=this.getStage();if(!Q)return!1;const F=Q.bufferHitCanvas;return F.getContext().clear(),this.drawHit(F,void 0,!0),F.context.getImageData(Math.round(w.x),Math.round(w.y),1,1).data[3]>0}destroy(){return A.Node.prototype.destroy.call(this),delete c.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(w){var Q;if(!((Q=this.attrs.perfectDrawEnabled)!==null&&Q!==void 0?Q:!0))return!1;const $=w||this.hasFill(),st=this.hasStroke(),at=this.getAbsoluteOpacity()!==1;if($&&st&&at)return!0;const tt=this.hasShadow(),O=this.shadowForStrokeEnabled();return!!($&&st&&tt&&O)}setStrokeHitEnabled(w){B.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),w?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const w=this.size();return{x:this._centroid?-w.width/2:0,y:this._centroid?-w.height/2:0,width:w.width,height:w.height}}getClientRect(w={}){let Q=!1,F=this.getParent();for(;F;){if(F.isCached()){Q=!0;break}F=F.getParent()}const $=w.skipTransform,st=w.relativeTo||Q&&this.getStage()||void 0,at=this.getSelfRect(),O=!w.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,L=at.width+O,Z=at.height+O,R=!w.skipShadow&&this.hasShadow(),X=R?this.shadowOffsetX():0,nt=R?this.shadowOffsetY():0,P=L+Math.abs(X),ft=Z+Math.abs(nt),pt=R&&this.shadowBlur()||0,it=P+pt*2,J=ft+pt*2,rt={width:it,height:J,x:-(O/2+pt)+Math.min(X,0)+at.x,y:-(O/2+pt)+Math.min(nt,0)+at.y};return $?rt:this._transformedRect(rt,st)}drawScene(w,Q,F){const $=this.getLayer(),st=w||$.getCanvas(),at=st.getContext(),tt=this._getCanvasCache(),O=this.getSceneFunc(),L=this.hasShadow();let Z;const R=Q===this;if(!this.isVisible()&&!R)return this;if(tt){at.save();const X=this.getAbsoluteTransform(Q).getMatrix();return at.transform(X[0],X[1],X[2],X[3],X[4],X[5]),this._drawCachedSceneCanvas(at),at.restore(),this}if(!O)return this;if(at.save(),this._useBufferCanvas()){Z=this.getStage();const X=F||Z.bufferCanvas,nt=X.getContext();nt.clear(),nt.save(),nt._applyLineJoin(this);const P=this.getAbsoluteTransform(Q).getMatrix();nt.transform(P[0],P[1],P[2],P[3],P[4],P[5]),O.call(this,nt,this),nt.restore();const ft=X.pixelRatio;L&&at._applyShadow(this),at._applyOpacity(this),at._applyGlobalCompositeOperation(this),at.drawImage(X._canvas,X.x||0,X.y||0,X.width/ft,X.height/ft)}else{if(at._applyLineJoin(this),!R){const X=this.getAbsoluteTransform(Q).getMatrix();at.transform(X[0],X[1],X[2],X[3],X[4],X[5]),at._applyOpacity(this),at._applyGlobalCompositeOperation(this)}L&&at._applyShadow(this),O.call(this,at,this)}return at.restore(),this}drawHit(w,Q,F=!1){if(!this.shouldDrawHit(Q,F))return this;const $=this.getLayer(),st=w||$.hitCanvas,at=st&&st.getContext(),tt=this.hitFunc()||this.sceneFunc(),O=this._getCanvasCache(),L=O&&O.hit;if(this.colorKey||B.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),L){at.save();const R=this.getAbsoluteTransform(Q).getMatrix();return at.transform(R[0],R[1],R[2],R[3],R[4],R[5]),this._drawCachedHitCanvas(at),at.restore(),this}if(!tt)return this;if(at.save(),at._applyLineJoin(this),!(this===Q)){const R=this.getAbsoluteTransform(Q).getMatrix();at.transform(R[0],R[1],R[2],R[3],R[4],R[5])}return tt.call(this,at,this),at.restore(),this}drawHitFromCache(w=0){const Q=this._getCanvasCache(),F=this._getCachedSceneCanvas(),$=Q.hit,st=$.getContext(),at=$.getWidth(),tt=$.getHeight();st.clear(),st.drawImage(F._canvas,0,0,at,tt);try{const O=st.getImageData(0,0,at,tt),L=O.data,Z=L.length,R=B.Util._hexToRgb(this.colorKey);for(let X=0;X<Z;X+=4)L[X+3]>w?(L[X]=R.r,L[X+1]=R.g,L[X+2]=R.b,L[X+3]=255):L[X+3]=0;st.putImageData(O,0,0)}catch(O){B.Util.error("Unable to draw hit graph from cached scene canvas. "+O.message)}return this}hasPointerCapture(w){return m.hasPointerCapture(w,this)}setPointerCapture(w){m.setPointerCapture(w,this)}releaseCapture(w){m.releaseCapture(w,this)}}c.Shape=D,D.prototype._fillFunc=z,D.prototype._strokeFunc=H,D.prototype._fillFuncHit=V,D.prototype._strokeFuncHit=N,D.prototype._centroid=!1,D.prototype.nodeType="Shape",(0,p._registerNode)(D),D.prototype.eventListeners={},D.prototype.on.call(D.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",h),D.prototype.on.call(D.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",U),D.prototype.on.call(D.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",G),D.prototype.on.call(D.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",Y),D.prototype.on.call(D.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",W),C.Factory.addGetterSetter(D,"stroke",void 0,(0,_.getStringOrGradientValidator)()),C.Factory.addGetterSetter(D,"strokeWidth",2,(0,_.getNumberValidator)()),C.Factory.addGetterSetter(D,"fillAfterStrokeEnabled",!1),C.Factory.addGetterSetter(D,"hitStrokeWidth","auto",(0,_.getNumberOrAutoValidator)()),C.Factory.addGetterSetter(D,"strokeHitEnabled",!0,(0,_.getBooleanValidator)()),C.Factory.addGetterSetter(D,"perfectDrawEnabled",!0,(0,_.getBooleanValidator)()),C.Factory.addGetterSetter(D,"shadowForStrokeEnabled",!0,(0,_.getBooleanValidator)()),C.Factory.addGetterSetter(D,"lineJoin"),C.Factory.addGetterSetter(D,"lineCap"),C.Factory.addGetterSetter(D,"sceneFunc"),C.Factory.addGetterSetter(D,"hitFunc"),C.Factory.addGetterSetter(D,"dash"),C.Factory.addGetterSetter(D,"dashOffset",0,(0,_.getNumberValidator)()),C.Factory.addGetterSetter(D,"shadowColor",void 0,(0,_.getStringValidator)()),C.Factory.addGetterSetter(D,"shadowBlur",0,(0,_.getNumberValidator)()),C.Factory.addGetterSetter(D,"shadowOpacity",1,(0,_.getNumberValidator)()),C.Factory.addComponentsGetterSetter(D,"shadowOffset",["x","y"]),C.Factory.addGetterSetter(D,"shadowOffsetX",0,(0,_.getNumberValidator)()),C.Factory.addGetterSetter(D,"shadowOffsetY",0,(0,_.getNumberValidator)()),C.Factory.addGetterSetter(D,"fillPatternImage"),C.Factory.addGetterSetter(D,"fill",void 0,(0,_.getStringOrGradientValidator)()),C.Factory.addGetterSetter(D,"fillPatternX",0,(0,_.getNumberValidator)()),C.Factory.addGetterSetter(D,"fillPatternY",0,(0,_.getNumberValidator)()),C.Factory.addGetterSetter(D,"fillLinearGradientColorStops"),C.Factory.addGetterSetter(D,"strokeLinearGradientColorStops"),C.Factory.addGetterSetter(D,"fillRadialGradientStartRadius",0),C.Factory.addGetterSetter(D,"fillRadialGradientEndRadius",0),C.Factory.addGetterSetter(D,"fillRadialGradientColorStops"),C.Factory.addGetterSetter(D,"fillPatternRepeat","repeat"),C.Factory.addGetterSetter(D,"fillEnabled",!0),C.Factory.addGetterSetter(D,"strokeEnabled",!0),C.Factory.addGetterSetter(D,"shadowEnabled",!0),C.Factory.addGetterSetter(D,"dashEnabled",!0),C.Factory.addGetterSetter(D,"strokeScaleEnabled",!0),C.Factory.addGetterSetter(D,"fillPriority","color"),C.Factory.addComponentsGetterSetter(D,"fillPatternOffset",["x","y"]),C.Factory.addGetterSetter(D,"fillPatternOffsetX",0,(0,_.getNumberValidator)()),C.Factory.addGetterSetter(D,"fillPatternOffsetY",0,(0,_.getNumberValidator)()),C.Factory.addComponentsGetterSetter(D,"fillPatternScale",["x","y"]),C.Factory.addGetterSetter(D,"fillPatternScaleX",1,(0,_.getNumberValidator)()),C.Factory.addGetterSetter(D,"fillPatternScaleY",1,(0,_.getNumberValidator)()),C.Factory.addComponentsGetterSetter(D,"fillLinearGradientStartPoint",["x","y"]),C.Factory.addComponentsGetterSetter(D,"strokeLinearGradientStartPoint",["x","y"]),C.Factory.addGetterSetter(D,"fillLinearGradientStartPointX",0),C.Factory.addGetterSetter(D,"strokeLinearGradientStartPointX",0),C.Factory.addGetterSetter(D,"fillLinearGradientStartPointY",0),C.Factory.addGetterSetter(D,"strokeLinearGradientStartPointY",0),C.Factory.addComponentsGetterSetter(D,"fillLinearGradientEndPoint",["x","y"]),C.Factory.addComponentsGetterSetter(D,"strokeLinearGradientEndPoint",["x","y"]),C.Factory.addGetterSetter(D,"fillLinearGradientEndPointX",0),C.Factory.addGetterSetter(D,"strokeLinearGradientEndPointX",0),C.Factory.addGetterSetter(D,"fillLinearGradientEndPointY",0),C.Factory.addGetterSetter(D,"strokeLinearGradientEndPointY",0),C.Factory.addComponentsGetterSetter(D,"fillRadialGradientStartPoint",["x","y"]),C.Factory.addGetterSetter(D,"fillRadialGradientStartPointX",0),C.Factory.addGetterSetter(D,"fillRadialGradientStartPointY",0),C.Factory.addComponentsGetterSetter(D,"fillRadialGradientEndPoint",["x","y"]),C.Factory.addGetterSetter(D,"fillRadialGradientEndPointX",0),C.Factory.addGetterSetter(D,"fillRadialGradientEndPointY",0),C.Factory.addGetterSetter(D,"fillPatternRotation",0),C.Factory.addGetterSetter(D,"fillRule",void 0,(0,_.getStringValidator)()),C.Factory.backCompat(D,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(Rh)),Rh}var r2;function mg(){if(r2)return l0;r2=1,Object.defineProperty(l0,"__esModule",{value:!0}),l0.Layer=void 0;const c=ra(),d=Dd(),B=ma(),C=de(),A=zd(),_=ge(),p=wa(),m=ie(),x="#",y="beforeDraw",E="draw",M=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],T=M.length;class S extends d.Container{constructor(z){super(z),this.canvas=new A.SceneCanvas,this.hitCanvas=new A.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(z){return this.getContext().clear(z),this.getHitCanvas().getContext().clear(z),this}setZIndex(z){super.setZIndex(z);const H=this.getStage();return H&&H.content&&(H.content.removeChild(this.getNativeCanvasElement()),z<H.children.length-1?H.content.insertBefore(this.getNativeCanvasElement(),H.children[z+1].getCanvas()._canvas):H.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){B.Node.prototype.moveToTop.call(this);const z=this.getStage();return z&&z.content&&(z.content.removeChild(this.getNativeCanvasElement()),z.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!B.Node.prototype.moveUp.call(this))return!1;const H=this.getStage();return!H||!H.content?!1:(H.content.removeChild(this.getNativeCanvasElement()),this.index<H.children.length-1?H.content.insertBefore(this.getNativeCanvasElement(),H.children[this.index+1].getCanvas()._canvas):H.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(B.Node.prototype.moveDown.call(this)){const z=this.getStage();if(z){const H=z.children;z.content&&(z.content.removeChild(this.getNativeCanvasElement()),z.content.insertBefore(this.getNativeCanvasElement(),H[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(B.Node.prototype.moveToBottom.call(this)){const z=this.getStage();if(z){const H=z.children;z.content&&(z.content.removeChild(this.getNativeCanvasElement()),z.content.insertBefore(this.getNativeCanvasElement(),H[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const z=this.getNativeCanvasElement();return B.Node.prototype.remove.call(this),z&&z.parentNode&&c.Util._isInDocument(z)&&z.parentNode.removeChild(z),this}getStage(){return this.parent}setSize({width:z,height:H}){return this.canvas.setSize(z,H),this.hitCanvas.setSize(z,H),this._setSmoothEnabled(),this}_validateAdd(z){const H=z.getType();H!=="Group"&&H!=="Shape"&&c.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(z){return z=z||{},z.width=z.width||this.getWidth(),z.height=z.height||this.getHeight(),z.x=z.x!==void 0?z.x:this.x(),z.y=z.y!==void 0?z.y:this.y(),B.Node.prototype._toKonvaCanvas.call(this,z)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){c.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){c.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,c.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(z){if(!this.isListening()||!this.isVisible())return null;let H=1,V=!1;for(;;){for(let N=0;N<T;N++){const h=M[N],U=this._getIntersection({x:z.x+h.x*H,y:z.y+h.y*H}),G=U.shape;if(G)return G;if(V=!!U.antialiased,!U.antialiased)break}if(V)H+=1;else return null}}_getIntersection(z){const H=this.hitCanvas.pixelRatio,V=this.hitCanvas.context.getImageData(Math.round(z.x*H),Math.round(z.y*H),1,1).data,N=V[3];if(N===255){const h=c.Util._rgbToHex(V[0],V[1],V[2]),U=p.shapes[x+h];return U?{shape:U}:{antialiased:!0}}else if(N>0)return{antialiased:!0};return{}}drawScene(z,H,V){const N=this.getLayer(),h=z||N&&N.getCanvas();return this._fire(y,{node:this}),this.clearBeforeDraw()&&h.getContext().clear(),d.Container.prototype.drawScene.call(this,h,H,V),this._fire(E,{node:this}),this}drawHit(z,H){const V=this.getLayer(),N=z||V&&V.hitCanvas;return V&&V.clearBeforeDraw()&&V.getHitCanvas().getContext().clear(),d.Container.prototype.drawHit.call(this,N,H),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(z){c.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(z)}getHitGraphEnabled(z){return c.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const z=this.parent;!!this.hitCanvas._canvas.parentNode?z.content.removeChild(this.hitCanvas._canvas):z.content.appendChild(this.hitCanvas._canvas)}destroy(){return c.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return l0.Layer=S,S.prototype.nodeType="Layer",(0,m._registerNode)(S),C.Factory.addGetterSetter(S,"imageSmoothingEnabled",!0),C.Factory.addGetterSetter(S,"clearBeforeDraw",!0),C.Factory.addGetterSetter(S,"hitGraphEnabled",!0,(0,_.getBooleanValidator)()),l0}var i0={},u2;function gm(){if(u2)return i0;u2=1,Object.defineProperty(i0,"__esModule",{value:!0}),i0.FastLayer=void 0;const c=ra(),d=mg(),B=ie();let C=class extends d.Layer{constructor(_){super(_),this.listening(!1),c.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return i0.FastLayer=C,C.prototype.nodeType="FastLayer",(0,B._registerNode)(C),i0}var s0={},o2;function Jh(){if(o2)return s0;o2=1,Object.defineProperty(s0,"__esModule",{value:!0}),s0.Group=void 0;const c=ra(),d=Dd(),B=ie();let C=class extends d.Container{_validateAdd(_){const p=_.getType();p!=="Group"&&p!=="Shape"&&c.Util.throw("You may only add groups and shapes to groups.")}};return s0.Group=C,C.prototype.nodeType="Group",(0,B._registerNode)(C),s0}var r0={},c2;function Ph(){if(c2)return r0;c2=1,Object.defineProperty(r0,"__esModule",{value:!0}),r0.Animation=void 0;const c=ie(),d=ra(),B=(function(){return c.glob.performance&&c.glob.performance.now?function(){return c.glob.performance.now()}:function(){return new Date().getTime()}})();let C=class Co{constructor(_,p){this.id=Co.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:B(),frameRate:0},this.func=_,this.setLayers(p)}setLayers(_){let p=[];return _&&(p=Array.isArray(_)?_:[_]),this.layers=p,this}getLayers(){return this.layers}addLayer(_){const p=this.layers,m=p.length;for(let x=0;x<m;x++)if(p[x]._id===_._id)return!1;return this.layers.push(_),!0}isRunning(){const p=Co.animations,m=p.length;for(let x=0;x<m;x++)if(p[x].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=B(),Co._addAnimation(this),this}stop(){return Co._removeAnimation(this),this}_updateFrameObject(_){this.frame.timeDiff=_-this.frame.lastTime,this.frame.lastTime=_,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(_){this.animations.push(_),this._handleAnimation()}static _removeAnimation(_){const p=_.id,m=this.animations,x=m.length;for(let y=0;y<x;y++)if(m[y].id===p){this.animations.splice(y,1);break}}static _runFrames(){const _={},p=this.animations;for(let m=0;m<p.length;m++){const x=p[m],y=x.layers,E=x.func;x._updateFrameObject(B());const M=y.length;let T;if(E?T=E.call(x,x.frame)!==!1:T=!0,!!T)for(let S=0;S<M;S++){const v=y[S];v._id!==void 0&&(_[v._id]=v)}}for(const m in _)_.hasOwnProperty(m)&&_[m].batchDraw()}static _animationLoop(){const _=Co;_.animations.length?(_._runFrames(),d.Util.requestAnimFrame(_._animationLoop)):_.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,d.Util.requestAnimFrame(this._animationLoop))}};return r0.Animation=C,C.animations=[],C.animIdCounter=0,C.animRunning=!1,r0}var jh={},f2;function mm(){return f2||(f2=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.Easings=c.Tween=void 0;const d=ra(),B=Ph(),C=ma(),A=ie(),_={node:1,duration:1,easing:1,onFinish:1,yoyo:1},p=1,m=2,x=3,y=["fill","stroke","shadowColor"];let E=0;class M{constructor(v,z,H,V,N,h,U){this.prop=v,this.propFunc=z,this.begin=V,this._pos=V,this.duration=h,this._change=0,this.prevPos=0,this.yoyo=U,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=H,this._change=N-this.begin,this.pause()}fire(v){const z=this[v];z&&z()}setTime(v){v>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():v<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=v,this.update())}getTime(){return this._time}setPosition(v){this.prevPos=this._pos,this.propFunc(v),this._pos=v}getPosition(v){return v===void 0&&(v=this._time),this.func(v,this.begin,this._change,this.duration)}play(){this.state=m,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=x,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(v){this.pause(),this._time=v,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const v=this.getTimer()-this._startTime;this.state===m?this.setTime(v):this.state===x&&this.setTime(this.duration-v)}pause(){this.state=p,this.fire("onPause")}getTimer(){return new Date().getTime()}}class T{constructor(v){const z=this,H=v.node,V=H._id,N=v.easing||c.Easings.Linear,h=!!v.yoyo;let U,G;typeof v.duration>"u"?U=.3:v.duration===0?U=.001:U=v.duration,this.node=H,this._id=E++;const Y=H.getLayer()||(H instanceof A.Konva.Stage?H.getLayers():null);Y||d.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new B.Animation(function(){z.tween.onEnterFrame()},Y),this.tween=new M(G,function(W){z._tweenFunc(W)},N,0,1,U*1e3,h),this._addListeners(),T.attrs[V]||(T.attrs[V]={}),T.attrs[V][this._id]||(T.attrs[V][this._id]={}),T.tweens[V]||(T.tweens[V]={});for(G in v)_[G]===void 0&&this._addAttr(G,v[G]);this.reset(),this.onFinish=v.onFinish,this.onReset=v.onReset,this.onUpdate=v.onUpdate}_addAttr(v,z){const H=this.node,V=H._id;let N,h,U,G,Y;const W=T.tweens[V][v];W&&delete T.attrs[V][W][v];let D=H.getAttr(v);if(d.Util._isArray(z))if(N=[],h=Math.max(z.length,D.length),v==="points"&&z.length!==D.length&&(z.length>D.length?(G=D,D=d.Util._prepareArrayForTween(D,z,H.closed())):(U=z,z=d.Util._prepareArrayForTween(z,D,H.closed()))),v.indexOf("fill")===0)for(let q=0;q<h;q++)if(q%2===0)N.push(z[q]-D[q]);else{const w=d.Util.colorToRGBA(D[q]);Y=d.Util.colorToRGBA(z[q]),D[q]=w,N.push({r:Y.r-w.r,g:Y.g-w.g,b:Y.b-w.b,a:Y.a-w.a})}else for(let q=0;q<h;q++)N.push(z[q]-D[q]);else y.indexOf(v)!==-1?(D=d.Util.colorToRGBA(D),Y=d.Util.colorToRGBA(z),N={r:Y.r-D.r,g:Y.g-D.g,b:Y.b-D.b,a:Y.a-D.a}):N=z-D;T.attrs[V][this._id][v]={start:D,diff:N,end:z,trueEnd:U,trueStart:G},T.tweens[V][v]=this._id}_tweenFunc(v){const z=this.node,H=T.attrs[z._id][this._id];let V,N,h,U,G,Y,W,D;for(V in H){if(N=H[V],h=N.start,U=N.diff,D=N.end,d.Util._isArray(h))if(G=[],W=Math.max(h.length,D.length),V.indexOf("fill")===0)for(Y=0;Y<W;Y++)Y%2===0?G.push((h[Y]||0)+U[Y]*v):G.push("rgba("+Math.round(h[Y].r+U[Y].r*v)+","+Math.round(h[Y].g+U[Y].g*v)+","+Math.round(h[Y].b+U[Y].b*v)+","+(h[Y].a+U[Y].a*v)+")");else for(Y=0;Y<W;Y++)G.push((h[Y]||0)+U[Y]*v);else y.indexOf(V)!==-1?G="rgba("+Math.round(h.r+U.r*v)+","+Math.round(h.g+U.g*v)+","+Math.round(h.b+U.b*v)+","+(h.a+U.a*v)+")":G=h+U*v;z.setAttr(V,G)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const v=this.node,z=T.attrs[v._id][this._id];z.points&&z.points.trueEnd&&v.setAttr("points",z.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const v=this.node,z=T.attrs[v._id][this._id];z.points&&z.points.trueStart&&v.points(z.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(v){return this.tween.seek(v*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const v=this.node._id,z=this._id,H=T.tweens[v];this.pause(),this.anim&&this.anim.stop();for(const V in H)delete T.tweens[v][V];delete T.attrs[v][z],T.tweens[v]&&(Object.keys(T.tweens[v]).length===0&&delete T.tweens[v],Object.keys(T.attrs[v]).length===0&&delete T.attrs[v])}}c.Tween=T,T.attrs={},T.tweens={},C.Node.prototype.to=function(S){const v=S.onFinish;S.node=this,S.onFinish=function(){this.destroy(),v&&v()},new T(S).play()},c.Easings={BackEaseIn(S,v,z,H){return z*(S/=H)*S*((1.70158+1)*S-1.70158)+v},BackEaseOut(S,v,z,H){return z*((S=S/H-1)*S*((1.70158+1)*S+1.70158)+1)+v},BackEaseInOut(S,v,z,H){let V=1.70158;return(S/=H/2)<1?z/2*(S*S*(((V*=1.525)+1)*S-V))+v:z/2*((S-=2)*S*(((V*=1.525)+1)*S+V)+2)+v},ElasticEaseIn(S,v,z,H,V,N){let h=0;return S===0?v:(S/=H)===1?v+z:(N||(N=H*.3),!V||V<Math.abs(z)?(V=z,h=N/4):h=N/(2*Math.PI)*Math.asin(z/V),-(V*Math.pow(2,10*(S-=1))*Math.sin((S*H-h)*(2*Math.PI)/N))+v)},ElasticEaseOut(S,v,z,H,V,N){let h=0;return S===0?v:(S/=H)===1?v+z:(N||(N=H*.3),!V||V<Math.abs(z)?(V=z,h=N/4):h=N/(2*Math.PI)*Math.asin(z/V),V*Math.pow(2,-10*S)*Math.sin((S*H-h)*(2*Math.PI)/N)+z+v)},ElasticEaseInOut(S,v,z,H,V,N){let h=0;return S===0?v:(S/=H/2)===2?v+z:(N||(N=H*(.3*1.5)),!V||V<Math.abs(z)?(V=z,h=N/4):h=N/(2*Math.PI)*Math.asin(z/V),S<1?-.5*(V*Math.pow(2,10*(S-=1))*Math.sin((S*H-h)*(2*Math.PI)/N))+v:V*Math.pow(2,-10*(S-=1))*Math.sin((S*H-h)*(2*Math.PI)/N)*.5+z+v)},BounceEaseOut(S,v,z,H){return(S/=H)<1/2.75?z*(7.5625*S*S)+v:S<2/2.75?z*(7.5625*(S-=1.5/2.75)*S+.75)+v:S<2.5/2.75?z*(7.5625*(S-=2.25/2.75)*S+.9375)+v:z*(7.5625*(S-=2.625/2.75)*S+.984375)+v},BounceEaseIn(S,v,z,H){return z-c.Easings.BounceEaseOut(H-S,0,z,H)+v},BounceEaseInOut(S,v,z,H){return S<H/2?c.Easings.BounceEaseIn(S*2,0,z,H)*.5+v:c.Easings.BounceEaseOut(S*2-H,0,z,H)*.5+z*.5+v},EaseIn(S,v,z,H){return z*(S/=H)*S+v},EaseOut(S,v,z,H){return-z*(S/=H)*(S-2)+v},EaseInOut(S,v,z,H){return(S/=H/2)<1?z/2*S*S+v:-z/2*(--S*(S-2)-1)+v},StrongEaseIn(S,v,z,H){return z*(S/=H)*S*S*S*S+v},StrongEaseOut(S,v,z,H){return z*((S=S/H-1)*S*S*S*S+1)+v},StrongEaseInOut(S,v,z,H){return(S/=H/2)<1?z/2*S*S*S*S*S+v:z/2*((S-=2)*S*S*S*S+2)+v},Linear(S,v,z,H){return z*S/H+v}}})(jh)),jh}var d2;function Yh(){return d2||(d2=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.Konva=void 0;const d=ie(),B=ra(),C=ma(),A=Dd(),_=hm(),p=mg(),m=gm(),x=Jh(),y=Fh(),E=wa(),M=Ph(),T=mm(),S=hg(),v=zd();c.Konva=B.Util._assign(d.Konva,{Util:B.Util,Transform:B.Transform,Node:C.Node,Container:A.Container,Stage:_.Stage,stages:_.stages,Layer:p.Layer,FastLayer:m.FastLayer,Group:x.Group,DD:y.DD,Shape:E.Shape,shapes:E.shapes,Animation:M.Animation,Tween:T.Tween,Easings:T.Easings,Context:S.Context,Canvas:v.Canvas}),c.default=c.Konva})(Th)),Th}var u0={},h2;function ym(){if(h2)return u0;h2=1,Object.defineProperty(u0,"__esModule",{value:!0}),u0.Arc=void 0;const c=de(),d=wa(),B=ie(),C=ge(),A=ie();let _=class extends d.Shape{_sceneFunc(m){const x=B.Konva.getAngle(this.angle()),y=this.clockwise();m.beginPath(),m.arc(0,0,this.outerRadius(),0,x,y),m.arc(0,0,this.innerRadius(),x,0,!y),m.closePath(),m.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(m){this.outerRadius(m/2)}setHeight(m){this.outerRadius(m/2)}getSelfRect(){const m=this.innerRadius(),x=this.outerRadius(),y=this.clockwise(),E=B.Konva.getAngle(y?360-this.angle():this.angle()),M=Math.cos(Math.min(E,Math.PI)),T=1,S=Math.sin(Math.min(Math.max(Math.PI,E),3*Math.PI/2)),v=Math.sin(Math.min(E,Math.PI/2)),z=M*(M>0?m:x),H=T*x,V=S*(S>0?m:x),N=v*(v>0?x:m);return{x:z,y:y?-1*N:V,width:H-z,height:N-V}}};return u0.Arc=_,_.prototype._centroid=!0,_.prototype.className="Arc",_.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,A._registerNode)(_),c.Factory.addGetterSetter(_,"innerRadius",0,(0,C.getNumberValidator)()),c.Factory.addGetterSetter(_,"outerRadius",0,(0,C.getNumberValidator)()),c.Factory.addGetterSetter(_,"angle",0,(0,C.getNumberValidator)()),c.Factory.addGetterSetter(_,"clockwise",!1,(0,C.getBooleanValidator)()),u0}var o0={},c0={},g2;function yg(){if(g2)return c0;g2=1,Object.defineProperty(c0,"__esModule",{value:!0}),c0.Line=void 0;const c=de(),d=ie(),B=wa(),C=ge();function A(m,x,y,E,M,T,S){const v=Math.sqrt(Math.pow(y-m,2)+Math.pow(E-x,2)),z=Math.sqrt(Math.pow(M-y,2)+Math.pow(T-E,2)),H=S*v/(v+z),V=S*z/(v+z),N=y-H*(M-m),h=E-H*(T-x),U=y+V*(M-m),G=E+V*(T-x);return[N,h,U,G]}function _(m,x){const y=m.length,E=[];for(let M=2;M<y-2;M+=2){const T=A(m[M-2],m[M-1],m[M],m[M+1],m[M+2],m[M+3],x);isNaN(T[0])||(E.push(T[0]),E.push(T[1]),E.push(m[M]),E.push(m[M+1]),E.push(T[2]),E.push(T[3]))}return E}class p extends B.Shape{constructor(x){super(x),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(x){const y=this.points(),E=y.length,M=this.tension(),T=this.closed(),S=this.bezier();if(!E)return;let v=0;if(x.beginPath(),x.moveTo(y[0],y[1]),M!==0&&E>4){const z=this.getTensionPoints(),H=z.length;for(v=T?0:4,T||x.quadraticCurveTo(z[0],z[1],z[2],z[3]);v<H-2;)x.bezierCurveTo(z[v++],z[v++],z[v++],z[v++],z[v++],z[v++]);T||x.quadraticCurveTo(z[H-2],z[H-1],y[E-2],y[E-1])}else if(S)for(v=2;v<E;)x.bezierCurveTo(y[v++],y[v++],y[v++],y[v++],y[v++],y[v++]);else for(v=2;v<E;v+=2)x.lineTo(y[v],y[v+1]);T?(x.closePath(),x.fillStrokeShape(this)):x.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():_(this.points(),this.tension())}_getTensionPointsClosed(){const x=this.points(),y=x.length,E=this.tension(),M=A(x[y-2],x[y-1],x[0],x[1],x[2],x[3],E),T=A(x[y-4],x[y-3],x[y-2],x[y-1],x[0],x[1],E),S=_(x,E);return[M[2],M[3]].concat(S).concat([T[0],T[1],x[y-2],x[y-1],T[2],T[3],M[0],M[1],x[0],x[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let x=this.points();if(x.length<4)return{x:x[0]||0,y:x[1]||0,width:0,height:0};this.tension()!==0?x=[x[0],x[1],...this._getTensionPoints(),x[x.length-2],x[x.length-1]]:x=this.points();let y=x[0],E=x[0],M=x[1],T=x[1],S,v;for(let z=0;z<x.length/2;z++)S=x[z*2],v=x[z*2+1],y=Math.min(y,S),E=Math.max(E,S),M=Math.min(M,v),T=Math.max(T,v);return{x:y,y:M,width:E-y,height:T-M}}}return c0.Line=p,p.prototype.className="Line",p.prototype._attrsAffectingSize=["points","bezier","tension"],(0,d._registerNode)(p),c.Factory.addGetterSetter(p,"closed",!1),c.Factory.addGetterSetter(p,"bezier",!1),c.Factory.addGetterSetter(p,"tension",0,(0,C.getNumberValidator)()),c.Factory.addGetterSetter(p,"points",[],(0,C.getNumberArrayValidator)()),c0}var f0={},Uh={},m2;function vm(){return m2||(m2=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.t2length=c.getQuadraticArcLength=c.getCubicArcLength=c.binomialCoefficients=c.cValues=c.tValues=void 0,c.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],c.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],c.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const d=(p,m,x)=>{let y,E;const T=x/2;y=0;for(let S=0;S<20;S++)E=T*c.tValues[20][S]+T,y+=c.cValues[20][S]*C(p,m,E);return T*y};c.getCubicArcLength=d;const B=(p,m,x)=>{x===void 0&&(x=1);const y=p[0]-2*p[1]+p[2],E=m[0]-2*m[1]+m[2],M=2*p[1]-2*p[0],T=2*m[1]-2*m[0],S=4*(y*y+E*E),v=4*(y*M+E*T),z=M*M+T*T;if(S===0)return x*Math.sqrt(Math.pow(p[2]-p[0],2)+Math.pow(m[2]-m[0],2));const H=v/(2*S),V=z/S,N=x+H,h=V-H*H,U=N*N+h>0?Math.sqrt(N*N+h):0,G=H*H+h>0?Math.sqrt(H*H+h):0,Y=H+Math.sqrt(H*H+h)!==0?h*Math.log(Math.abs((N+U)/(H+G))):0;return Math.sqrt(S)/2*(N*U-H*G+Y)};c.getQuadraticArcLength=B;function C(p,m,x){const y=A(1,x,p),E=A(1,x,m),M=y*y+E*E;return Math.sqrt(M)}const A=(p,m,x)=>{const y=x.length-1;let E,M;if(y===0)return 0;if(p===0){M=0;for(let T=0;T<=y;T++)M+=c.binomialCoefficients[y][T]*Math.pow(1-m,y-T)*Math.pow(m,T)*x[T];return M}else{E=new Array(y);for(let T=0;T<y;T++)E[T]=y*(x[T+1]-x[T]);return A(p-1,m,E)}},_=(p,m,x)=>{let y=1,E=p/m,M=(p-x(E))/m,T=0;for(;y>.001;){const S=x(E+M),v=Math.abs(p-S)/m;if(v<y)y=v,E+=M;else{const z=x(E-M),H=Math.abs(p-z)/m;H<y?(y=H,E-=M):M/=2}if(T++,T>500)break}return E};c.t2length=_})(Uh)),Uh}var y2;function Wh(){if(y2)return f0;y2=1,Object.defineProperty(f0,"__esModule",{value:!0}),f0.Path=void 0;const c=de(),d=ie(),B=wa(),C=vm();let A=class Un extends B.Shape{constructor(p){super(p),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Un.parsePathData(this.data()),this.pathLength=Un.getPathLength(this.dataArray)}_sceneFunc(p){const m=this.dataArray;p.beginPath();let x=!1;for(let y=0;y<m.length;y++){const E=m[y].command,M=m[y].points;switch(E){case"L":p.lineTo(M[0],M[1]);break;case"M":p.moveTo(M[0],M[1]);break;case"C":p.bezierCurveTo(M[0],M[1],M[2],M[3],M[4],M[5]);break;case"Q":p.quadraticCurveTo(M[0],M[1],M[2],M[3]);break;case"A":const T=M[0],S=M[1],v=M[2],z=M[3],H=M[4],V=M[5],N=M[6],h=M[7],U=v>z?v:z,G=v>z?1:v/z,Y=v>z?z/v:1;p.translate(T,S),p.rotate(N),p.scale(G,Y),p.arc(0,0,U,H,H+V,1-h),p.scale(1/G,1/Y),p.rotate(-N),p.translate(-T,-S);break;case"z":x=!0,p.closePath();break}}!x&&!this.hasFill()?p.strokeShape(this):p.fillStrokeShape(this)}getSelfRect(){let p=[];this.dataArray.forEach(function(S){if(S.command==="A"){const v=S.points[4],z=S.points[5],H=S.points[4]+z;let V=Math.PI/180;if(Math.abs(v-H)<V&&(V=Math.abs(v-H)),z<0)for(let N=v-V;N>H;N-=V){const h=Un.getPointOnEllipticalArc(S.points[0],S.points[1],S.points[2],S.points[3],N,0);p.push(h.x,h.y)}else for(let N=v+V;N<H;N+=V){const h=Un.getPointOnEllipticalArc(S.points[0],S.points[1],S.points[2],S.points[3],N,0);p.push(h.x,h.y)}}else if(S.command==="C")for(let v=0;v<=1;v+=.01){const z=Un.getPointOnCubicBezier(v,S.start.x,S.start.y,S.points[0],S.points[1],S.points[2],S.points[3],S.points[4],S.points[5]);p.push(z.x,z.y)}else p=p.concat(S.points)});let m=p[0],x=p[0],y=p[1],E=p[1],M,T;for(let S=0;S<p.length/2;S++)M=p[S*2],T=p[S*2+1],isNaN(M)||(m=Math.min(m,M),x=Math.max(x,M)),isNaN(T)||(y=Math.min(y,T),E=Math.max(E,T));return{x:m,y,width:x-m,height:E-y}}getLength(){return this.pathLength}getPointAtLength(p){return Un.getPointAtLengthOfDataArray(p,this.dataArray)}static getLineLength(p,m,x,y){return Math.sqrt((x-p)*(x-p)+(y-m)*(y-m))}static getPathLength(p){let m=0;for(let x=0;x<p.length;++x)m+=p[x].pathLength;return m}static getPointAtLengthOfDataArray(p,m){let x,y=0,E=m.length;if(!E)return null;for(;y<E&&p>m[y].pathLength;)p-=m[y].pathLength,++y;if(y===E)return x=m[y-1].points.slice(-2),{x:x[0],y:x[1]};if(p<.01)return m[y].command==="M"?(x=m[y].points.slice(0,2),{x:x[0],y:x[1]}):{x:m[y].start.x,y:m[y].start.y};const M=m[y],T=M.points;switch(M.command){case"L":return Un.getPointOnLine(p,M.start.x,M.start.y,T[0],T[1]);case"C":return Un.getPointOnCubicBezier((0,C.t2length)(p,Un.getPathLength(m),U=>(0,C.getCubicArcLength)([M.start.x,T[0],T[2],T[4]],[M.start.y,T[1],T[3],T[5]],U)),M.start.x,M.start.y,T[0],T[1],T[2],T[3],T[4],T[5]);case"Q":return Un.getPointOnQuadraticBezier((0,C.t2length)(p,Un.getPathLength(m),U=>(0,C.getQuadraticArcLength)([M.start.x,T[0],T[2]],[M.start.y,T[1],T[3]],U)),M.start.x,M.start.y,T[0],T[1],T[2],T[3]);case"A":const S=T[0],v=T[1],z=T[2],H=T[3],V=T[5],N=T[6];let h=T[4];return h+=V*p/M.pathLength,Un.getPointOnEllipticalArc(S,v,z,H,h,N)}return null}static getPointOnLine(p,m,x,y,E,M,T){M=M??m,T=T??x;const S=this.getLineLength(m,x,y,E);if(S<1e-10)return{x:m,y:x};if(y===m)return{x:M,y:T+(E>x?p:-p)};const v=(E-x)/(y-m),z=Math.sqrt(p*p/(1+v*v))*(y<m?-1:1),H=v*z;if(Math.abs(T-x-v*(M-m))<1e-10)return{x:M+z,y:T+H};const V=((M-m)*(y-m)+(T-x)*(E-x))/(S*S),N=m+V*(y-m),h=x+V*(E-x),U=this.getLineLength(M,T,N,h),G=Math.sqrt(p*p-U*U),Y=Math.sqrt(G*G/(1+v*v))*(y<m?-1:1),W=v*Y;return{x:N+Y,y:h+W}}static getPointOnCubicBezier(p,m,x,y,E,M,T,S,v){function z(G){return G*G*G}function H(G){return 3*G*G*(1-G)}function V(G){return 3*G*(1-G)*(1-G)}function N(G){return(1-G)*(1-G)*(1-G)}const h=S*z(p)+M*H(p)+y*V(p)+m*N(p),U=v*z(p)+T*H(p)+E*V(p)+x*N(p);return{x:h,y:U}}static getPointOnQuadraticBezier(p,m,x,y,E,M,T){function S(N){return N*N}function v(N){return 2*N*(1-N)}function z(N){return(1-N)*(1-N)}const H=M*S(p)+y*v(p)+m*z(p),V=T*S(p)+E*v(p)+x*z(p);return{x:H,y:V}}static getPointOnEllipticalArc(p,m,x,y,E,M){const T=Math.cos(M),S=Math.sin(M),v={x:x*Math.cos(E),y:y*Math.sin(E)};return{x:p+(v.x*T-v.y*S),y:m+(v.x*S+v.y*T)}}static parsePathData(p){if(!p)return[];let m=p;const x=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];m=m.replace(new RegExp(" ","g"),",");for(let H=0;H<x.length;H++)m=m.replace(new RegExp(x[H],"g"),"|"+x[H]);const y=m.split("|"),E=[],M=[];let T=0,S=0;const v=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let z;for(let H=1;H<y.length;H++){let V=y[H],N=V.charAt(0);for(V=V.slice(1),M.length=0;z=v.exec(V);)M.push(z[0]);const h=[];for(let U=0,G=M.length;U<G;U++){if(M[U]==="00"){h.push(0,0);continue}const Y=parseFloat(M[U]);isNaN(Y)?h.push(0):h.push(Y)}for(;h.length>0&&!isNaN(h[0]);){let U="",G=[];const Y=T,W=S;let D,q,w,Q,F,$,st,at,tt,O;switch(N){case"l":T+=h.shift(),S+=h.shift(),U="L",G.push(T,S);break;case"L":T=h.shift(),S=h.shift(),G.push(T,S);break;case"m":const L=h.shift(),Z=h.shift();if(T+=L,S+=Z,U="M",E.length>2&&E[E.length-1].command==="z"){for(let R=E.length-2;R>=0;R--)if(E[R].command==="M"){T=E[R].points[0]+L,S=E[R].points[1]+Z;break}}G.push(T,S),N="l";break;case"M":T=h.shift(),S=h.shift(),U="M",G.push(T,S),N="L";break;case"h":T+=h.shift(),U="L",G.push(T,S);break;case"H":T=h.shift(),U="L",G.push(T,S);break;case"v":S+=h.shift(),U="L",G.push(T,S);break;case"V":S=h.shift(),U="L",G.push(T,S);break;case"C":G.push(h.shift(),h.shift(),h.shift(),h.shift()),T=h.shift(),S=h.shift(),G.push(T,S);break;case"c":G.push(T+h.shift(),S+h.shift(),T+h.shift(),S+h.shift()),T+=h.shift(),S+=h.shift(),U="C",G.push(T,S);break;case"S":q=T,w=S,D=E[E.length-1],D.command==="C"&&(q=T+(T-D.points[2]),w=S+(S-D.points[3])),G.push(q,w,h.shift(),h.shift()),T=h.shift(),S=h.shift(),U="C",G.push(T,S);break;case"s":q=T,w=S,D=E[E.length-1],D.command==="C"&&(q=T+(T-D.points[2]),w=S+(S-D.points[3])),G.push(q,w,T+h.shift(),S+h.shift()),T+=h.shift(),S+=h.shift(),U="C",G.push(T,S);break;case"Q":G.push(h.shift(),h.shift()),T=h.shift(),S=h.shift(),G.push(T,S);break;case"q":G.push(T+h.shift(),S+h.shift()),T+=h.shift(),S+=h.shift(),U="Q",G.push(T,S);break;case"T":q=T,w=S,D=E[E.length-1],D.command==="Q"&&(q=T+(T-D.points[0]),w=S+(S-D.points[1])),T=h.shift(),S=h.shift(),U="Q",G.push(q,w,T,S);break;case"t":q=T,w=S,D=E[E.length-1],D.command==="Q"&&(q=T+(T-D.points[0]),w=S+(S-D.points[1])),T+=h.shift(),S+=h.shift(),U="Q",G.push(q,w,T,S);break;case"A":Q=h.shift(),F=h.shift(),$=h.shift(),st=h.shift(),at=h.shift(),tt=T,O=S,T=h.shift(),S=h.shift(),U="A",G=this.convertEndpointToCenterParameterization(tt,O,T,S,st,at,Q,F,$);break;case"a":Q=h.shift(),F=h.shift(),$=h.shift(),st=h.shift(),at=h.shift(),tt=T,O=S,T+=h.shift(),S+=h.shift(),U="A",G=this.convertEndpointToCenterParameterization(tt,O,T,S,st,at,Q,F,$);break}E.push({command:U||N,points:G,start:{x:Y,y:W},pathLength:this.calcLength(Y,W,U||N,G)})}(N==="z"||N==="Z")&&E.push({command:"z",points:[],start:void 0,pathLength:0})}return E}static calcLength(p,m,x,y){let E,M,T,S;const v=Un;switch(x){case"L":return v.getLineLength(p,m,y[0],y[1]);case"C":return(0,C.getCubicArcLength)([p,y[0],y[2],y[4]],[m,y[1],y[3],y[5]],1);case"Q":return(0,C.getQuadraticArcLength)([p,y[0],y[2]],[m,y[1],y[3]],1);case"A":E=0;const z=y[4],H=y[5],V=y[4]+H;let N=Math.PI/180;if(Math.abs(z-V)<N&&(N=Math.abs(z-V)),M=v.getPointOnEllipticalArc(y[0],y[1],y[2],y[3],z,0),H<0)for(S=z-N;S>V;S-=N)T=v.getPointOnEllipticalArc(y[0],y[1],y[2],y[3],S,0),E+=v.getLineLength(M.x,M.y,T.x,T.y),M=T;else for(S=z+N;S<V;S+=N)T=v.getPointOnEllipticalArc(y[0],y[1],y[2],y[3],S,0),E+=v.getLineLength(M.x,M.y,T.x,T.y),M=T;return T=v.getPointOnEllipticalArc(y[0],y[1],y[2],y[3],V,0),E+=v.getLineLength(M.x,M.y,T.x,T.y),E}return 0}static convertEndpointToCenterParameterization(p,m,x,y,E,M,T,S,v){const z=v*(Math.PI/180),H=Math.cos(z)*(p-x)/2+Math.sin(z)*(m-y)/2,V=-1*Math.sin(z)*(p-x)/2+Math.cos(z)*(m-y)/2,N=H*H/(T*T)+V*V/(S*S);N>1&&(T*=Math.sqrt(N),S*=Math.sqrt(N));let h=Math.sqrt((T*T*(S*S)-T*T*(V*V)-S*S*(H*H))/(T*T*(V*V)+S*S*(H*H)));E===M&&(h*=-1),isNaN(h)&&(h=0);const U=h*T*V/S,G=h*-S*H/T,Y=(p+x)/2+Math.cos(z)*U-Math.sin(z)*G,W=(m+y)/2+Math.sin(z)*U+Math.cos(z)*G,D=function(at){return Math.sqrt(at[0]*at[0]+at[1]*at[1])},q=function(at,tt){return(at[0]*tt[0]+at[1]*tt[1])/(D(at)*D(tt))},w=function(at,tt){return(at[0]*tt[1]<at[1]*tt[0]?-1:1)*Math.acos(q(at,tt))},Q=w([1,0],[(H-U)/T,(V-G)/S]),F=[(H-U)/T,(V-G)/S],$=[(-1*H-U)/T,(-1*V-G)/S];let st=w(F,$);return q(F,$)<=-1&&(st=Math.PI),q(F,$)>=1&&(st=0),M===0&&st>0&&(st=st-2*Math.PI),M===1&&st<0&&(st=st+2*Math.PI),[Y,W,T,S,Q,st,z,M]}};return f0.Path=A,A.prototype.className="Path",A.prototype._attrsAffectingSize=["data"],(0,d._registerNode)(A),c.Factory.addGetterSetter(A,"data"),f0}var v2;function pm(){if(v2)return o0;v2=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.Arrow=void 0;const c=de(),d=yg(),B=ge(),C=ie(),A=Wh();let _=class extends d.Line{_sceneFunc(m){super._sceneFunc(m);const x=Math.PI*2,y=this.points();let E=y;const M=this.tension()!==0&&y.length>4;M&&(E=this.getTensionPoints());const T=this.pointerLength(),S=y.length;let v,z;if(M){const N=[E[E.length-4],E[E.length-3],E[E.length-2],E[E.length-1],y[S-2],y[S-1]],h=A.Path.calcLength(E[E.length-4],E[E.length-3],"C",N),U=A.Path.getPointOnQuadraticBezier(Math.min(1,1-T/h),N[0],N[1],N[2],N[3],N[4],N[5]);v=y[S-2]-U.x,z=y[S-1]-U.y}else v=y[S-2]-y[S-4],z=y[S-1]-y[S-3];const H=(Math.atan2(z,v)+x)%x,V=this.pointerWidth();this.pointerAtEnding()&&(m.save(),m.beginPath(),m.translate(y[S-2],y[S-1]),m.rotate(H),m.moveTo(0,0),m.lineTo(-T,V/2),m.lineTo(-T,-V/2),m.closePath(),m.restore(),this.__fillStroke(m)),this.pointerAtBeginning()&&(m.save(),m.beginPath(),m.translate(y[0],y[1]),M?(v=(E[0]+E[2])/2-y[0],z=(E[1]+E[3])/2-y[1]):(v=y[2]-y[0],z=y[3]-y[1]),m.rotate((Math.atan2(-z,-v)+x)%x),m.moveTo(0,0),m.lineTo(-T,V/2),m.lineTo(-T,-V/2),m.closePath(),m.restore(),this.__fillStroke(m))}__fillStroke(m){const x=this.dashEnabled();x&&(this.attrs.dashEnabled=!1,m.setLineDash([])),m.fillStrokeShape(this),x&&(this.attrs.dashEnabled=!0)}getSelfRect(){const m=super.getSelfRect(),x=this.pointerWidth()/2;return{x:m.x,y:m.y-x,width:m.width,height:m.height+x*2}}};return o0.Arrow=_,_.prototype.className="Arrow",(0,C._registerNode)(_),c.Factory.addGetterSetter(_,"pointerLength",10,(0,B.getNumberValidator)()),c.Factory.addGetterSetter(_,"pointerWidth",10,(0,B.getNumberValidator)()),c.Factory.addGetterSetter(_,"pointerAtBeginning",!1),c.Factory.addGetterSetter(_,"pointerAtEnding",!0),o0}var d0={},p2;function bm(){if(p2)return d0;p2=1,Object.defineProperty(d0,"__esModule",{value:!0}),d0.Circle=void 0;const c=de(),d=wa(),B=ge(),C=ie();let A=class extends d.Shape{_sceneFunc(p){p.beginPath(),p.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(p){this.radius()!==p/2&&this.radius(p/2)}setHeight(p){this.radius()!==p/2&&this.radius(p/2)}};return d0.Circle=A,A.prototype._centroid=!0,A.prototype.className="Circle",A.prototype._attrsAffectingSize=["radius"],(0,C._registerNode)(A),c.Factory.addGetterSetter(A,"radius",0,(0,B.getNumberValidator)()),d0}var h0={},b2;function xm(){if(b2)return h0;b2=1,Object.defineProperty(h0,"__esModule",{value:!0}),h0.Ellipse=void 0;const c=de(),d=wa(),B=ge(),C=ie();let A=class extends d.Shape{_sceneFunc(p){const m=this.radiusX(),x=this.radiusY();p.beginPath(),p.save(),m!==x&&p.scale(1,x/m),p.arc(0,0,m,0,Math.PI*2,!1),p.restore(),p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(p){this.radiusX(p/2)}setHeight(p){this.radiusY(p/2)}};return h0.Ellipse=A,A.prototype.className="Ellipse",A.prototype._centroid=!0,A.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,C._registerNode)(A),c.Factory.addComponentsGetterSetter(A,"radius",["x","y"]),c.Factory.addGetterSetter(A,"radiusX",0,(0,B.getNumberValidator)()),c.Factory.addGetterSetter(A,"radiusY",0,(0,B.getNumberValidator)()),h0}var g0={},x2;function Sm(){if(x2)return g0;x2=1,Object.defineProperty(g0,"__esModule",{value:!0}),g0.Image=void 0;const c=ra(),d=de(),B=wa(),C=ie(),A=ge();let _=class vg extends B.Shape{constructor(m){super(m),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",x=>{this._removeImageLoad(x.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const m=this.image();m&&m.complete||m&&m.readyState===4||m&&m.addEventListener&&m.addEventListener("load",this._loadListener)}_removeImageLoad(m){m&&m.removeEventListener&&m.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const m=!!this.cornerRadius(),x=this.hasShadow();return m&&x?!0:super._useBufferCanvas(!0)}_sceneFunc(m){const x=this.getWidth(),y=this.getHeight(),E=this.cornerRadius(),M=this.attrs.image;let T;if(M){const S=this.attrs.cropWidth,v=this.attrs.cropHeight;S&&v?T=[M,this.cropX(),this.cropY(),S,v,0,0,x,y]:T=[M,0,0,x,y]}(this.hasFill()||this.hasStroke()||E)&&(m.beginPath(),E?c.Util.drawRoundedRectPath(m,x,y,E):m.rect(0,0,x,y),m.closePath(),m.fillStrokeShape(this)),M&&(E&&m.clip(),m.drawImage.apply(m,T))}_hitFunc(m){const x=this.width(),y=this.height(),E=this.cornerRadius();m.beginPath(),E?c.Util.drawRoundedRectPath(m,x,y,E):m.rect(0,0,x,y),m.closePath(),m.fillStrokeShape(this)}getWidth(){var m,x;return(m=this.attrs.width)!==null&&m!==void 0?m:(x=this.image())===null||x===void 0?void 0:x.width}getHeight(){var m,x;return(m=this.attrs.height)!==null&&m!==void 0?m:(x=this.image())===null||x===void 0?void 0:x.height}static fromURL(m,x,y=null){const E=c.Util.createImageElement();E.onload=function(){const M=new vg({image:E});x(M)},E.onerror=y,E.crossOrigin="Anonymous",E.src=m}};return g0.Image=_,_.prototype.className="Image",(0,C._registerNode)(_),d.Factory.addGetterSetter(_,"cornerRadius",0,(0,A.getNumberOrArrayOfNumbersValidator)(4)),d.Factory.addGetterSetter(_,"image"),d.Factory.addComponentsGetterSetter(_,"crop",["x","y","width","height"]),d.Factory.addGetterSetter(_,"cropX",0,(0,A.getNumberValidator)()),d.Factory.addGetterSetter(_,"cropY",0,(0,A.getNumberValidator)()),d.Factory.addGetterSetter(_,"cropWidth",0,(0,A.getNumberValidator)()),d.Factory.addGetterSetter(_,"cropHeight",0,(0,A.getNumberValidator)()),g0}var ou={},S2;function _m(){if(S2)return ou;S2=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.Tag=ou.Label=void 0;const c=de(),d=wa(),B=Jh(),C=ge(),A=ie(),_=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],p="Change.konva",m="none",x="up",y="right",E="down",M="left",T=_.length;let S=class extends B.Group{constructor(H){super(H),this.on("add.konva",function(V){this._addListeners(V.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(H){let V=this,N;const h=function(){V._sync()};for(N=0;N<T;N++)H.on(_[N]+p,h)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let H=this.getText(),V=this.getTag(),N,h,U,G,Y,W,D;if(H&&V){switch(N=H.width(),h=H.height(),U=V.pointerDirection(),G=V.pointerWidth(),D=V.pointerHeight(),Y=0,W=0,U){case x:Y=N/2,W=-1*D;break;case y:Y=N+G,W=h/2;break;case E:Y=N/2,W=h+D;break;case M:Y=-1*G,W=h/2;break}V.setAttrs({x:-1*Y,y:-1*W,width:N,height:h}),H.setAttrs({x:-1*Y,y:-1*W})}}};ou.Label=S,S.prototype.className="Label",(0,A._registerNode)(S);class v extends d.Shape{_sceneFunc(H){const V=this.width(),N=this.height(),h=this.pointerDirection(),U=this.pointerWidth(),G=this.pointerHeight(),Y=this.cornerRadius();let W=0,D=0,q=0,w=0;typeof Y=="number"?W=D=q=w=Math.min(Y,V/2,N/2):(W=Math.min(Y[0]||0,V/2,N/2),D=Math.min(Y[1]||0,V/2,N/2),w=Math.min(Y[2]||0,V/2,N/2),q=Math.min(Y[3]||0,V/2,N/2)),H.beginPath(),H.moveTo(W,0),h===x&&(H.lineTo((V-U)/2,0),H.lineTo(V/2,-1*G),H.lineTo((V+U)/2,0)),H.lineTo(V-D,0),H.arc(V-D,D,D,Math.PI*3/2,0,!1),h===y&&(H.lineTo(V,(N-G)/2),H.lineTo(V+U,N/2),H.lineTo(V,(N+G)/2)),H.lineTo(V,N-w),H.arc(V-w,N-w,w,0,Math.PI/2,!1),h===E&&(H.lineTo((V+U)/2,N),H.lineTo(V/2,N+G),H.lineTo((V-U)/2,N)),H.lineTo(q,N),H.arc(q,N-q,q,Math.PI/2,Math.PI,!1),h===M&&(H.lineTo(0,(N+G)/2),H.lineTo(-1*U,N/2),H.lineTo(0,(N-G)/2)),H.lineTo(0,W),H.arc(W,W,W,Math.PI,Math.PI*3/2,!1),H.closePath(),H.fillStrokeShape(this)}getSelfRect(){let H=0,V=0,N=this.pointerWidth(),h=this.pointerHeight(),U=this.pointerDirection(),G=this.width(),Y=this.height();return U===x?(V-=h,Y+=h):U===E?Y+=h:U===M?(H-=N*1.5,G+=N):U===y&&(G+=N*1.5),{x:H,y:V,width:G,height:Y}}}return ou.Tag=v,v.prototype.className="Tag",(0,A._registerNode)(v),c.Factory.addGetterSetter(v,"pointerDirection",m),c.Factory.addGetterSetter(v,"pointerWidth",0,(0,C.getNumberValidator)()),c.Factory.addGetterSetter(v,"pointerHeight",0,(0,C.getNumberValidator)()),c.Factory.addGetterSetter(v,"cornerRadius",0,(0,C.getNumberOrArrayOfNumbersValidator)(4)),ou}var m0={},_2;function pg(){if(_2)return m0;_2=1,Object.defineProperty(m0,"__esModule",{value:!0}),m0.Rect=void 0;const c=de(),d=wa(),B=ie(),C=ra(),A=ge();class _ extends d.Shape{_sceneFunc(m){const x=this.cornerRadius(),y=this.width(),E=this.height();m.beginPath(),x?C.Util.drawRoundedRectPath(m,y,E,x):m.rect(0,0,y,E),m.closePath(),m.fillStrokeShape(this)}}return m0.Rect=_,_.prototype.className="Rect",(0,B._registerNode)(_),c.Factory.addGetterSetter(_,"cornerRadius",0,(0,A.getNumberOrArrayOfNumbersValidator)(4)),m0}var y0={},E2;function Em(){if(E2)return y0;E2=1,Object.defineProperty(y0,"__esModule",{value:!0}),y0.RegularPolygon=void 0;const c=de(),d=wa(),B=ge(),C=ie();let A=class extends d.Shape{_sceneFunc(p){const m=this._getPoints();p.beginPath(),p.moveTo(m[0].x,m[0].y);for(let x=1;x<m.length;x++)p.lineTo(m[x].x,m[x].y);p.closePath(),p.fillStrokeShape(this)}_getPoints(){const p=this.attrs.sides,m=this.attrs.radius||0,x=[];for(let y=0;y<p;y++)x.push({x:m*Math.sin(y*2*Math.PI/p),y:-1*m*Math.cos(y*2*Math.PI/p)});return x}getSelfRect(){const p=this._getPoints();let m=p[0].x,x=p[0].y,y=p[0].x,E=p[0].y;return p.forEach(M=>{m=Math.min(m,M.x),x=Math.max(x,M.x),y=Math.min(y,M.y),E=Math.max(E,M.y)}),{x:m,y,width:x-m,height:E-y}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(p){this.radius(p/2)}setHeight(p){this.radius(p/2)}};return y0.RegularPolygon=A,A.prototype.className="RegularPolygon",A.prototype._centroid=!0,A.prototype._attrsAffectingSize=["radius"],(0,C._registerNode)(A),c.Factory.addGetterSetter(A,"radius",0,(0,B.getNumberValidator)()),c.Factory.addGetterSetter(A,"sides",0,(0,B.getNumberValidator)()),y0}var v0={},N2;function Nm(){if(N2)return v0;N2=1,Object.defineProperty(v0,"__esModule",{value:!0}),v0.Ring=void 0;const c=de(),d=wa(),B=ge(),C=ie(),A=Math.PI*2;let _=class extends d.Shape{_sceneFunc(m){m.beginPath(),m.arc(0,0,this.innerRadius(),0,A,!1),m.moveTo(this.outerRadius(),0),m.arc(0,0,this.outerRadius(),A,0,!0),m.closePath(),m.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(m){this.outerRadius(m/2)}setHeight(m){this.outerRadius(m/2)}};return v0.Ring=_,_.prototype.className="Ring",_.prototype._centroid=!0,_.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,C._registerNode)(_),c.Factory.addGetterSetter(_,"innerRadius",0,(0,B.getNumberValidator)()),c.Factory.addGetterSetter(_,"outerRadius",0,(0,B.getNumberValidator)()),v0}var p0={},C2;function Cm(){if(C2)return p0;C2=1,Object.defineProperty(p0,"__esModule",{value:!0}),p0.Sprite=void 0;const c=de(),d=wa(),B=Ph(),C=ge(),A=ie();let _=class extends d.Shape{constructor(m){super(m),this._updated=!0,this.anim=new B.Animation(()=>{const x=this._updated;return this._updated=!1,x}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(m){const x=this.animation(),y=this.frameIndex(),E=y*4,M=this.animations()[x],T=this.frameOffsets(),S=M[E+0],v=M[E+1],z=M[E+2],H=M[E+3],V=this.image();if((this.hasFill()||this.hasStroke())&&(m.beginPath(),m.rect(0,0,z,H),m.closePath(),m.fillStrokeShape(this)),V)if(T){const N=T[x],h=y*2;m.drawImage(V,S,v,z,H,N[h+0],N[h+1],z,H)}else m.drawImage(V,S,v,z,H,0,0,z,H)}_hitFunc(m){const x=this.animation(),y=this.frameIndex(),E=y*4,M=this.animations()[x],T=this.frameOffsets(),S=M[E+2],v=M[E+3];if(m.beginPath(),T){const z=T[x],H=y*2;m.rect(z[H+0],z[H+1],S,v)}else m.rect(0,0,S,v);m.closePath(),m.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const m=this;this.interval=setInterval(function(){m._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const m=this.getLayer();this.anim.setLayers(m),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const m=this.frameIndex(),x=this.animation(),y=this.animations(),E=y[x],M=E.length/4;m<M-1?this.frameIndex(m+1):this.frameIndex(0)}};return p0.Sprite=_,_.prototype.className="Sprite",(0,A._registerNode)(_),c.Factory.addGetterSetter(_,"animation"),c.Factory.addGetterSetter(_,"animations"),c.Factory.addGetterSetter(_,"frameOffsets"),c.Factory.addGetterSetter(_,"image"),c.Factory.addGetterSetter(_,"frameIndex",0,(0,C.getNumberValidator)()),c.Factory.addGetterSetter(_,"frameRate",17,(0,C.getNumberValidator)()),c.Factory.backCompat(_,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),p0}var b0={},T2;function Tm(){if(T2)return b0;T2=1,Object.defineProperty(b0,"__esModule",{value:!0}),b0.Star=void 0;const c=de(),d=wa(),B=ge(),C=ie();let A=class extends d.Shape{_sceneFunc(p){const m=this.innerRadius(),x=this.outerRadius(),y=this.numPoints();p.beginPath(),p.moveTo(0,0-x);for(let E=1;E<y*2;E++){const M=E%2===0?x:m,T=M*Math.sin(E*Math.PI/y),S=-1*M*Math.cos(E*Math.PI/y);p.lineTo(T,S)}p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(p){this.outerRadius(p/2)}setHeight(p){this.outerRadius(p/2)}};return b0.Star=A,A.prototype.className="Star",A.prototype._centroid=!0,A.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,C._registerNode)(A),c.Factory.addGetterSetter(A,"numPoints",5,(0,B.getNumberValidator)()),c.Factory.addGetterSetter(A,"innerRadius",0,(0,B.getNumberValidator)()),c.Factory.addGetterSetter(A,"outerRadius",0,(0,B.getNumberValidator)()),b0}var No={},A2;function bg(){if(A2)return No;A2=1,Object.defineProperty(No,"__esModule",{value:!0}),No.Text=void 0,No.stringToArray=p;const c=ra(),d=de(),B=wa(),C=ie(),A=ge(),_=ie();function p(nt){return[...nt].reduce((P,ft,pt,it)=>{if(new RegExp("\\p{Emoji}","u").test(ft)){const J=it[pt+1];J&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(J)?(P.push(ft+J),it[pt+1]=""):P.push(ft)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(ft+(it[pt+1]||""))?P.push(ft+it[pt+1]):pt>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(ft)?P[P.length-1]+=ft:ft&&P.push(ft);return P},[])}const m="auto",x="center",y="inherit",E="justify",M="Change.konva",T="2d",S="-",v="left",z="text",H="Text",V="top",N="bottom",h="middle",U="normal",G="px ",Y=" ",W="right",D="rtl",q="word",w="char",Q="none",F="",$=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],st=$.length;function at(nt){return nt.split(",").map(P=>{P=P.trim();const ft=P.indexOf(" ")>=0,pt=P.indexOf('"')>=0||P.indexOf("'")>=0;return ft&&!pt&&(P=`"${P}"`),P}).join(", ")}let tt;function O(){return tt||(tt=c.Util.createCanvasElement().getContext(T),tt)}function L(nt){nt.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Z(nt){nt.setAttr("miterLimit",2),nt.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function R(nt){return nt=nt||{},!nt.fillLinearGradientColorStops&&!nt.fillRadialGradientColorStops&&!nt.fillPatternImage&&(nt.fill=nt.fill||"black"),nt}let X=class extends B.Shape{constructor(P){super(R(P)),this._partialTextX=0,this._partialTextY=0;for(let ft=0;ft<st;ft++)this.on($[ft]+M,this._setTextData);this._setTextData()}_sceneFunc(P){const ft=this.textArr,pt=ft.length;if(!this.text())return;let it=this.padding(),J=this.fontSize(),rt=this.lineHeight()*J,Nt=this.verticalAlign(),At=this.direction(),zt=0,Bt=this.align(),qt=this.getWidth(),Rt=this.letterSpacing(),jt=this.fill(),se=this.textDecoration(),Vt=se.indexOf("underline")!==-1,Ce=se.indexOf("line-through")!==-1,ya;At=At===y?P.direction:At;let Qe=rt/2,va=h;if(C.Konva._fixTextRendering){const Ft=this.measureSize("M");va="alphabetic",Qe=(Ft.fontBoundingBoxAscent-Ft.fontBoundingBoxDescent)/2+rt/2}for(At===D&&P.setAttr("direction",At),P.setAttr("font",this._getContextFont()),P.setAttr("textBaseline",va),P.setAttr("textAlign",v),Nt===h?zt=(this.getHeight()-pt*rt-it*2)/2:Nt===N&&(zt=this.getHeight()-pt*rt-it*2),P.translate(it,zt+it),ya=0;ya<pt;ya++){let Ft=0,ua=0;const Ta=ft[ya],qa=Ta.text,He=Ta.width,me=Ta.lastInParagraph;if(P.save(),Bt===W?Ft+=qt-He-it*2:Bt===x&&(Ft+=(qt-He-it*2)/2),Vt){P.save(),P.beginPath();const De=C.Konva._fixTextRendering?Math.round(J/4):Math.round(J/2),Re=Ft,oa=Qe+ua+De;P.moveTo(Re,oa);const ca=Bt===E&&!me?qt-it*2:He;P.lineTo(Re+Math.round(ca),oa),P.lineWidth=J/15;const Qn=this._getLinearGradient();P.strokeStyle=Qn||jt,P.stroke(),P.restore()}if(Ce){P.save(),P.beginPath();const De=C.Konva._fixTextRendering?-Math.round(J/4):0;P.moveTo(Ft,Qe+ua+De);const Re=Bt===E&&!me?qt-it*2:He;P.lineTo(Ft+Math.round(Re),Qe+ua+De),P.lineWidth=J/15;const oa=this._getLinearGradient();P.strokeStyle=oa||jt,P.stroke(),P.restore()}if(At!==D&&(Rt!==0||Bt===E)){const De=qa.split(" ").length-1,Re=p(qa);for(let oa=0;oa<Re.length;oa++){const ca=Re[oa];ca===" "&&!me&&Bt===E&&(Ft+=(qt-it*2-He)/De),this._partialTextX=Ft,this._partialTextY=Qe+ua,this._partialText=ca,P.fillStrokeShape(this),Ft+=this.measureSize(ca).width+Rt}}else Rt!==0&&P.setAttr("letterSpacing",`${Rt}px`),this._partialTextX=Ft,this._partialTextY=Qe+ua,this._partialText=qa,P.fillStrokeShape(this);P.restore(),pt>1&&(Qe+=rt)}}_hitFunc(P){const ft=this.getWidth(),pt=this.getHeight();P.beginPath(),P.rect(0,0,ft,pt),P.closePath(),P.fillStrokeShape(this)}setText(P){const ft=c.Util._isString(P)?P:P==null?"":P+"";return this._setAttr(z,ft),this}getWidth(){return this.attrs.width===m||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===m||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return c.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(P){var ft,pt,it,J,rt,Nt,At,zt,Bt,qt,Rt;let jt=O(),se=this.fontSize(),Vt;jt.save(),jt.font=this._getContextFont(),Vt=jt.measureText(P),jt.restore();const Ce=se/100;return{actualBoundingBoxAscent:(ft=Vt.actualBoundingBoxAscent)!==null&&ft!==void 0?ft:71.58203125*Ce,actualBoundingBoxDescent:(pt=Vt.actualBoundingBoxDescent)!==null&&pt!==void 0?pt:0,actualBoundingBoxLeft:(it=Vt.actualBoundingBoxLeft)!==null&&it!==void 0?it:-7.421875*Ce,actualBoundingBoxRight:(J=Vt.actualBoundingBoxRight)!==null&&J!==void 0?J:75.732421875*Ce,alphabeticBaseline:(rt=Vt.alphabeticBaseline)!==null&&rt!==void 0?rt:0,emHeightAscent:(Nt=Vt.emHeightAscent)!==null&&Nt!==void 0?Nt:100*Ce,emHeightDescent:(At=Vt.emHeightDescent)!==null&&At!==void 0?At:-20*Ce,fontBoundingBoxAscent:(zt=Vt.fontBoundingBoxAscent)!==null&&zt!==void 0?zt:91*Ce,fontBoundingBoxDescent:(Bt=Vt.fontBoundingBoxDescent)!==null&&Bt!==void 0?Bt:21*Ce,hangingBaseline:(qt=Vt.hangingBaseline)!==null&&qt!==void 0?qt:72.80000305175781*Ce,ideographicBaseline:(Rt=Vt.ideographicBaseline)!==null&&Rt!==void 0?Rt:-21*Ce,width:Vt.width,height:se}}_getContextFont(){return this.fontStyle()+Y+this.fontVariant()+Y+(this.fontSize()+G)+at(this.fontFamily())}_addTextLine(P){this.align()===E&&(P=P.trim());const pt=this._getTextWidth(P);return this.textArr.push({text:P,width:pt,lastInParagraph:!1})}_getTextWidth(P){const ft=this.letterSpacing(),pt=P.length;return O().measureText(P).width+ft*pt}_setTextData(){let P=this.text().split(`
`),ft=+this.fontSize(),pt=0,it=this.lineHeight()*ft,J=this.attrs.width,rt=this.attrs.height,Nt=J!==m&&J!==void 0,At=rt!==m&&rt!==void 0,zt=this.padding(),Bt=J-zt*2,qt=rt-zt*2,Rt=0,jt=this.wrap(),se=jt!==Q,Vt=jt!==w&&se,Ce=this.ellipsis();this.textArr=[],O().font=this._getContextFont();const ya=Ce?this._getTextWidth(F):0;for(let Qe=0,va=P.length;Qe<va;++Qe){let Ft=P[Qe],ua=this._getTextWidth(Ft);if(Nt&&ua>Bt)for(;Ft.length>0;){let Ta=0,qa=p(Ft).length,He="",me=0;for(;Ta<qa;){const De=Ta+qa>>>1,Re=p(Ft),oa=Re.slice(0,De+1).join(""),ca=this._getTextWidth(oa);(Ce&&At&&Rt+it>qt?ca+ya:ca)<=Bt?(Ta=De+1,He=oa,me=ca):qa=De}if(He){if(Vt){const oa=p(Ft),ca=p(He),Qn=oa[ca.length],Zn=Qn===Y||Qn===S;let _n;if(Zn&&me<=Bt)_n=ca.length;else{const La=ca.lastIndexOf(Y),Zl=ca.lastIndexOf(S);_n=Math.max(La,Zl)+1}_n>0&&(Ta=_n,He=oa.slice(0,Ta).join(""),me=this._getTextWidth(He))}if(He=He.trimRight(),this._addTextLine(He),pt=Math.max(pt,me),Rt+=it,this._shouldHandleEllipsis(Rt)){this._tryToAddEllipsisToLastLine();break}if(Ft=p(Ft).slice(Ta).join("").trimLeft(),Ft.length>0&&(ua=this._getTextWidth(Ft),ua<=Bt)){this._addTextLine(Ft),Rt+=it,pt=Math.max(pt,ua);break}}else break}else this._addTextLine(Ft),Rt+=it,pt=Math.max(pt,ua),this._shouldHandleEllipsis(Rt)&&Qe<va-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),At&&Rt+it>qt)break}this.textHeight=ft,this.textWidth=pt}_shouldHandleEllipsis(P){const ft=+this.fontSize(),pt=this.lineHeight()*ft,it=this.attrs.height,J=it!==m&&it!==void 0,rt=this.padding(),Nt=it-rt*2;return!(this.wrap()!==Q)||J&&P+pt>Nt}_tryToAddEllipsisToLastLine(){const P=this.attrs.width,ft=P!==m&&P!==void 0,pt=this.padding(),it=P-pt*2,J=this.ellipsis(),rt=this.textArr[this.textArr.length-1];!rt||!J||(ft&&(this._getTextWidth(rt.text+F)<it||(rt.text=rt.text.slice(0,rt.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(rt.text+F))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const P=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,ft=this.hasShadow();return P&&ft?!0:super._useBufferCanvas()}};return No.Text=X,X.prototype._fillFunc=L,X.prototype._strokeFunc=Z,X.prototype.className=H,X.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,_._registerNode)(X),d.Factory.overWriteSetter(X,"width",(0,A.getNumberOrAutoValidator)()),d.Factory.overWriteSetter(X,"height",(0,A.getNumberOrAutoValidator)()),d.Factory.addGetterSetter(X,"direction",y),d.Factory.addGetterSetter(X,"fontFamily","Arial"),d.Factory.addGetterSetter(X,"fontSize",12,(0,A.getNumberValidator)()),d.Factory.addGetterSetter(X,"fontStyle",U),d.Factory.addGetterSetter(X,"fontVariant",U),d.Factory.addGetterSetter(X,"padding",0,(0,A.getNumberValidator)()),d.Factory.addGetterSetter(X,"align",v),d.Factory.addGetterSetter(X,"verticalAlign",V),d.Factory.addGetterSetter(X,"lineHeight",1,(0,A.getNumberValidator)()),d.Factory.addGetterSetter(X,"wrap",q),d.Factory.addGetterSetter(X,"ellipsis",!1,(0,A.getBooleanValidator)()),d.Factory.addGetterSetter(X,"letterSpacing",0,(0,A.getNumberValidator)()),d.Factory.addGetterSetter(X,"text","",(0,A.getStringValidator)()),d.Factory.addGetterSetter(X,"textDecoration",""),No}var x0={},M2;function Am(){if(M2)return x0;M2=1,Object.defineProperty(x0,"__esModule",{value:!0}),x0.TextPath=void 0;const c=ra(),d=de(),B=wa(),C=Wh(),A=bg(),_=ge(),p=ie(),m="",x="normal";function y(T){T.fillText(this.partialText,0,0)}function E(T){T.strokeText(this.partialText,0,0)}let M=class extends B.Shape{constructor(S){super(S),this.dummyCanvas=c.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return C.Path.getPathLength(this.dataArray)}_getPointAtLength(S){if(!this.attrs.data)return null;const v=this.pathLength;return S-1>v?null:C.Path.getPointAtLengthOfDataArray(S,this.dataArray)}_readDataAttribute(){this.dataArray=C.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(S){S.setAttr("font",this._getContextFont()),S.setAttr("textBaseline",this.textBaseline()),S.setAttr("textAlign","left"),S.save();const v=this.textDecoration(),z=this.fill(),H=this.fontSize(),V=this.glyphInfo;v==="underline"&&S.beginPath();for(let N=0;N<V.length;N++){S.save();const h=V[N].p0;S.translate(h.x,h.y),S.rotate(V[N].rotation),this.partialText=V[N].text,S.fillStrokeShape(this),v==="underline"&&(N===0&&S.moveTo(0,H/2+1),S.lineTo(H,H/2+1)),S.restore()}v==="underline"&&(S.strokeStyle=z,S.lineWidth=H/20,S.stroke()),S.restore()}_hitFunc(S){S.beginPath();const v=this.glyphInfo;if(v.length>=1){const z=v[0].p0;S.moveTo(z.x,z.y)}for(let z=0;z<v.length;z++){const H=v[z].p1;S.lineTo(H.x,H.y)}S.setAttr("lineWidth",this.fontSize()),S.setAttr("strokeStyle",this.colorKey),S.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return c.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(S){return A.Text.prototype.setText.call(this,S)}_getContextFont(){return A.Text.prototype._getContextFont.call(this)}_getTextSize(S){const z=this.dummyCanvas.getContext("2d");z.save(),z.font=this._getContextFont();const H=z.measureText(S);return z.restore(),{width:H.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:S,height:v}=this._getTextSize(this.attrs.text);if(this.textWidth=S,this.textHeight=v,this.glyphInfo=[],!this.attrs.data)return null;const z=this.letterSpacing(),H=this.align(),V=this.kerningFunc(),N=Math.max(this.textWidth+((this.attrs.text||"").length-1)*z,0);let h=0;H==="center"&&(h=Math.max(0,this.pathLength/2-N/2)),H==="right"&&(h=Math.max(0,this.pathLength-N));const U=(0,A.stringToArray)(this.text());let G=h;for(let Y=0;Y<U.length;Y++){const W=this._getPointAtLength(G);if(!W)return;let D=this._getTextSize(U[Y]).width+z;if(U[Y]===" "&&H==="justify"){const st=this.text().split(" ").length-1;D+=(this.pathLength-N)/st}const q=this._getPointAtLength(G+D);if(!q)return;const w=C.Path.getLineLength(W.x,W.y,q.x,q.y);let Q=0;if(V)try{Q=V(U[Y-1],U[Y])*this.fontSize()}catch{Q=0}W.x+=Q,q.x+=Q,this.textWidth+=Q;const F=C.Path.getPointOnLine(Q+w/2,W.x,W.y,q.x,q.y),$=Math.atan2(q.y-W.y,q.x-W.x);this.glyphInfo.push({transposeX:F.x,transposeY:F.y,text:U[Y],rotation:$,p0:W,p1:q}),G+=D}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const S=[];this.glyphInfo.forEach(function(G){S.push(G.p0.x),S.push(G.p0.y),S.push(G.p1.x),S.push(G.p1.y)});let v=S[0]||0,z=S[0]||0,H=S[1]||0,V=S[1]||0,N,h;for(let G=0;G<S.length/2;G++)N=S[G*2],h=S[G*2+1],v=Math.min(v,N),z=Math.max(z,N),H=Math.min(H,h),V=Math.max(V,h);const U=this.fontSize();return{x:v-U/2,y:H-U/2,width:z-v+U,height:V-H+U}}destroy(){return c.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return x0.TextPath=M,M.prototype._fillFunc=y,M.prototype._strokeFunc=E,M.prototype._fillFuncHit=y,M.prototype._strokeFuncHit=E,M.prototype.className="TextPath",M.prototype._attrsAffectingSize=["text","fontSize","data"],(0,p._registerNode)(M),d.Factory.addGetterSetter(M,"data"),d.Factory.addGetterSetter(M,"fontFamily","Arial"),d.Factory.addGetterSetter(M,"fontSize",12,(0,_.getNumberValidator)()),d.Factory.addGetterSetter(M,"fontStyle",x),d.Factory.addGetterSetter(M,"align","left"),d.Factory.addGetterSetter(M,"letterSpacing",0,(0,_.getNumberValidator)()),d.Factory.addGetterSetter(M,"textBaseline","middle"),d.Factory.addGetterSetter(M,"fontVariant",x),d.Factory.addGetterSetter(M,"text",m),d.Factory.addGetterSetter(M,"textDecoration",""),d.Factory.addGetterSetter(M,"kerningFunc",void 0),x0}var S0={},O2;function Mm(){if(O2)return S0;O2=1,Object.defineProperty(S0,"__esModule",{value:!0}),S0.Transformer=void 0;const c=ra(),d=de(),B=ma(),C=wa(),A=pg(),_=Jh(),p=ie(),m=ge(),x=ie(),y="tr-konva",E=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(D=>D+`.${y}`).join(" "),M="nodesRect",T=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],S={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},v="ontouchstart"in p.Konva._global;function z(D,q,w){if(D==="rotater")return w;q+=c.Util.degToRad(S[D]||0);const Q=(c.Util.radToDeg(q)%360+360)%360;return c.Util._inRange(Q,315+22.5,360)||c.Util._inRange(Q,0,22.5)?"ns-resize":c.Util._inRange(Q,45-22.5,45+22.5)?"nesw-resize":c.Util._inRange(Q,90-22.5,90+22.5)?"ew-resize":c.Util._inRange(Q,135-22.5,135+22.5)?"nwse-resize":c.Util._inRange(Q,180-22.5,180+22.5)?"ns-resize":c.Util._inRange(Q,225-22.5,225+22.5)?"nesw-resize":c.Util._inRange(Q,270-22.5,270+22.5)?"ew-resize":c.Util._inRange(Q,315-22.5,315+22.5)?"nwse-resize":(c.Util.error("Transformer has unknown angle for cursor detection: "+Q),"pointer")}const H=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function V(D){return{x:D.x+D.width/2*Math.cos(D.rotation)+D.height/2*Math.sin(-D.rotation),y:D.y+D.height/2*Math.cos(D.rotation)+D.width/2*Math.sin(D.rotation)}}function N(D,q,w){const Q=w.x+(D.x-w.x)*Math.cos(q)-(D.y-w.y)*Math.sin(q),F=w.y+(D.x-w.x)*Math.sin(q)+(D.y-w.y)*Math.cos(q);return{...D,rotation:D.rotation+q,x:Q,y:F}}function h(D,q){const w=V(D);return N(D,q,w)}function U(D,q,w){let Q=q;for(let F=0;F<D.length;F++){const $=p.Konva.getAngle(D[F]),st=Math.abs($-q)%(Math.PI*2);Math.min(st,Math.PI*2-st)<w&&(Q=$)}return Q}let G=0,Y=class extends _.Group{constructor(q){super(q),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(E,this.update),this.getNode()&&this.update()}attachTo(q){return this.setNode(q),this}setNode(q){return c.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([q])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return y+this._id}setNodes(q=[]){this._nodes&&this._nodes.length&&this.detach();const w=q.filter(F=>F.isAncestorOf(this)?(c.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=q=w,q.length===1&&this.useSingleNodeRotation()?this.rotation(q[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(F=>{const $=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(F._attrsAffectingSize.length){const st=F._attrsAffectingSize.map(at=>at+"Change."+this._getEventNamespace()).join(" ");F.on(st,$)}F.on(T.map(st=>st+`.${this._getEventNamespace()}`).join(" "),$),F.on(`absoluteTransformChange.${this._getEventNamespace()}`,$),this._proxyDrag(F)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(q){let w;q.on(`dragstart.${this._getEventNamespace()}`,Q=>{w=q.getAbsolutePosition(),!this.isDragging()&&q!==this.findOne(".back")&&this.startDrag(Q,!1)}),q.on(`dragmove.${this._getEventNamespace()}`,Q=>{if(!w)return;const F=q.getAbsolutePosition(),$=F.x-w.x,st=F.y-w.y;this.nodes().forEach(at=>{if(at===q||at.isDragging())return;const tt=at.getAbsolutePosition();at.setAbsolutePosition({x:tt.x+$,y:tt.y+st}),at.startDrag(Q)}),w=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(q=>{q.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(M),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(M,this.__getNodeRect)}__getNodeShape(q,w=this.rotation(),Q){const F=q.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),$=q.getAbsoluteScale(Q),st=q.getAbsolutePosition(Q),at=F.x*$.x-q.offsetX()*$.x,tt=F.y*$.y-q.offsetY()*$.y,O=(p.Konva.getAngle(q.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),L={x:st.x+at*Math.cos(O)+tt*Math.sin(-O),y:st.y+tt*Math.cos(O)+at*Math.sin(O),width:F.width*$.x,height:F.height*$.y,rotation:O};return N(L,-p.Konva.getAngle(w),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const w=[];this.nodes().map(O=>{const L=O.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),Z=[{x:L.x,y:L.y},{x:L.x+L.width,y:L.y},{x:L.x+L.width,y:L.y+L.height},{x:L.x,y:L.y+L.height}],R=O.getAbsoluteTransform();Z.forEach(function(X){const nt=R.point(X);w.push(nt)})});const Q=new c.Transform;Q.rotate(-p.Konva.getAngle(this.rotation()));let F=1/0,$=1/0,st=-1/0,at=-1/0;w.forEach(function(O){const L=Q.point(O);F===void 0&&(F=st=L.x,$=at=L.y),F=Math.min(F,L.x),$=Math.min($,L.y),st=Math.max(st,L.x),at=Math.max(at,L.y)}),Q.invert();const tt=Q.point({x:F,y:$});return{x:tt.x,y:tt.y,width:st-F,height:at-$,rotation:p.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),H.forEach(q=>{this._createAnchor(q)}),this._createAnchor("rotater")}_createAnchor(q){const w=new A.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:q+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:v?10:"auto"}),Q=this;w.on("mousedown touchstart",function(F){Q._handleMouseDown(F)}),w.on("dragstart",F=>{w.stopDrag(),F.cancelBubble=!0}),w.on("dragend",F=>{F.cancelBubble=!0}),w.on("mouseenter",()=>{const F=p.Konva.getAngle(this.rotation()),$=this.rotateAnchorCursor(),st=z(q,F,$);w.getStage().content&&(w.getStage().content.style.cursor=st),this._cursorChange=!0}),w.on("mouseout",()=>{w.getStage().content&&(w.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(w)}_createBack(){const q=new C.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(w,Q){const F=Q.getParent(),$=F.padding();w.beginPath(),w.rect(-$,-$,Q.width()+$*2,Q.height()+$*2),w.moveTo(Q.width()/2,-$),F.rotateEnabled()&&F.rotateLineVisible()&&w.lineTo(Q.width()/2,-F.rotateAnchorOffset()*c.Util._sign(Q.height())-$),w.fillStrokeShape(Q)},hitFunc:(w,Q)=>{if(!this.shouldOverdrawWholeArea())return;const F=this.padding();w.beginPath(),w.rect(-F,-F,Q.width()+F*2,Q.height()+F*2),w.fillStrokeShape(Q)}});this.add(q),this._proxyDrag(q),q.on("dragstart",w=>{w.cancelBubble=!0}),q.on("dragmove",w=>{w.cancelBubble=!0}),q.on("dragend",w=>{w.cancelBubble=!0}),this.on("dragmove",w=>{this.update()})}_handleMouseDown(q){if(this._transforming)return;this._movingAnchorName=q.target.name().split(" ")[0];const w=this._getNodeRect(),Q=w.width,F=w.height,$=Math.sqrt(Math.pow(Q,2)+Math.pow(F,2));this.sin=Math.abs(F/$),this.cos=Math.abs(Q/$),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const st=q.target.getAbsolutePosition(),at=q.target.getStage().getPointerPosition();this._anchorDragOffset={x:at.x-st.x,y:at.y-st.y},G++,this._fire("transformstart",{evt:q.evt,target:this.getNode()}),this._nodes.forEach(tt=>{tt._fire("transformstart",{evt:q.evt,target:tt})})}_handleMouseMove(q){let w,Q,F;const $=this.findOne("."+this._movingAnchorName),st=$.getStage();st.setPointersPositions(q);const at=st.getPointerPosition();let tt={x:at.x-this._anchorDragOffset.x,y:at.y-this._anchorDragOffset.y};const O=$.getAbsolutePosition();this.anchorDragBoundFunc()&&(tt=this.anchorDragBoundFunc()(O,tt,q)),$.setAbsolutePosition(tt);const L=$.getAbsolutePosition();if(O.x===L.x&&O.y===L.y)return;if(this._movingAnchorName==="rotater"){const it=this._getNodeRect();w=$.x()-it.width/2,Q=-$.y()+it.height/2;let J=Math.atan2(-Q,w)+Math.PI/2;it.height<0&&(J-=Math.PI);const Nt=p.Konva.getAngle(this.rotation())+J,At=p.Konva.getAngle(this.rotationSnapTolerance()),Bt=U(this.rotationSnaps(),Nt,At)-it.rotation,qt=h(it,Bt);this._fitNodesInto(qt,q);return}const Z=this.shiftBehavior();let R;Z==="inverted"?R=this.keepRatio()&&!q.shiftKey:Z==="none"?R=this.keepRatio():R=this.keepRatio()||q.shiftKey;let X=this.centeredScaling()||q.altKey;if(this._movingAnchorName==="top-left"){if(R){const it=X?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};F=Math.sqrt(Math.pow(it.x-$.x(),2)+Math.pow(it.y-$.y(),2));const J=this.findOne(".top-left").x()>it.x?-1:1,rt=this.findOne(".top-left").y()>it.y?-1:1;w=F*this.cos*J,Q=F*this.sin*rt,this.findOne(".top-left").x(it.x-w),this.findOne(".top-left").y(it.y-Q)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y($.y());else if(this._movingAnchorName==="top-right"){if(R){const it=X?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};F=Math.sqrt(Math.pow($.x()-it.x,2)+Math.pow(it.y-$.y(),2));const J=this.findOne(".top-right").x()<it.x?-1:1,rt=this.findOne(".top-right").y()>it.y?-1:1;w=F*this.cos*J,Q=F*this.sin*rt,this.findOne(".top-right").x(it.x+w),this.findOne(".top-right").y(it.y-Q)}var nt=$.position();this.findOne(".top-left").y(nt.y),this.findOne(".bottom-right").x(nt.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x($.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x($.x());else if(this._movingAnchorName==="bottom-left"){if(R){const it=X?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};F=Math.sqrt(Math.pow(it.x-$.x(),2)+Math.pow($.y()-it.y,2));const J=it.x<$.x()?-1:1,rt=$.y()<it.y?-1:1;w=F*this.cos*J,Q=F*this.sin*rt,$.x(it.x-w),$.y(it.y+Q)}nt=$.position(),this.findOne(".top-left").x(nt.x),this.findOne(".bottom-right").y(nt.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y($.y());else if(this._movingAnchorName==="bottom-right"){if(R){const it=X?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};F=Math.sqrt(Math.pow($.x()-it.x,2)+Math.pow($.y()-it.y,2));const J=this.findOne(".bottom-right").x()<it.x?-1:1,rt=this.findOne(".bottom-right").y()<it.y?-1:1;w=F*this.cos*J,Q=F*this.sin*rt,this.findOne(".bottom-right").x(it.x+w),this.findOne(".bottom-right").y(it.y+Q)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(X=this.centeredScaling()||q.altKey,X){const it=this.findOne(".top-left"),J=this.findOne(".bottom-right"),rt=it.x(),Nt=it.y(),At=this.getWidth()-J.x(),zt=this.getHeight()-J.y();J.move({x:-rt,y:-Nt}),it.move({x:At,y:zt})}const P=this.findOne(".top-left").getAbsolutePosition();w=P.x,Q=P.y;const ft=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),pt=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:w,y:Q,width:ft,height:pt,rotation:p.Konva.getAngle(this.rotation())},q)}_handleMouseUp(q){this._removeEvents(q)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(q){var w;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const Q=this.getNode();G--,this._fire("transformend",{evt:q,target:Q}),(w=this.getLayer())===null||w===void 0||w.batchDraw(),Q&&this._nodes.forEach(F=>{var $;F._fire("transformend",{evt:q,target:F}),($=F.getLayer())===null||$===void 0||$.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(q,w){const Q=this._getNodeRect(),F=1;if(c.Util._inRange(q.width,-this.padding()*2-F,F)){this.update();return}if(c.Util._inRange(q.height,-this.padding()*2-F,F)){this.update();return}const $=new c.Transform;if($.rotate(p.Konva.getAngle(this.rotation())),this._movingAnchorName&&q.width<0&&this._movingAnchorName.indexOf("left")>=0){const R=$.point({x:-this.padding()*2,y:0});q.x+=R.x,q.y+=R.y,q.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=R.x,this._anchorDragOffset.y-=R.y}else if(this._movingAnchorName&&q.width<0&&this._movingAnchorName.indexOf("right")>=0){const R=$.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=R.x,this._anchorDragOffset.y-=R.y,q.width+=this.padding()*2}if(this._movingAnchorName&&q.height<0&&this._movingAnchorName.indexOf("top")>=0){const R=$.point({x:0,y:-this.padding()*2});q.x+=R.x,q.y+=R.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=R.x,this._anchorDragOffset.y-=R.y,q.height+=this.padding()*2}else if(this._movingAnchorName&&q.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const R=$.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=R.x,this._anchorDragOffset.y-=R.y,q.height+=this.padding()*2}if(this.boundBoxFunc()){const R=this.boundBoxFunc()(Q,q);R?q=R:c.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const st=1e7,at=new c.Transform;at.translate(Q.x,Q.y),at.rotate(Q.rotation),at.scale(Q.width/st,Q.height/st);const tt=new c.Transform,O=q.width/st,L=q.height/st;this.flipEnabled()===!1?(tt.translate(q.x,q.y),tt.rotate(q.rotation),tt.translate(q.width<0?q.width:0,q.height<0?q.height:0),tt.scale(Math.abs(O),Math.abs(L))):(tt.translate(q.x,q.y),tt.rotate(q.rotation),tt.scale(O,L));const Z=tt.multiply(at.invert());this._nodes.forEach(R=>{var X;const nt=R.getParent().getAbsoluteTransform(),P=R.getTransform().copy();P.translate(R.offsetX(),R.offsetY());const ft=new c.Transform;ft.multiply(nt.copy().invert()).multiply(Z).multiply(nt).multiply(P);const pt=ft.decompose();R.setAttrs(pt),(X=R.getLayer())===null||X===void 0||X.batchDraw()}),this.rotation(c.Util._getRotation(q.rotation)),this._nodes.forEach(R=>{this._fire("transform",{evt:w,target:R}),R._fire("transform",{evt:w,target:R})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(q,w){this.findOne(q).setAttrs(w)}update(){var q;const w=this._getNodeRect();this.rotation(c.Util._getRotation(w.rotation));const Q=w.width,F=w.height,$=this.enabledAnchors(),st=this.resizeEnabled(),at=this.padding(),tt=this.anchorSize(),O=this.find("._anchor");O.forEach(Z=>{Z.setAttrs({width:tt,height:tt,offsetX:tt/2,offsetY:tt/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:tt/2+at,offsetY:tt/2+at,visible:st&&$.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:Q/2,y:0,offsetY:tt/2+at,visible:st&&$.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:Q,y:0,offsetX:tt/2-at,offsetY:tt/2+at,visible:st&&$.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:F/2,offsetX:tt/2+at,visible:st&&$.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:Q,y:F/2,offsetX:tt/2-at,visible:st&&$.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:F,offsetX:tt/2+at,offsetY:tt/2-at,visible:st&&$.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:Q/2,y:F,offsetY:tt/2-at,visible:st&&$.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:Q,y:F,offsetX:tt/2-at,offsetY:tt/2-at,visible:st&&$.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:Q/2,y:-this.rotateAnchorOffset()*c.Util._sign(F)-at,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:Q,height:F,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const L=this.anchorStyleFunc();L&&O.forEach(Z=>{L(Z)}),(q=this.getLayer())===null||q===void 0||q.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const q=this.findOne("."+this._movingAnchorName);q&&q.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),_.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return B.Node.prototype.toObject.call(this)}clone(q){return B.Node.prototype.clone.call(this,q)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};S0.Transformer=Y,Y.isTransforming=()=>G>0;function W(D){return D instanceof Array||c.Util.warn("enabledAnchors value should be an array"),D instanceof Array&&D.forEach(function(q){H.indexOf(q)===-1&&c.Util.warn("Unknown anchor name: "+q+". Available names are: "+H.join(", "))}),D||[]}return Y.prototype.className="Transformer",(0,x._registerNode)(Y),d.Factory.addGetterSetter(Y,"enabledAnchors",H,W),d.Factory.addGetterSetter(Y,"flipEnabled",!0,(0,m.getBooleanValidator)()),d.Factory.addGetterSetter(Y,"resizeEnabled",!0),d.Factory.addGetterSetter(Y,"anchorSize",10,(0,m.getNumberValidator)()),d.Factory.addGetterSetter(Y,"rotateEnabled",!0),d.Factory.addGetterSetter(Y,"rotateLineVisible",!0),d.Factory.addGetterSetter(Y,"rotationSnaps",[]),d.Factory.addGetterSetter(Y,"rotateAnchorOffset",50,(0,m.getNumberValidator)()),d.Factory.addGetterSetter(Y,"rotateAnchorCursor","crosshair"),d.Factory.addGetterSetter(Y,"rotationSnapTolerance",5,(0,m.getNumberValidator)()),d.Factory.addGetterSetter(Y,"borderEnabled",!0),d.Factory.addGetterSetter(Y,"anchorStroke","rgb(0, 161, 255)"),d.Factory.addGetterSetter(Y,"anchorStrokeWidth",1,(0,m.getNumberValidator)()),d.Factory.addGetterSetter(Y,"anchorFill","white"),d.Factory.addGetterSetter(Y,"anchorCornerRadius",0,(0,m.getNumberValidator)()),d.Factory.addGetterSetter(Y,"borderStroke","rgb(0, 161, 255)"),d.Factory.addGetterSetter(Y,"borderStrokeWidth",1,(0,m.getNumberValidator)()),d.Factory.addGetterSetter(Y,"borderDash"),d.Factory.addGetterSetter(Y,"keepRatio",!0),d.Factory.addGetterSetter(Y,"shiftBehavior","default"),d.Factory.addGetterSetter(Y,"centeredScaling",!1),d.Factory.addGetterSetter(Y,"ignoreStroke",!1),d.Factory.addGetterSetter(Y,"padding",0,(0,m.getNumberValidator)()),d.Factory.addGetterSetter(Y,"nodes"),d.Factory.addGetterSetter(Y,"node"),d.Factory.addGetterSetter(Y,"boundBoxFunc"),d.Factory.addGetterSetter(Y,"anchorDragBoundFunc"),d.Factory.addGetterSetter(Y,"anchorStyleFunc"),d.Factory.addGetterSetter(Y,"shouldOverdrawWholeArea",!1),d.Factory.addGetterSetter(Y,"useSingleNodeRotation",!0),d.Factory.backCompat(Y,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),S0}var _0={},z2;function Om(){if(z2)return _0;z2=1,Object.defineProperty(_0,"__esModule",{value:!0}),_0.Wedge=void 0;const c=de(),d=wa(),B=ie(),C=ge(),A=ie();let _=class extends d.Shape{_sceneFunc(m){m.beginPath(),m.arc(0,0,this.radius(),0,B.Konva.getAngle(this.angle()),this.clockwise()),m.lineTo(0,0),m.closePath(),m.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(m){this.radius(m/2)}setHeight(m){this.radius(m/2)}};return _0.Wedge=_,_.prototype.className="Wedge",_.prototype._centroid=!0,_.prototype._attrsAffectingSize=["radius"],(0,A._registerNode)(_),c.Factory.addGetterSetter(_,"radius",0,(0,C.getNumberValidator)()),c.Factory.addGetterSetter(_,"angle",0,(0,C.getNumberValidator)()),c.Factory.addGetterSetter(_,"clockwise",!1),c.Factory.backCompat(_,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),_0}var E0={},D2;function zm(){if(D2)return E0;D2=1,Object.defineProperty(E0,"__esModule",{value:!0}),E0.Blur=void 0;const c=de(),d=ma(),B=ge();function C(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const A=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],_=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function p(x,y){const E=x.data,M=x.width,T=x.height;let S,v,z,H,V,N,h,U,G,Y,W,D,q,w,Q,F,$,st,at,tt;const O=y+y+1,L=M-1,Z=T-1,R=y+1,X=R*(R+1)/2,nt=new C,P=A[y],ft=_[y];let pt=null,it=nt,J=null,rt=null;for(let Nt=1;Nt<O;Nt++)it=it.next=new C,Nt===R&&(pt=it);it.next=nt,z=v=0;for(let Nt=0;Nt<T;Nt++){D=q=w=Q=H=V=N=h=0,U=R*(F=E[v]),G=R*($=E[v+1]),Y=R*(st=E[v+2]),W=R*(at=E[v+3]),H+=X*F,V+=X*$,N+=X*st,h+=X*at,it=nt;for(let At=0;At<R;At++)it.r=F,it.g=$,it.b=st,it.a=at,it=it.next;for(let At=1;At<R;At++)S=v+((L<At?L:At)<<2),H+=(it.r=F=E[S])*(tt=R-At),V+=(it.g=$=E[S+1])*tt,N+=(it.b=st=E[S+2])*tt,h+=(it.a=at=E[S+3])*tt,D+=F,q+=$,w+=st,Q+=at,it=it.next;J=nt,rt=pt;for(let At=0;At<M;At++)E[v+3]=at=h*P>>ft,at!==0?(at=255/at,E[v]=(H*P>>ft)*at,E[v+1]=(V*P>>ft)*at,E[v+2]=(N*P>>ft)*at):E[v]=E[v+1]=E[v+2]=0,H-=U,V-=G,N-=Y,h-=W,U-=J.r,G-=J.g,Y-=J.b,W-=J.a,S=z+((S=At+y+1)<L?S:L)<<2,D+=J.r=E[S],q+=J.g=E[S+1],w+=J.b=E[S+2],Q+=J.a=E[S+3],H+=D,V+=q,N+=w,h+=Q,J=J.next,U+=F=rt.r,G+=$=rt.g,Y+=st=rt.b,W+=at=rt.a,D-=F,q-=$,w-=st,Q-=at,rt=rt.next,v+=4;z+=M}for(let Nt=0;Nt<M;Nt++){q=w=Q=D=V=N=h=H=0,v=Nt<<2,U=R*(F=E[v]),G=R*($=E[v+1]),Y=R*(st=E[v+2]),W=R*(at=E[v+3]),H+=X*F,V+=X*$,N+=X*st,h+=X*at,it=nt;for(let zt=0;zt<R;zt++)it.r=F,it.g=$,it.b=st,it.a=at,it=it.next;let At=M;for(let zt=1;zt<=y;zt++)v=At+Nt<<2,H+=(it.r=F=E[v])*(tt=R-zt),V+=(it.g=$=E[v+1])*tt,N+=(it.b=st=E[v+2])*tt,h+=(it.a=at=E[v+3])*tt,D+=F,q+=$,w+=st,Q+=at,it=it.next,zt<Z&&(At+=M);v=Nt,J=nt,rt=pt;for(let zt=0;zt<T;zt++)S=v<<2,E[S+3]=at=h*P>>ft,at>0?(at=255/at,E[S]=(H*P>>ft)*at,E[S+1]=(V*P>>ft)*at,E[S+2]=(N*P>>ft)*at):E[S]=E[S+1]=E[S+2]=0,H-=U,V-=G,N-=Y,h-=W,U-=J.r,G-=J.g,Y-=J.b,W-=J.a,S=Nt+((S=zt+R)<Z?S:Z)*M<<2,H+=D+=J.r=E[S],V+=q+=J.g=E[S+1],N+=w+=J.b=E[S+2],h+=Q+=J.a=E[S+3],J=J.next,U+=F=rt.r,G+=$=rt.g,Y+=st=rt.b,W+=at=rt.a,D-=F,q-=$,w-=st,Q-=at,rt=rt.next,v+=M}}const m=function(y){const E=Math.round(this.blurRadius());E>0&&p(y,E)};return E0.Blur=m,c.Factory.addGetterSetter(d.Node,"blurRadius",0,(0,B.getNumberValidator)(),c.Factory.afterSetFilter),E0}var N0={},R2;function Dm(){if(R2)return N0;R2=1,Object.defineProperty(N0,"__esModule",{value:!0}),N0.Brighten=void 0;const c=de(),d=ma(),B=ge(),C=function(A){const _=this.brightness()*255,p=A.data,m=p.length;for(let x=0;x<m;x+=4)p[x]+=_,p[x+1]+=_,p[x+2]+=_};return N0.Brighten=C,c.Factory.addGetterSetter(d.Node,"brightness",0,(0,B.getNumberValidator)(),c.Factory.afterSetFilter),N0}var C0={},j2;function Rm(){if(j2)return C0;j2=1,Object.defineProperty(C0,"__esModule",{value:!0}),C0.Contrast=void 0;const c=de(),d=ma(),B=ge(),C=function(A){const _=Math.pow((this.contrast()+100)/100,2),p=A.data,m=p.length;let x=150,y=150,E=150;for(let M=0;M<m;M+=4)x=p[M],y=p[M+1],E=p[M+2],x/=255,x-=.5,x*=_,x+=.5,x*=255,y/=255,y-=.5,y*=_,y+=.5,y*=255,E/=255,E-=.5,E*=_,E+=.5,E*=255,x=x<0?0:x>255?255:x,y=y<0?0:y>255?255:y,E=E<0?0:E>255?255:E,p[M]=x,p[M+1]=y,p[M+2]=E};return C0.Contrast=C,c.Factory.addGetterSetter(d.Node,"contrast",0,(0,B.getNumberValidator)(),c.Factory.afterSetFilter),C0}var T0={},U2;function jm(){if(U2)return T0;U2=1,Object.defineProperty(T0,"__esModule",{value:!0}),T0.Emboss=void 0;const c=de(),d=ma(),B=ra(),C=ge(),A=function(_){const p=this.embossStrength()*10,m=this.embossWhiteLevel()*255,x=this.embossDirection(),y=this.embossBlend(),E=_.data,M=_.width,T=_.height,S=M*4;let v=0,z=0,H=T;switch(x){case"top-left":v=-1,z=-1;break;case"top":v=-1,z=0;break;case"top-right":v=-1,z=1;break;case"right":v=0,z=1;break;case"bottom-right":v=1,z=1;break;case"bottom":v=1,z=0;break;case"bottom-left":v=1,z=-1;break;case"left":v=0,z=-1;break;default:B.Util.error("Unknown emboss direction: "+x)}do{const V=(H-1)*S;let N=v;H+N<1&&(N=0),H+N>T&&(N=0);const h=(H-1+N)*M*4;let U=M;do{const G=V+(U-1)*4;let Y=z;U+Y<1&&(Y=0),U+Y>M&&(Y=0);const W=h+(U-1+Y)*4,D=E[G]-E[W],q=E[G+1]-E[W+1],w=E[G+2]-E[W+2];let Q=D;const F=Q>0?Q:-Q,$=q>0?q:-q,st=w>0?w:-w;if($>F&&(Q=q),st>F&&(Q=w),Q*=p,y){const at=E[G]+Q,tt=E[G+1]+Q,O=E[G+2]+Q;E[G]=at>255?255:at<0?0:at,E[G+1]=tt>255?255:tt<0?0:tt,E[G+2]=O>255?255:O<0?0:O}else{let at=m-Q;at<0?at=0:at>255&&(at=255),E[G]=E[G+1]=E[G+2]=at}}while(--U)}while(--H)};return T0.Emboss=A,c.Factory.addGetterSetter(d.Node,"embossStrength",.5,(0,C.getNumberValidator)(),c.Factory.afterSetFilter),c.Factory.addGetterSetter(d.Node,"embossWhiteLevel",.5,(0,C.getNumberValidator)(),c.Factory.afterSetFilter),c.Factory.addGetterSetter(d.Node,"embossDirection","top-left",void 0,c.Factory.afterSetFilter),c.Factory.addGetterSetter(d.Node,"embossBlend",!1,void 0,c.Factory.afterSetFilter),T0}var A0={},G2;function Um(){if(G2)return A0;G2=1,Object.defineProperty(A0,"__esModule",{value:!0}),A0.Enhance=void 0;const c=de(),d=ma(),B=ge();function C(_,p,m,x,y){const E=m-p,M=y-x;if(E===0)return x+M/2;if(M===0)return x;let T=(_-p)/E;return T=M*T+x,T}const A=function(_){const p=_.data,m=p.length;let x=p[0],y=x,E,M=p[1],T=M,S,v=p[2],z=v,H;const V=this.enhance();if(V===0)return;for(let D=0;D<m;D+=4)E=p[D+0],E<x?x=E:E>y&&(y=E),S=p[D+1],S<M?M=S:S>T&&(T=S),H=p[D+2],H<v?v=H:H>z&&(z=H);y===x&&(y=255,x=0),T===M&&(T=255,M=0),z===v&&(z=255,v=0);let N,h,U,G,Y,W;if(V>0)N=y+V*(255-y),h=x-V*(x-0),U=T+V*(255-T),G=M-V*(M-0),Y=z+V*(255-z),W=v-V*(v-0);else{const D=(y+x)*.5;N=y+V*(y-D),h=x+V*(x-D);const q=(T+M)*.5;U=T+V*(T-q),G=M+V*(M-q);const w=(z+v)*.5;Y=z+V*(z-w),W=v+V*(v-w)}for(let D=0;D<m;D+=4)p[D+0]=C(p[D+0],x,y,h,N),p[D+1]=C(p[D+1],M,T,G,U),p[D+2]=C(p[D+2],v,z,W,Y)};return A0.Enhance=A,c.Factory.addGetterSetter(d.Node,"enhance",0,(0,B.getNumberValidator)(),c.Factory.afterSetFilter),A0}var M0={},H2;function Gm(){if(H2)return M0;H2=1,Object.defineProperty(M0,"__esModule",{value:!0}),M0.Grayscale=void 0;const c=function(d){const B=d.data,C=B.length;for(let A=0;A<C;A+=4){const _=.34*B[A]+.5*B[A+1]+.16*B[A+2];B[A]=_,B[A+1]=_,B[A+2]=_}};return M0.Grayscale=c,M0}var O0={},B2;function Hm(){if(B2)return O0;B2=1,Object.defineProperty(O0,"__esModule",{value:!0}),O0.HSL=void 0;const c=de(),d=ma(),B=ge();c.Factory.addGetterSetter(d.Node,"hue",0,(0,B.getNumberValidator)(),c.Factory.afterSetFilter),c.Factory.addGetterSetter(d.Node,"saturation",0,(0,B.getNumberValidator)(),c.Factory.afterSetFilter),c.Factory.addGetterSetter(d.Node,"luminance",0,(0,B.getNumberValidator)(),c.Factory.afterSetFilter);const C=function(A){const _=A.data,p=_.length,m=1,x=Math.pow(2,this.saturation()),y=Math.abs(this.hue()+360)%360,E=this.luminance()*127,M=m*x*Math.cos(y*Math.PI/180),T=m*x*Math.sin(y*Math.PI/180),S=.299*m+.701*M+.167*T,v=.587*m-.587*M+.33*T,z=.114*m-.114*M-.497*T,H=.299*m-.299*M-.328*T,V=.587*m+.413*M+.035*T,N=.114*m-.114*M+.293*T,h=.299*m-.3*M+1.25*T,U=.587*m-.586*M-1.05*T,G=.114*m+.886*M-.2*T;let Y,W,D,q;for(let w=0;w<p;w+=4)Y=_[w+0],W=_[w+1],D=_[w+2],q=_[w+3],_[w+0]=S*Y+v*W+z*D+E,_[w+1]=H*Y+V*W+N*D+E,_[w+2]=h*Y+U*W+G*D+E,_[w+3]=q};return O0.HSL=C,O0}var z0={},w2;function Bm(){if(w2)return z0;w2=1,Object.defineProperty(z0,"__esModule",{value:!0}),z0.HSV=void 0;const c=de(),d=ma(),B=ge(),C=function(A){const _=A.data,p=_.length,m=Math.pow(2,this.value()),x=Math.pow(2,this.saturation()),y=Math.abs(this.hue()+360)%360,E=m*x*Math.cos(y*Math.PI/180),M=m*x*Math.sin(y*Math.PI/180),T=.299*m+.701*E+.167*M,S=.587*m-.587*E+.33*M,v=.114*m-.114*E-.497*M,z=.299*m-.299*E-.328*M,H=.587*m+.413*E+.035*M,V=.114*m-.114*E+.293*M,N=.299*m-.3*E+1.25*M,h=.587*m-.586*E-1.05*M,U=.114*m+.886*E-.2*M;for(let G=0;G<p;G+=4){const Y=_[G+0],W=_[G+1],D=_[G+2],q=_[G+3];_[G+0]=T*Y+S*W+v*D,_[G+1]=z*Y+H*W+V*D,_[G+2]=N*Y+h*W+U*D,_[G+3]=q}};return z0.HSV=C,c.Factory.addGetterSetter(d.Node,"hue",0,(0,B.getNumberValidator)(),c.Factory.afterSetFilter),c.Factory.addGetterSetter(d.Node,"saturation",0,(0,B.getNumberValidator)(),c.Factory.afterSetFilter),c.Factory.addGetterSetter(d.Node,"value",0,(0,B.getNumberValidator)(),c.Factory.afterSetFilter),z0}var D0={},q2;function wm(){if(q2)return D0;q2=1,Object.defineProperty(D0,"__esModule",{value:!0}),D0.Invert=void 0;const c=function(d){const B=d.data,C=B.length;for(let A=0;A<C;A+=4)B[A]=255-B[A],B[A+1]=255-B[A+1],B[A+2]=255-B[A+2]};return D0.Invert=c,D0}var R0={},L2;function qm(){if(L2)return R0;L2=1,Object.defineProperty(R0,"__esModule",{value:!0}),R0.Kaleidoscope=void 0;const c=de(),d=ma(),B=ra(),C=ge(),A=function(m,x,y){const E=m.data,M=x.data,T=m.width,S=m.height,v=y.polarCenterX||T/2,z=y.polarCenterY||S/2;let H=Math.sqrt(v*v+z*z),V=T-v,N=S-z;const h=Math.sqrt(V*V+N*N);H=h>H?h:H;const U=S,G=T,Y=360/G*Math.PI/180;for(let W=0;W<G;W+=1){const D=Math.sin(W*Y),q=Math.cos(W*Y);for(let w=0;w<U;w+=1){V=Math.floor(v+H*w/U*q),N=Math.floor(z+H*w/U*D);let Q=(N*T+V)*4;const F=E[Q+0],$=E[Q+1],st=E[Q+2],at=E[Q+3];Q=(W+w*T)*4,M[Q+0]=F,M[Q+1]=$,M[Q+2]=st,M[Q+3]=at}}},_=function(m,x,y){const E=m.data,M=x.data,T=m.width,S=m.height,v=y.polarCenterX||T/2,z=y.polarCenterY||S/2;let H=Math.sqrt(v*v+z*z),V=T-v,N=S-z;const h=Math.sqrt(V*V+N*N);H=h>H?h:H;const U=S,G=T,Y=0;let W,D;for(V=0;V<T;V+=1)for(N=0;N<S;N+=1){const q=V-v,w=N-z,Q=Math.sqrt(q*q+w*w)*U/H;let F=(Math.atan2(w,q)*180/Math.PI+360+Y)%360;F=F*G/360,W=Math.floor(F),D=Math.floor(Q);let $=(D*T+W)*4;const st=E[$+0],at=E[$+1],tt=E[$+2],O=E[$+3];$=(N*T+V)*4,M[$+0]=st,M[$+1]=at,M[$+2]=tt,M[$+3]=O}},p=function(m){const x=m.width,y=m.height;let E,M,T,S,v,z,H,V,N,h,U=Math.round(this.kaleidoscopePower());const G=Math.round(this.kaleidoscopeAngle()),Y=Math.floor(x*(G%360)/360);if(U<1)return;const W=B.Util.createCanvasElement();W.width=x,W.height=y;const D=W.getContext("2d").getImageData(0,0,x,y);B.Util.releaseCanvas(W),A(m,D,{polarCenterX:x/2,polarCenterY:y/2});let q=x/Math.pow(2,U);for(;q<=8;)q=q*2,U-=1;q=Math.ceil(q);let w=q,Q=0,F=w,$=1;for(Y+q>x&&(Q=w,F=0,$=-1),M=0;M<y;M+=1)for(E=Q;E!==F;E+=$)T=Math.round(E+Y)%x,N=(x*M+T)*4,v=D.data[N+0],z=D.data[N+1],H=D.data[N+2],V=D.data[N+3],h=(x*M+E)*4,D.data[h+0]=v,D.data[h+1]=z,D.data[h+2]=H,D.data[h+3]=V;for(M=0;M<y;M+=1)for(w=Math.floor(q),S=0;S<U;S+=1){for(E=0;E<w+1;E+=1)N=(x*M+E)*4,v=D.data[N+0],z=D.data[N+1],H=D.data[N+2],V=D.data[N+3],h=(x*M+w*2-E-1)*4,D.data[h+0]=v,D.data[h+1]=z,D.data[h+2]=H,D.data[h+3]=V;w*=2}_(D,m,{})};return R0.Kaleidoscope=p,c.Factory.addGetterSetter(d.Node,"kaleidoscopePower",2,(0,C.getNumberValidator)(),c.Factory.afterSetFilter),c.Factory.addGetterSetter(d.Node,"kaleidoscopeAngle",0,(0,C.getNumberValidator)(),c.Factory.afterSetFilter),R0}var j0={},V2;function Lm(){if(V2)return j0;V2=1,Object.defineProperty(j0,"__esModule",{value:!0}),j0.Mask=void 0;const c=de(),d=ma(),B=ge();function C(T,S,v){let z=(v*T.width+S)*4;const H=[];return H.push(T.data[z++],T.data[z++],T.data[z++],T.data[z++]),H}function A(T,S){return Math.sqrt(Math.pow(T[0]-S[0],2)+Math.pow(T[1]-S[1],2)+Math.pow(T[2]-S[2],2))}function _(T){const S=[0,0,0];for(let v=0;v<T.length;v++)S[0]+=T[v][0],S[1]+=T[v][1],S[2]+=T[v][2];return S[0]/=T.length,S[1]/=T.length,S[2]/=T.length,S}function p(T,S){const v=C(T,0,0),z=C(T,T.width-1,0),H=C(T,0,T.height-1),V=C(T,T.width-1,T.height-1),N=S||10;if(A(v,z)<N&&A(z,V)<N&&A(V,H)<N&&A(H,v)<N){const h=_([z,v,V,H]),U=[];for(let G=0;G<T.width*T.height;G++){const Y=A(h,[T.data[G*4],T.data[G*4+1],T.data[G*4+2]]);U[G]=Y<N?0:255}return U}}function m(T,S){for(let v=0;v<T.width*T.height;v++)T.data[4*v+3]=S[v]}function x(T,S,v){const z=[1,1,1,1,0,1,1,1,1],H=Math.round(Math.sqrt(z.length)),V=Math.floor(H/2),N=[];for(let h=0;h<v;h++)for(let U=0;U<S;U++){const G=h*S+U;let Y=0;for(let W=0;W<H;W++)for(let D=0;D<H;D++){const q=h+W-V,w=U+D-V;if(q>=0&&q<v&&w>=0&&w<S){const Q=q*S+w,F=z[W*H+D];Y+=T[Q]*F}}N[G]=Y===2040?255:0}return N}function y(T,S,v){const z=[1,1,1,1,1,1,1,1,1],H=Math.round(Math.sqrt(z.length)),V=Math.floor(H/2),N=[];for(let h=0;h<v;h++)for(let U=0;U<S;U++){const G=h*S+U;let Y=0;for(let W=0;W<H;W++)for(let D=0;D<H;D++){const q=h+W-V,w=U+D-V;if(q>=0&&q<v&&w>=0&&w<S){const Q=q*S+w,F=z[W*H+D];Y+=T[Q]*F}}N[G]=Y>=1020?255:0}return N}function E(T,S,v){const z=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],H=Math.round(Math.sqrt(z.length)),V=Math.floor(H/2),N=[];for(let h=0;h<v;h++)for(let U=0;U<S;U++){const G=h*S+U;let Y=0;for(let W=0;W<H;W++)for(let D=0;D<H;D++){const q=h+W-V,w=U+D-V;if(q>=0&&q<v&&w>=0&&w<S){const Q=q*S+w,F=z[W*H+D];Y+=T[Q]*F}}N[G]=Y}return N}const M=function(T){const S=this.threshold();let v=p(T,S);return v&&(v=x(v,T.width,T.height),v=y(v,T.width,T.height),v=E(v,T.width,T.height),m(T,v)),T};return j0.Mask=M,c.Factory.addGetterSetter(d.Node,"threshold",0,(0,B.getNumberValidator)(),c.Factory.afterSetFilter),j0}var U0={},Y2;function Vm(){if(Y2)return U0;Y2=1,Object.defineProperty(U0,"__esModule",{value:!0}),U0.Noise=void 0;const c=de(),d=ma(),B=ge(),C=function(A){const _=this.noise()*255,p=A.data,m=p.length,x=_/2;for(let y=0;y<m;y+=4)p[y+0]+=x-2*x*Math.random(),p[y+1]+=x-2*x*Math.random(),p[y+2]+=x-2*x*Math.random()};return U0.Noise=C,c.Factory.addGetterSetter(d.Node,"noise",.2,(0,B.getNumberValidator)(),c.Factory.afterSetFilter),U0}var G0={},k2;function Ym(){if(k2)return G0;k2=1,Object.defineProperty(G0,"__esModule",{value:!0}),G0.Pixelate=void 0;const c=de(),d=ra(),B=ma(),C=ge(),A=function(_){let p=Math.ceil(this.pixelSize()),m=_.width,x=_.height,y=Math.ceil(m/p),E=Math.ceil(x/p),M=_.data;if(p<=0){d.Util.error("pixelSize value can not be <= 0");return}for(let T=0;T<y;T+=1)for(let S=0;S<E;S+=1){let v=0,z=0,H=0,V=0;const N=T*p,h=N+p,U=S*p,G=U+p;let Y=0;for(let W=N;W<h;W+=1)if(!(W>=m))for(let D=U;D<G;D+=1){if(D>=x)continue;const q=(m*D+W)*4;v+=M[q+0],z+=M[q+1],H+=M[q+2],V+=M[q+3],Y+=1}v=v/Y,z=z/Y,H=H/Y,V=V/Y;for(let W=N;W<h;W+=1)if(!(W>=m))for(let D=U;D<G;D+=1){if(D>=x)continue;const q=(m*D+W)*4;M[q+0]=v,M[q+1]=z,M[q+2]=H,M[q+3]=V}}};return G0.Pixelate=A,c.Factory.addGetterSetter(B.Node,"pixelSize",8,(0,C.getNumberValidator)(),c.Factory.afterSetFilter),G0}var H0={},X2;function km(){if(X2)return H0;X2=1,Object.defineProperty(H0,"__esModule",{value:!0}),H0.Posterize=void 0;const c=de(),d=ma(),B=ge(),C=function(A){const _=Math.round(this.levels()*254)+1,p=A.data,m=p.length,x=255/_;for(let y=0;y<m;y+=1)p[y]=Math.floor(p[y]/x)*x};return H0.Posterize=C,c.Factory.addGetterSetter(d.Node,"levels",.5,(0,B.getNumberValidator)(),c.Factory.afterSetFilter),H0}var B0={},K2;function Xm(){if(K2)return B0;K2=1,Object.defineProperty(B0,"__esModule",{value:!0}),B0.RGB=void 0;const c=de(),d=ma(),B=ge(),C=function(A){const _=A.data,p=_.length,m=this.red(),x=this.green(),y=this.blue();for(let E=0;E<p;E+=4){const M=(.34*_[E]+.5*_[E+1]+.16*_[E+2])/255;_[E]=M*m,_[E+1]=M*x,_[E+2]=M*y,_[E+3]=_[E+3]}};return B0.RGB=C,c.Factory.addGetterSetter(d.Node,"red",0,function(A){return this._filterUpToDate=!1,A>255?255:A<0?0:Math.round(A)}),c.Factory.addGetterSetter(d.Node,"green",0,function(A){return this._filterUpToDate=!1,A>255?255:A<0?0:Math.round(A)}),c.Factory.addGetterSetter(d.Node,"blue",0,B.RGBComponent,c.Factory.afterSetFilter),B0}var w0={},Q2;function Km(){if(Q2)return w0;Q2=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.RGBA=void 0;const c=de(),d=ma(),B=ge(),C=function(A){const _=A.data,p=_.length,m=this.red(),x=this.green(),y=this.blue(),E=this.alpha();for(let M=0;M<p;M+=4){const T=1-E;_[M]=m*E+_[M]*T,_[M+1]=x*E+_[M+1]*T,_[M+2]=y*E+_[M+2]*T}};return w0.RGBA=C,c.Factory.addGetterSetter(d.Node,"red",0,function(A){return this._filterUpToDate=!1,A>255?255:A<0?0:Math.round(A)}),c.Factory.addGetterSetter(d.Node,"green",0,function(A){return this._filterUpToDate=!1,A>255?255:A<0?0:Math.round(A)}),c.Factory.addGetterSetter(d.Node,"blue",0,B.RGBComponent,c.Factory.afterSetFilter),c.Factory.addGetterSetter(d.Node,"alpha",1,function(A){return this._filterUpToDate=!1,A>1?1:A<0?0:A}),w0}var q0={},Z2;function Qm(){if(Z2)return q0;Z2=1,Object.defineProperty(q0,"__esModule",{value:!0}),q0.Sepia=void 0;const c=function(d){const B=d.data,C=B.length;for(let A=0;A<C;A+=4){const _=B[A+0],p=B[A+1],m=B[A+2];B[A+0]=Math.min(255,_*.393+p*.769+m*.189),B[A+1]=Math.min(255,_*.349+p*.686+m*.168),B[A+2]=Math.min(255,_*.272+p*.534+m*.131)}};return q0.Sepia=c,q0}var L0={},F2;function Zm(){if(F2)return L0;F2=1,Object.defineProperty(L0,"__esModule",{value:!0}),L0.Solarize=void 0;const c=function(d){const B=d.data,C=d.width,A=d.height,_=C*4;let p=A;do{const m=(p-1)*_;let x=C;do{const y=m+(x-1)*4;let E=B[y],M=B[y+1],T=B[y+2];E>127&&(E=255-E),M>127&&(M=255-M),T>127&&(T=255-T),B[y]=E,B[y+1]=M,B[y+2]=T}while(--x)}while(--p)};return L0.Solarize=c,L0}var V0={},J2;function Fm(){if(J2)return V0;J2=1,Object.defineProperty(V0,"__esModule",{value:!0}),V0.Threshold=void 0;const c=de(),d=ma(),B=ge(),C=function(A){const _=this.threshold()*255,p=A.data,m=p.length;for(let x=0;x<m;x+=1)p[x]=p[x]<_?0:255};return V0.Threshold=C,c.Factory.addGetterSetter(d.Node,"threshold",.5,(0,B.getNumberValidator)(),c.Factory.afterSetFilter),V0}var P2;function Jm(){if(P2)return e0;P2=1,Object.defineProperty(e0,"__esModule",{value:!0}),e0.Konva=void 0;const c=Yh(),d=ym(),B=pm(),C=bm(),A=xm(),_=Sm(),p=_m(),m=yg(),x=Wh(),y=pg(),E=Em(),M=Nm(),T=Cm(),S=Tm(),v=bg(),z=Am(),H=Mm(),V=Om(),N=zm(),h=Dm(),U=Rm(),G=jm(),Y=Um(),W=Gm(),D=Hm(),q=Bm(),w=wm(),Q=qm(),F=Lm(),$=Vm(),st=Ym(),at=km(),tt=Xm(),O=Km(),L=Qm(),Z=Zm(),R=Fm();return e0.Konva=c.Konva.Util._assign(c.Konva,{Arc:d.Arc,Arrow:B.Arrow,Circle:C.Circle,Ellipse:A.Ellipse,Image:_.Image,Label:p.Label,Tag:p.Tag,Line:m.Line,Path:x.Path,Rect:y.Rect,RegularPolygon:E.RegularPolygon,Ring:M.Ring,Sprite:T.Sprite,Star:S.Star,Text:v.Text,TextPath:z.TextPath,Transformer:H.Transformer,Wedge:V.Wedge,Filters:{Blur:N.Blur,Brighten:h.Brighten,Contrast:U.Contrast,Emboss:G.Emboss,Enhance:Y.Enhance,Grayscale:W.Grayscale,HSL:D.HSL,HSV:q.HSV,Invert:w.Invert,Kaleidoscope:Q.Kaleidoscope,Mask:F.Mask,Noise:$.Noise,Pixelate:st.Pixelate,Posterize:at.Posterize,RGB:tt.RGB,RGBA:O.RGBA,Sepia:L.Sepia,Solarize:Z.Solarize,Threshold:R.Threshold}}),e0}var Pm=Ed.exports,W2;function Wm(){if(W2)return Ed.exports;W2=1,Object.defineProperty(Pm,"__esModule",{value:!0});const c=Jm();return Ed.exports=c.Konva,Ed.exports}Wm();var _d={exports:{}},I2;function Im(){return I2||(I2=1,(function(c,d){Object.defineProperty(d,"__esModule",{value:!0}),d.Konva=void 0;var B=Yh();Object.defineProperty(d,"Konva",{enumerable:!0,get:function(){return B.Konva}});const C=Yh();c.exports=C.Konva})(_d,_d.exports)),_d.exports}var $m=Im();const Ad=kh($m);var Gh={exports:{}},Hh={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2;function t4(){return $2||($2=1,(function(c){c.exports=function(d){function B(a,n,s,u){return new Ld(a,n,s,u)}function C(){}function A(a){var n="https://react.dev/errors/"+a;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+a+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _(a){var n=a,s=a;if(a.alternate)for(;n.return;)n=n.return;else{a=n;do n=a,(n.flags&4098)!==0&&(s=n.return),a=n.return;while(a)}return n.tag===3?s:null}function p(a){if(_(a)!==a)throw Error(A(188))}function m(a){var n=a.alternate;if(!n){if(n=_(a),n===null)throw Error(A(188));return n!==a?null:a}for(var s=a,u=n;;){var f=s.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){s=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===s)return p(f),a;if(g===u)return p(f),n;g=g.sibling}throw Error(A(188))}if(s.return!==u.return)s=f,u=g;else{for(var K=!1,et=f.child;et;){if(et===s){K=!0,s=f,u=g;break}if(et===u){K=!0,u=f,s=g;break}et=et.sibling}if(!K){for(et=g.child;et;){if(et===s){K=!0,s=g,u=f;break}if(et===u){K=!0,u=g,s=f;break}et=et.sibling}if(!K)throw Error(A(189))}}if(s.alternate!==u)throw Error(A(190))}if(s.tag!==3)throw Error(A(188));return s.stateNode.current===s?a:n}function x(a){var n=a.tag;if(n===5||n===26||n===27||n===6)return a;for(a=a.child;a!==null;){if(n=x(a),n!==null)return n;a=a.sibling}return null}function y(a){var n=a.tag;if(n===5||n===26||n===27||n===6)return a;for(a=a.child;a!==null;){if(a.tag!==4&&(n=y(a),n!==null))return n;a=a.sibling}return null}function E(a){return a===null||typeof a!="object"?null:(a=Wu&&a[Wu]||a["@@iterator"],typeof a=="function"?a:null)}function M(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===wr?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case es:return"Fragment";case Pu:return"Profiler";case Ur:return"StrictMode";case Hr:return"Suspense";case Br:return"SuspenseList";case as:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case fi:return"Portal";case Ul:return(a.displayName||"Context")+".Provider";case cc:return(a._context.displayName||"Context")+".Consumer";case rl:var n=a.render;return a=a.displayName,a||(a=n.displayName||n.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ul:return n=a.displayName||null,n!==null?n:M(a.type)||"Memo";case Xa:n=a._payload,a=a._init;try{return M(a(n))}catch{}}return null}function T(a){return{current:a}}function S(a){0>Ll||(a.current=ql[Ll],ql[Ll]=null,Ll--)}function v(a,n){Ll++,ql[Ll]=a.current,a.current=n}function z(a){return a>>>=0,a===0?32:31-(Wf(a)/so|0)|0}function H(a){var n=a&42;if(n!==0)return n;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function V(a,n,s){var u=a.pendingLanes;if(u===0)return 0;var f=0,g=a.suspendedLanes,K=a.pingedLanes;a=a.warmLanes;var et=u&134217727;return et!==0?(u=et&~g,u!==0?f=H(u):(K&=et,K!==0?f=H(K):s||(s=et&~a,s!==0&&(f=H(s))))):(et=u&~g,et!==0?f=H(et):K!==0?f=H(K):s||(s=u&~a,s!==0&&(f=H(s)))),f===0?0:n!==0&&n!==f&&(n&g)===0&&(g=f&-f,s=n&-n,g>=s||g===32&&(s&4194048)!==0)?n:f}function N(a,n){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&n)===0}function h(a,n){switch(a){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U(){var a=Pr;return Pr<<=1,(Pr&4194048)===0&&(Pr=256),a}function G(){var a=Xs;return Xs<<=1,(Xs&62914560)===0&&(Xs=4194304),a}function Y(a){for(var n=[],s=0;31>s;s++)n.push(a);return n}function W(a,n){a.pendingLanes|=n,n!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function D(a,n,s,u,f,g){var K=a.pendingLanes;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=s,a.entangledLanes&=s,a.errorRecoveryDisabledLanes&=s,a.shellSuspendCounter=0;var et=a.entanglements,ct=a.expirationTimes,Et=a.hiddenUpdates;for(s=K&~s;0<s;){var Tt=31-rn(s),Ot=1<<Tt;et[Tt]=0,ct[Tt]=-1;var Dt=Et[Tt];if(Dt!==null)for(Et[Tt]=null,Tt=0;Tt<Dt.length;Tt++){var Pt=Dt[Tt];Pt!==null&&(Pt.lane&=-536870913)}s&=~Ot}u!==0&&q(a,u,0),g!==0&&f===0&&a.tag!==0&&(a.suspendedLanes|=g&~(K&~n))}function q(a,n,s){a.pendingLanes|=n,a.suspendedLanes&=~n;var u=31-rn(n);a.entangledLanes|=n,a.entanglements[u]=a.entanglements[u]|1073741824|s&4194090}function w(a,n){var s=a.entangledLanes|=n;for(a=a.entanglements;s;){var u=31-rn(s),f=1<<u;f&n|a[u]&n&&(a[u]|=n),s&=~f}}function Q(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function F(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function $(a){if(typeof ed=="function"&&ad(a),Qa&&typeof Qa.setStrictMode=="function")try{Qa.setStrictMode(yi,a)}catch{}}function st(a){if(oo===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);oo=n&&n[1]||"",Hc=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oo+a+Hc}function at(a,n){if(!a||co)return"";co=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var Ot=function(){throw Error()};if(Object.defineProperty(Ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ot,[])}catch(Pt){var Dt=Pt}Reflect.construct(a,[],Ot)}else{try{Ot.call()}catch(Pt){Dt=Pt}a.call(Ot.prototype)}}else{try{throw Error()}catch(Pt){Dt=Pt}(Ot=a())&&typeof Ot.catch=="function"&&Ot.catch(function(){})}}catch(Pt){if(Pt&&Dt&&typeof Pt.stack=="string")return[Pt.stack,Dt.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),K=g[0],et=g[1];if(K&&et){var ct=K.split(`
`),Et=et.split(`
`);for(f=u=0;u<ct.length&&!ct[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Et.length&&!Et[f].includes("DetermineComponentFrameRoot");)f++;if(u===ct.length||f===Et.length)for(u=ct.length-1,f=Et.length-1;1<=u&&0<=f&&ct[u]!==Et[f];)f--;for(;1<=u&&0<=f;u--,f--)if(ct[u]!==Et[f]){if(u!==1||f!==1)do if(u--,f--,0>f||ct[u]!==Et[f]){var Tt=`
`+ct[u].replace(" at new "," at ");return a.displayName&&Tt.includes("<anonymous>")&&(Tt=Tt.replace("<anonymous>",a.displayName)),Tt}while(1<=u&&0<=f);break}}}finally{co=!1,Error.prepareStackTrace=s}return(s=a?a.displayName||a.name:"")?st(s):""}function tt(a){switch(a.tag){case 26:case 27:case 5:return st(a.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return at(a.type,!1);case 11:return at(a.type.render,!1);case 1:return at(a.type,!0);case 31:return st("Activity");default:return""}}function O(a){try{var n="";do n+=tt(a),a=a.return;while(a);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function L(a,n){if(typeof a=="object"&&a!==null){var s=fo.get(a);return s!==void 0?s:(n={value:a,source:n,stack:O(n)},fo.set(a,n),n)}return{value:a,source:n,stack:O(n)}}function Z(a,n){vi[pi++]=Ks,vi[pi++]=Ir,Ir=a,Ks=n}function R(a,n,s){Za[un++]=Ln,Za[un++]=dl,Za[un++]=bi,bi=a;var u=Ln;a=dl;var f=32-rn(u)-1;u&=~(1<<f),s+=1;var g=32-rn(n)+f;if(30<g){var K=f-f%5;g=(u&(1<<K)-1).toString(32),u>>=K,f-=K,Ln=1<<32-rn(n)+f|s<<f|u,dl=g+a}else Ln=1<<g|s<<f|u,dl=a}function X(a){a.return!==null&&(Z(a,1),R(a,1,0))}function nt(a){for(;a===Ir;)Ir=vi[--pi],vi[pi]=null,Ks=vi[--pi],vi[pi]=null;for(;a===bi;)bi=Za[--un],Za[un]=null,dl=Za[--un],Za[un]=null,Ln=Za[--un],Za[un]=null}function P(a,n){v(xi,n),v(ss,a),v(Ye,null),a=dc(n),S(Ye),v(Ye,a)}function ft(){S(Ye),S(ss),S(xi)}function pt(a){a.memoizedState!==null&&v($r,a);var n=Ye.current,s=hc(n,a.type);n!==s&&(v(ss,a),v(Ye,s))}function it(a){ss.current===a&&(S(Ye),S(ss)),$r.current===a&&(S($r),Hl?cl._currentValue=sn:cl._currentValue2=sn)}function J(a){var n=Error(A(418,""));throw qt(L(n,a)),Bc}function rt(a,n){if(!nn)throw Error(A(175));Qf(a.stateNode,a.type,a.memoizedProps,n,a)||J(a)}function Nt(a){for(Fe=a.return;Fe;)switch(Fe.tag){case 5:case 13:Se=!1;return;case 27:case 3:Se=!0;return;default:Fe=Fe.return}}function At(a){if(!nn||a!==Fe)return!1;if(!he)return Nt(a),he=!0,!1;var n=a.tag;if(le?n!==3&&n!==27&&(n!==5||zc(a.type)&&!Gl(a.type,a.memoizedProps))&&na&&J(a):n!==3&&(n!==5||zc(a.type)&&!Gl(a.type,a.memoizedProps))&&na&&J(a),Nt(a),n===13){if(!nn)throw Error(A(316));if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(A(317));na=no(a)}else na=le&&n===27?Ac(a.type,na):Fe?Vf(a.stateNode):null;return!0}function zt(){nn&&(na=Fe=null,he=!1)}function Bt(){var a=Vn;return a!==null&&(Ha===null?Ha=a:Ha.push.apply(Ha,a),Vn=null),a}function qt(a){Vn===null?Vn=[a]:Vn.push(a)}function Rt(a,n){return a===n&&(a!==0||1/a===1/n)||a!==a&&n!==n}function jt(a,n,s){Hl?(v(tu,n._currentValue),n._currentValue=s):(v(tu,n._currentValue2),n._currentValue2=s)}function se(a){var n=tu.current;Hl?a._currentValue=n:a._currentValue2=n,S(tu)}function Vt(a,n,s){for(;a!==null;){var u=a.alternate;if((a.childLanes&n)!==n?(a.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),a===s)break;a=a.return}}function Ce(a,n,s,u){var f=a.child;for(f!==null&&(f.return=a);f!==null;){var g=f.dependencies;if(g!==null){var K=f.child;g=g.firstContext;t:for(;g!==null;){var et=g;g=f;for(var ct=0;ct<n.length;ct++)if(et.context===n[ct]){g.lanes|=s,et=g.alternate,et!==null&&(et.lanes|=s),Vt(g.return,s,a),u||(K=null);break t}g=et.next}}else if(f.tag===18){if(K=f.return,K===null)throw Error(A(341));K.lanes|=s,g=K.alternate,g!==null&&(g.lanes|=s),Vt(K,s,a),K=null}else K=f.child;if(K!==null)K.return=f;else for(K=f;K!==null;){if(K===a){K=null;break}if(f=K.sibling,f!==null){f.return=K.return,K=f;break}K=K.return}f=K}}function ya(a,n,s,u){a=null;for(var f=n,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var K=f.alternate;if(K===null)throw Error(A(387));if(K=K.memoizedProps,K!==null){var et=f.type;vn(f.pendingProps.value,K.value)||(a!==null?a.push(et):a=[et])}}else if(f===$r.current){if(K=f.alternate,K===null)throw Error(A(387));K.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(a!==null?a.push(cl):a=[cl])}f=f.return}a!==null&&Ce(n,a,s,u),n.flags|=262144}function Qe(a){for(a=a.firstContext;a!==null;){var n=a.context;if(!vn(Hl?n._currentValue:n._currentValue2,a.memoizedValue))return!0;a=a.next}return!1}function va(a){Yn=a,ja=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ft(a){return Ta(Yn,a)}function ua(a,n){return Yn===null&&va(a),Ta(a,n)}function Ta(a,n){var s=Hl?n._currentValue:n._currentValue2;if(n={context:n,memoizedValue:s,next:null},ja===null){if(a===null)throw Error(A(308));ja=n,a.dependencies={lanes:0,firstContext:n},a.flags|=524288}else ja=ja.next=n;return s}function qa(){return{controller:new nd,data:new Map,refCount:0}}function He(a){a.refCount--,a.refCount===0&&ld(eu,function(){a.controller.abort()})}function me(a){a!==Si&&a.next===null&&(Si===null?au=Si=a:Si=Si.next=a),Qs=!0,ho||(ho=!0,_n())}function De(a,n){if(!nu&&Qs){nu=!0;do for(var s=!1,u=au;u!==null;){if(a!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var K=u.suspendedLanes,et=u.pingedLanes;g=(1<<31-rn(42|a)+1)-1,g&=f&~(K&~et),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,Zn(u,g))}else g=ee,g=V(u,u===ve?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==Mn),(g&3)===0||N(u,g)||(s=!0,Zn(u,g));u=u.next}while(s);nu=!1}}function Re(){oa()}function oa(){Qs=ho=!1;var a=0;Vl!==0&&(mc()&&(a=Vl),Vl=0);for(var n=Oe(),s=null,u=au;u!==null;){var f=u.next,g=ca(u,n);g===0?(u.next=null,s===null?au=f:s.next=f,f===null&&(Si=s)):(s=u,(a!==0||(g&3)!==0)&&(Qs=!0)),u=f}De(a)}function ca(a,n){for(var s=a.suspendedLanes,u=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes&-62914561;0<g;){var K=31-rn(g),et=1<<K,ct=f[K];ct===-1?((et&s)===0||(et&u)!==0)&&(f[K]=h(et,n)):ct<=n&&(a.expiredLanes|=et),g&=~et}if(n=ve,s=ee,s=V(a,a===n?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==Mn),u=a.callbackNode,s===0||a===n&&(Ne===2||Ne===9)||a.cancelPendingCommit!==null)return u!==null&&u!==null&&ro(u),a.callbackNode=null,a.callbackPriority=0;if((s&3)===0||N(a,s)){if(n=s&-s,n===a.callbackPriority)return n;switch(u!==null&&ro(u),F(s)){case 2:case 8:s=$f;break;case 32:s=uo;break;case 268435456:s=td;break;default:s=uo}return u=Qn.bind(null,a),s=Wr(s,u),a.callbackPriority=n,a.callbackNode=s,n}return u!==null&&u!==null&&ro(u),a.callbackPriority=2,a.callbackNode=null,2}function Qn(a,n){if(ha!==0&&ha!==5)return a.callbackNode=null,a.callbackPriority=0,null;var s=a.callbackNode;if(An()&&a.callbackNode!==s)return null;var u=ee;return u=V(a,a===ve?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==Mn),u===0?null:(Rr(a,u,n),ca(a,Oe()),a.callbackNode!=null&&a.callbackNode===s?Qn.bind(null,a):null)}function Zn(a,n){if(An())return null;Rr(a,n,!0)}function _n(){pc?Sf(function(){(Lt&6)!==0?Wr(Sa,Re):oa()}):Wr(Sa,Re)}function La(){return Vl===0&&(Vl=U()),Vl}function Zl(a,n){if(Zs===null){var s=Zs=[];kn=0,Be=La(),_i={status:"pending",value:void 0,then:function(u){s.push(u)}}}return kn++,n.then(Fl,Fl),n}function Fl(){if(--kn===0&&Zs!==null){_i!==null&&(_i.status="fulfilled");var a=Zs;Zs=null,Be=0,_i=null;for(var n=0;n<a.length;n++)(0,a[n])()}}function Ao(a,n){var s=[],u={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return a.then(function(){u.status="fulfilled",u.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(u.status="rejected",u.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),u}function ys(){var a=Ke.current;return a!==null?a:ve.pooledCache}function Jl(a,n){n===null?v(Ke,Ke.current):v(Ke,n.pool)}function Pl(){var a=ys();return a===null?null:{parent:Hl?Ee._currentValue:Ee._currentValue2,pool:a}}function Mt(a,n){if(vn(a,n))return!0;if(typeof a!="object"||a===null||typeof n!="object"||n===null)return!1;var s=Object.keys(a),u=Object.keys(n);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var f=s[u];if(!Qd.call(n,f)||!vn(a[f],n[f]))return!1}return!0}function ta(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Gn(){}function Ia(a,n,s){switch(s=a[s],s===void 0?a.push(n):s!==n&&(n.then(Gn,Gn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw a=n.reason,fu(a),a;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(a=ve,a!==null&&100<a.shellSuspendCounter)throw Error(A(482));a=n,a.status="pending",a.then(function(u){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=u}},function(u){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw a=n.reason,fu(a),a}throw on=n,Fs}}function cu(){if(on===null)throw Error(A(459));var a=on;return on=null,a}function fu(a){if(a===Fs||a===Ue)throw Error(A(483))}function fr(){for(var a=rs,n=qc=rs=0;n<a;){var s=pn[n];pn[n++]=null;var u=pn[n];pn[n++]=null;var f=pn[n];pn[n++]=null;var g=pn[n];if(pn[n++]=null,u!==null&&f!==null){var K=u.pending;K===null?f.next=f:(f.next=K.next,K.next=f),u.pending=f}g!==0&&Va(s,f,g)}}function du(a,n,s,u){pn[rs++]=a,pn[rs++]=n,pn[rs++]=s,pn[rs++]=u,qc|=u,a.lanes|=u,a=a.alternate,a!==null&&(a.lanes|=u)}function Fn(a,n,s,u){return du(a,n,s,u),xl(a)}function We(a,n){return du(a,null,null,n),xl(a)}function Va(a,n,s){a.lanes|=s;var u=a.alternate;u!==null&&(u.lanes|=s);for(var f=!1,g=a.return;g!==null;)g.childLanes|=s,u=g.alternate,u!==null&&(u.childLanes|=s),g.tag===22&&(a=g.stateNode,a===null||a._visibility&1||(f=!0)),a=g,g=g.return;return a.tag===3?(g=a.stateNode,f&&n!==null&&(f=31-rn(s),a=g.hiddenUpdates,u=a[f],u===null?a[f]=[n]:u.push(n),n.lane=s|536870912),g):null}function xl(a){if(50<Ri)throw Ri=0,bo=null,Error(A(185));for(var n=a.return;n!==null;)a=n,n=a.return;return a.tag===3?a.stateNode:null}function dr(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mo(a,n){a=a.updateQueue,n.updateQueue===a&&(n.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Wl(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Sl(a,n,s){var u=a.updateQueue;if(u===null)return null;if(u=u.shared,(Lt&2)!==0){var f=u.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),u.pending=n,n=xl(a),Va(a,null,s),n}return du(a,u,n,s),xl(a)}function _l(a,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var u=n.lanes;u&=a.pendingLanes,s|=u,n.lanes=s,w(a,s)}}function hr(a,n){var s=a.updateQueue,u=a.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var f=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var K={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?f=g=K:g=g.next=K,s=s.next}while(s!==null);g===null?f=g=n:g=g.next=n}else f=g=n;s={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},a.updateQueue=s;return}a=s.lastBaseUpdate,a===null?s.firstBaseUpdate=n:a.next=n,s.lastBaseUpdate=n}function Jn(){if(Fa){var a=_i;if(a!==null)throw a}}function Pn(a,n,s,u){Fa=!1;var f=a.updateQueue;hl=!1;var g=f.firstBaseUpdate,K=f.lastBaseUpdate,et=f.shared.pending;if(et!==null){f.shared.pending=null;var ct=et,Et=ct.next;ct.next=null,K===null?g=Et:K.next=Et,K=ct;var Tt=a.alternate;Tt!==null&&(Tt=Tt.updateQueue,et=Tt.lastBaseUpdate,et!==K&&(et===null?Tt.firstBaseUpdate=Et:et.next=Et,Tt.lastBaseUpdate=ct))}if(g!==null){var Ot=f.baseState;K=0,Tt=Et=ct=null,et=g;do{var Dt=et.lane&-536870913,Pt=Dt!==et.lane;if(Pt?(ee&Dt)===Dt:(u&Dt)===Dt){Dt!==0&&Dt===Be&&(Fa=!0),Tt!==null&&(Tt=Tt.next={lane:0,tag:et.tag,payload:et.payload,callback:null,next:null});t:{var Dn=a,ji=et;Dt=n;var Rn=s;switch(ji.tag){case 1:if(Dn=ji.payload,typeof Dn=="function"){Ot=Dn.call(Rn,Ot,Dt);break t}Ot=Dn;break t;case 3:Dn.flags=Dn.flags&-65537|128;case 0:if(Dn=ji.payload,Dt=typeof Dn=="function"?Dn.call(Rn,Ot,Dt):Dn,Dt==null)break t;Ot=$i({},Ot,Dt);break t;case 2:hl=!0}}Dt=et.callback,Dt!==null&&(a.flags|=64,Pt&&(a.flags|=8192),Pt=f.callbacks,Pt===null?f.callbacks=[Dt]:Pt.push(Dt))}else Pt={lane:Dt,tag:et.tag,payload:et.payload,callback:et.callback,next:null},Tt===null?(Et=Tt=Pt,ct=Ot):Tt=Tt.next=Pt,K|=Dt;if(et=et.next,et===null){if(et=f.shared.pending,et===null)break;Pt=et,et=Pt.next,Pt.next=null,f.lastBaseUpdate=Pt,f.shared.pending=null}}while(!0);Tt===null&&(ct=Ot),f.baseState=ct,f.firstBaseUpdate=Et,f.lastBaseUpdate=Tt,g===null&&(f.shared.lanes=0),sa|=K,a.lanes=K,a.memoizedState=Ot}}function vs(a,n){if(typeof a!="function")throw Error(A(191,a));a.call(n)}function Ui(a,n){var s=a.callbacks;if(s!==null)for(a.callbacks=null,a=0;a<s.length;a++)vs(s[a],n)}function fa(a,n){a=$e,v(lu,a),v(Ua,n),$e=a|n.baseLanes}function hu(){v(lu,$e),v(Ua,Ua.current)}function gu(){$e=lu.current,S(Ua),S(lu)}function je(){throw Error(A(321))}function Il(a,n){if(n===null)return!1;for(var s=0;s<n.length&&s<a.length;s++)if(!vn(a[s],n[s]))return!1;return!0}function Oo(a,n,s,u,f,g){return la=g,Wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,wt.H=a===null||a.memoizedState===null?us:Lc,Yl=!1,g=s(u,f),Yl=!1,Ei&&(g=Do(n,s,u,f)),zo(a),g}function zo(a){wt.H=Ni;var n=oe!==null&&oe.next!==null;if(la=0,we=oe=Wt=null,Xn=!1,Js=0,Kn=null,n)throw Error(A(300));a===null||Qt||(a=a.dependencies,a!==null&&Qe(a)&&(Qt=!0))}function Do(a,n,s,u){Wt=a;var f=0;do{if(Ei&&(Kn=null),Js=0,Ei=!1,25<=f)throw Error(A(301));if(f+=1,we=oe=null,a.updateQueue!=null){var g=a.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}wt.H=id,g=n(s,u)}while(Ei);return g}function Ud(){var a=wt.H,n=a.useState()[0];return n=typeof n.then=="function"?Gi(n):n,a=a.useState()[0],(oe!==null?oe.memoizedState:null)!==a&&(Wt.flags|=1024),n}function ps(){var a=bn!==0;return bn=0,a}function bs(a,n,s){n.updateQueue=a.updateQueue,n.flags&=-2053,a.lanes&=~s}function Hn(a){if(Xn){for(a=a.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}Xn=!1}la=0,we=oe=Wt=null,Ei=!1,Js=bn=0,Kn=null}function Aa(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Wt.memoizedState=we=a:we=we.next=a,we}function Ie(){if(oe===null){var a=Wt.alternate;a=a!==null?a.memoizedState:null}else a=oe.next;var n=we===null?Wt.memoizedState:we.next;if(n!==null)we=n,oe=a;else{if(a===null)throw Wt.alternate===null?Error(A(467)):Error(A(310));oe=a,a={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},we===null?Wt.memoizedState=we=a:we=we.next=a}return we}function $l(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gi(a){var n=Js;return Js+=1,Kn===null&&(Kn=[]),a=Ia(Kn,a,n),n=Wt,(we===null?n.memoizedState:we.next)===null&&(n=n.alternate,wt.H=n===null||n.memoizedState===null?us:Lc),a}function xs(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Gi(a);if(a.$$typeof===Ul)return Ft(a)}throw Error(A(438,String(a)))}function Ro(a){var n=null,s=Wt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var u=Wt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=$l(),Wt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(a),u=0;u<a;u++)s[u]=fc;return n.index++,s}function Wn(a,n){return typeof n=="function"?n(a):n}function Ya(a){var n=Ie();return mu(n,oe,a)}function mu(a,n,s){var u=a.queue;if(u===null)throw Error(A(311));u.lastRenderedReducer=s;var f=a.baseQueue,g=u.pending;if(g!==null){if(f!==null){var K=f.next;f.next=g.next,g.next=K}n.baseQueue=f=g,u.pending=null}if(g=a.baseState,f===null)a.memoizedState=g;else{n=f.next;var et=K=null,ct=null,Et=n,Tt=!1;do{var Ot=Et.lane&-536870913;if(Ot!==Et.lane?(ee&Ot)===Ot:(la&Ot)===Ot){var Dt=Et.revertLane;if(Dt===0)ct!==null&&(ct=ct.next={lane:0,revertLane:0,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null}),Ot===Be&&(Tt=!0);else if((la&Dt)===Dt){Et=Et.next,Dt===Be&&(Tt=!0);continue}else Ot={lane:0,revertLane:Et.revertLane,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},ct===null?(et=ct=Ot,K=g):ct=ct.next=Ot,Wt.lanes|=Dt,sa|=Dt;Ot=Et.action,Yl&&s(g,Ot),g=Et.hasEagerState?Et.eagerState:s(g,Ot)}else Dt={lane:Ot,revertLane:Et.revertLane,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},ct===null?(et=ct=Dt,K=g):ct=ct.next=Dt,Wt.lanes|=Ot,sa|=Ot;Et=Et.next}while(Et!==null&&Et!==n);if(ct===null?K=g:ct.next=et,!vn(g,a.memoizedState)&&(Qt=!0,Tt&&(s=_i,s!==null)))throw s;a.memoizedState=g,a.baseState=K,a.baseQueue=ct,u.lastRenderedState=g}return f===null&&(u.lanes=0),[a.memoizedState,u.dispatch]}function jo(a){var n=Ie(),s=n.queue;if(s===null)throw Error(A(311));s.lastRenderedReducer=a;var u=s.dispatch,f=s.pending,g=n.memoizedState;if(f!==null){s.pending=null;var K=f=f.next;do g=a(g,K.action),K=K.next;while(K!==f);vn(g,n.memoizedState)||(Qt=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),s.lastRenderedState=g}return[g,u]}function gr(a,n,s){var u=Wt,f=Ie(),g=he;if(g){if(s===void 0)throw Error(A(407));s=s()}else s=n();var K=!vn((oe||f).memoizedState,s);K&&(f.memoizedState=s,Qt=!0),f=f.queue;var et=K0.bind(null,u,f,a);if(wi(2048,8,et,[a]),f.getSnapshot!==n||K||we!==null&&we.memoizedState.tag&1){if(u.flags|=2048,ti(9,El(),mr.bind(null,u,f,s,n),null),ve===null)throw Error(A(349));g||(la&124)!==0||Uo(u,n,s)}return s}function Uo(a,n,s){a.flags|=16384,a={getSnapshot:n,value:s},n=Wt.updateQueue,n===null?(n=$l(),Wt.updateQueue=n,n.stores=[a]):(s=n.stores,s===null?n.stores=[a]:s.push(a))}function mr(a,n,s,u){n.value=s,n.getSnapshot=u,fn(n)&&yu(a)}function K0(a,n,s){return s(function(){fn(n)&&yu(a)})}function fn(a){var n=a.getSnapshot;a=a.value;try{var s=n();return!vn(a,s)}catch{return!0}}function yu(a){var n=We(a,2);n!==null&&za(n,a,2)}function vu(a){var n=Aa();if(typeof a=="function"){var s=a;if(a=s(),Yl){$(!0);try{s()}finally{$(!1)}}}return n.memoizedState=n.baseState=a,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:a},n}function pu(a,n,s,u){return a.baseState=s,mu(a,oe,typeof u=="function"?u:Wn)}function Ss(a,n,s,u,f){if(Sr(a))throw Error(A(485));if(a=n.action,a!==null){var g={payload:f,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){g.listeners.push(K)}};wt.T!==null?s(!0):g.isTransition=!1,u(g),s=n.pending,s===null?(g.next=n.pending=g,Go(n,g)):(g.next=s.next,n.pending=s.next=g)}}function Go(a,n){var s=n.action,u=n.payload,f=a.state;if(n.isTransition){var g=wt.T,K={};wt.T=K;try{var et=s(f,u),ct=wt.S;ct!==null&&ct(K,et),Ho(a,n,et)}catch(Et){Bo(a,n,Et)}finally{wt.T=g}}else try{g=s(f,u),Ho(a,n,g)}catch(Et){Bo(a,n,Et)}}function Ho(a,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){Hi(a,n,u)},function(u){return Bo(a,n,u)}):Hi(a,n,s)}function Hi(a,n,s){n.status="fulfilled",n.value=s,wo(n),a.state=s,n=a.pending,n!==null&&(s=n.next,s===n?a.pending=null:(s=s.next,n.next=s,Go(a,s)))}function Bo(a,n,s){var u=a.pending;if(a.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=s,wo(n),n=n.next;while(n!==u)}a.action=null}function wo(a){a=a.listeners;for(var n=0;n<a.length;n++)(0,a[n])()}function qo(a,n){return n}function bu(a,n){if(he){var s=ve.formState;if(s!==null){t:{var u=Wt;if(he){if(na){var f=qf(na,Se);if(f){na=Vf(f),u=Lf(f);break t}}J(u)}u=!1}u&&(n=s[0])}}s=Aa(),s.memoizedState=s.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:n},s.queue=u,s=Eu.bind(null,Wt,u),u.dispatch=s,u=vu(!1);var g=Ts.bind(null,Wt,!1,u.queue);return u=Aa(),f={state:n,dispatch:null,action:a,pending:null},u.queue=f,s=Ss.bind(null,Wt,f,g,s),f.dispatch=s,u.memoizedState=a,[n,s,!1]}function Q0(a){var n=Ie();return Z0(n,oe,a)}function Z0(a,n,s){if(n=mu(a,n,qo)[0],a=Ya(Wn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=Gi(n)}catch(K){throw K===Fs?Ue:K}else u=n;n=Ie();var f=n.queue,g=f.dispatch;return s!==n.memoizedState&&(Wt.flags|=2048,ti(9,El(),xu.bind(null,f,s),null)),[u,g,a]}function xu(a,n){a.action=n}function Su(a){var n=Ie(),s=oe;if(s!==null)return Z0(n,s,a);Ie(),n=n.memoizedState,s=Ie();var u=s.queue.dispatch;return s.memoizedState=a,[n,u,!1]}function ti(a,n,s,u){return a={tag:a,create:s,deps:u,inst:n,next:null},n=Wt.updateQueue,n===null&&(n=$l(),Wt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=a.next=a:(u=s.next,s.next=a,a.next=u,n.lastEffect=a),a}function El(){return{destroy:void 0,resource:void 0}}function Bi(){return Ie().memoizedState}function yr(a,n,s,u){var f=Aa();u=u===void 0?null:u,Wt.flags|=a,f.memoizedState=ti(1|n,El(),s,u)}function wi(a,n,s,u){var f=Ie();u=u===void 0?null:u;var g=f.memoizedState.inst;oe!==null&&u!==null&&Il(u,oe.memoizedState.deps)?f.memoizedState=ti(n,g,s,u):(Wt.flags|=a,f.memoizedState=ti(1|n,g,s,u))}function Lo(a,n){yr(8390656,8,a,n)}function _s(a,n){wi(2048,8,a,n)}function In(a,n){return wi(4,2,a,n)}function _u(a,n){return wi(4,4,a,n)}function Es(a,n){if(typeof n=="function"){a=a();var s=n(a);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return a=a(),n.current=a,function(){n.current=null}}function Nl(a,n,s){s=s!=null?s.concat([a]):null,wi(4,4,Es.bind(null,n,a),s)}function vr(){}function pr(a,n){var s=Ie();n=n===void 0?null:n;var u=s.memoizedState;return n!==null&&Il(n,u[1])?u[0]:(s.memoizedState=[a,n],a)}function Vo(a,n){var s=Ie();n=n===void 0?null:n;var u=s.memoizedState;if(n!==null&&Il(n,u[1]))return u[0];if(u=a(),Yl){$(!0);try{a()}finally{$(!1)}}return s.memoizedState=[u,n],u}function Ns(a,n,s){return s===void 0||(la&1073741824)!==0?a.memoizedState=n:(a.memoizedState=s,a=Zi(),Wt.lanes|=a,sa|=a,s)}function br(a,n,s,u){return vn(s,n)?s:Ua.current!==null?(a=Ns(a,s,u),vn(a,n)||(Qt=!0),a):(la&42)===0?(Qt=!0,a.memoizedState=s):(a=Zi(),Wt.lanes|=a,sa|=a,n)}function Yo(a,n,s,u,f){var g=qn();xa(g!==0&&8>g?g:8);var K=wt.T,et={};wt.T=et,Ts(a,!1,n,s);try{var ct=f(),Et=wt.S;if(Et!==null&&Et(et,ct),ct!==null&&typeof ct=="object"&&typeof ct.then=="function"){var Tt=Ao(ct,u);Tl(a,n,Tt,ba(a))}else Tl(a,n,u,ba(a))}catch(Ot){Tl(a,n,{then:function(){},status:"rejected",reason:Ot},ba())}finally{xa(g),wt.T=K}}function ka(a){var n=a.memoizedState;if(n!==null)return n;n={memoizedState:sn,baseState:sn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:sn},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:s},next:null},a.memoizedState=n,a=a.alternate,a!==null&&(a.memoizedState=n),n}function Cl(){return Ft(cl)}function xr(){return Ie().memoizedState}function Cs(){return Ie().memoizedState}function Gd(a){for(var n=a.return;n!==null;){switch(n.tag){case 24:case 3:var s=ba();a=Wl(s);var u=Sl(n,a,s);u!==null&&(za(u,n,s),_l(u,n,s)),n={cache:qa()},a.payload=n;return}n=n.return}}function ko(a,n,s){var u=ba();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Sr(a)?F0(n,s):(s=Fn(a,n,s,u),s!==null&&(za(s,a,u),J0(s,n,u)))}function Eu(a,n,s){var u=ba();Tl(a,n,s,u)}function Tl(a,n,s,u){var f={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Sr(a))F0(n,f);else{var g=a.alternate;if(a.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var K=n.lastRenderedState,et=g(K,s);if(f.hasEagerState=!0,f.eagerState=et,vn(et,K))return du(a,n,f,0),ve===null&&fr(),!1}catch{}finally{}if(s=Fn(a,n,f,u),s!==null)return za(s,a,u),J0(s,n,u),!0}return!1}function Ts(a,n,s,u){if(u={lane:2,revertLane:La(),action:u,hasEagerState:!1,eagerState:null,next:null},Sr(a)){if(n)throw Error(A(479))}else n=Fn(a,s,u,2),n!==null&&za(n,a,2)}function Sr(a){var n=a.alternate;return a===Wt||n!==null&&n===Wt}function F0(a,n){Ei=Xn=!0;var s=a.pending;s===null?n.next=n:(n.next=s.next,s.next=n),a.pending=n}function J0(a,n,s){if((s&4194048)!==0){var u=n.lanes;u&=a.pendingLanes,s|=u,n.lanes=s,w(a,s)}}function Nu(a){var n=Ps;return Ps+=1,gl===null&&(gl=[]),Ia(gl,a,n)}function qi(a,n){n=n.props.ref,a.ref=n!==void 0?n:null}function Cu(a,n){throw n.$$typeof===vf?Error(A(525)):(a=Object.prototype.toString.call(n),Error(A(31,a==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":a)))}function P0(a){var n=a._init;return n(a._payload)}function W0(a){function n(gt,ut){if(a){var vt=gt.deletions;vt===null?(gt.deletions=[ut],gt.flags|=16):vt.push(ut)}}function s(gt,ut){if(!a)return null;for(;ut!==null;)n(gt,ut),ut=ut.sibling;return null}function u(gt){for(var ut=new Map;gt!==null;)gt.key!==null?ut.set(gt.key,gt):ut.set(gt.index,gt),gt=gt.sibling;return ut}function f(gt,ut){return gt=Rl(gt,ut),gt.index=0,gt.sibling=null,gt}function g(gt,ut,vt){return gt.index=vt,a?(vt=gt.alternate,vt!==null?(vt=vt.index,vt<ut?(gt.flags|=67108866,ut):vt):(gt.flags|=67108866,ut)):(gt.flags|=1048576,ut)}function K(gt){return a&&gt.alternate===null&&(gt.flags|=67108866),gt}function et(gt,ut,vt,Ct){return ut===null||ut.tag!==6?(ut=Wi(vt,gt.mode,Ct),ut.return=gt,ut):(ut=f(ut,vt),ut.return=gt,ut)}function ct(gt,ut,vt,Ct){var Ut=vt.type;return Ut===es?Tt(gt,ut,vt.props.children,Ct,vt.key):ut!==null&&(ut.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===Xa&&P0(Ut)===ut.type)?(ut=f(ut,vt.props),qi(ut,vt),ut.return=gt,ut):(ut=Gs(vt.type,vt.key,vt.props,null,gt.mode,Ct),qi(ut,vt),ut.return=gt,ut)}function Et(gt,ut,vt,Ct){return ut===null||ut.tag!==4||ut.stateNode.containerInfo!==vt.containerInfo||ut.stateNode.implementation!==vt.implementation?(ut=jr(vt,gt.mode,Ct),ut.return=gt,ut):(ut=f(ut,vt.children||[]),ut.return=gt,ut)}function Tt(gt,ut,vt,Ct,Ut){return ut===null||ut.tag!==7?(ut=wn(vt,gt.mode,Ct,Ut),ut.return=gt,ut):(ut=f(ut,vt),ut.return=gt,ut)}function Ot(gt,ut,vt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return ut=Wi(""+ut,gt.mode,vt),ut.return=gt,ut;if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case ts:return vt=Gs(ut.type,ut.key,ut.props,null,gt.mode,vt),qi(vt,ut),vt.return=gt,vt;case fi:return ut=jr(ut,gt.mode,vt),ut.return=gt,ut;case Xa:var Ct=ut._init;return ut=Ct(ut._payload),Ot(gt,ut,vt)}if(di(ut)||E(ut))return ut=wn(ut,gt.mode,vt,null),ut.return=gt,ut;if(typeof ut.then=="function")return Ot(gt,Nu(ut),vt);if(ut.$$typeof===Ul)return Ot(gt,ua(gt,ut),vt);Cu(gt,ut)}return null}function Dt(gt,ut,vt,Ct){var Ut=ut!==null?ut.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return Ut!==null?null:et(gt,ut,""+vt,Ct);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case ts:return vt.key===Ut?ct(gt,ut,vt,Ct):null;case fi:return vt.key===Ut?Et(gt,ut,vt,Ct):null;case Xa:return Ut=vt._init,vt=Ut(vt._payload),Dt(gt,ut,vt,Ct)}if(di(vt)||E(vt))return Ut!==null?null:Tt(gt,ut,vt,Ct,null);if(typeof vt.then=="function")return Dt(gt,ut,Nu(vt),Ct);if(vt.$$typeof===Ul)return Dt(gt,ut,ua(gt,vt),Ct);Cu(gt,vt)}return null}function Pt(gt,ut,vt,Ct,Ut){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint")return gt=gt.get(vt)||null,et(ut,gt,""+Ct,Ut);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case ts:return gt=gt.get(Ct.key===null?vt:Ct.key)||null,ct(ut,gt,Ct,Ut);case fi:return gt=gt.get(Ct.key===null?vt:Ct.key)||null,Et(ut,gt,Ct,Ut);case Xa:var Ae=Ct._init;return Ct=Ae(Ct._payload),Pt(gt,ut,vt,Ct,Ut)}if(di(Ct)||E(Ct))return gt=gt.get(vt)||null,Tt(ut,gt,Ct,Ut,null);if(typeof Ct.then=="function")return Pt(gt,ut,vt,Nu(Ct),Ut);if(Ct.$$typeof===Ul)return Pt(gt,ut,vt,ua(ut,Ct),Ut);Cu(ut,Ct)}return null}function Dn(gt,ut,vt,Ct){for(var Ut=null,Ae=null,kt=ut,pe=ut=0,ga=null;kt!==null&&pe<vt.length;pe++){kt.index>pe?(ga=kt,kt=null):ga=kt.sibling;var be=Dt(gt,kt,vt[pe],Ct);if(be===null){kt===null&&(kt=ga);break}a&&kt&&be.alternate===null&&n(gt,kt),ut=g(be,ut,pe),Ae===null?Ut=be:Ae.sibling=be,Ae=be,kt=ga}if(pe===vt.length)return s(gt,kt),he&&Z(gt,pe),Ut;if(kt===null){for(;pe<vt.length;pe++)kt=Ot(gt,vt[pe],Ct),kt!==null&&(ut=g(kt,ut,pe),Ae===null?Ut=kt:Ae.sibling=kt,Ae=kt);return he&&Z(gt,pe),Ut}for(kt=u(kt);pe<vt.length;pe++)ga=Pt(kt,gt,pe,vt[pe],Ct),ga!==null&&(a&&ga.alternate!==null&&kt.delete(ga.key===null?pe:ga.key),ut=g(ga,ut,pe),Ae===null?Ut=ga:Ae.sibling=ga,Ae=ga);return a&&kt.forEach(function(Kl){return n(gt,Kl)}),he&&Z(gt,pe),Ut}function ji(gt,ut,vt,Ct){if(vt==null)throw Error(A(151));for(var Ut=null,Ae=null,kt=ut,pe=ut=0,ga=null,be=vt.next();kt!==null&&!be.done;pe++,be=vt.next()){kt.index>pe?(ga=kt,kt=null):ga=kt.sibling;var Kl=Dt(gt,kt,be.value,Ct);if(Kl===null){kt===null&&(kt=ga);break}a&&kt&&Kl.alternate===null&&n(gt,kt),ut=g(Kl,ut,pe),Ae===null?Ut=Kl:Ae.sibling=Kl,Ae=Kl,kt=ga}if(be.done)return s(gt,kt),he&&Z(gt,pe),Ut;if(kt===null){for(;!be.done;pe++,be=vt.next())be=Ot(gt,be.value,Ct),be!==null&&(ut=g(be,ut,pe),Ae===null?Ut=be:Ae.sibling=be,Ae=be);return he&&Z(gt,pe),Ut}for(kt=u(kt);!be.done;pe++,be=vt.next())be=Pt(kt,gt,pe,be.value,Ct),be!==null&&(a&&be.alternate!==null&&kt.delete(be.key===null?pe:be.key),ut=g(be,ut,pe),Ae===null?Ut=be:Ae.sibling=be,Ae=be);return a&&kt.forEach(function(Zd){return n(gt,Zd)}),he&&Z(gt,pe),Ut}function Rn(gt,ut,vt,Ct){if(typeof vt=="object"&&vt!==null&&vt.type===es&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case ts:t:{for(var Ut=vt.key;ut!==null;){if(ut.key===Ut){if(Ut=vt.type,Ut===es){if(ut.tag===7){s(gt,ut.sibling),Ct=f(ut,vt.props.children),Ct.return=gt,gt=Ct;break t}}else if(ut.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===Xa&&P0(Ut)===ut.type){s(gt,ut.sibling),Ct=f(ut,vt.props),qi(Ct,vt),Ct.return=gt,gt=Ct;break t}s(gt,ut);break}else n(gt,ut);ut=ut.sibling}vt.type===es?(Ct=wn(vt.props.children,gt.mode,Ct,vt.key),Ct.return=gt,gt=Ct):(Ct=Gs(vt.type,vt.key,vt.props,null,gt.mode,Ct),qi(Ct,vt),Ct.return=gt,gt=Ct)}return K(gt);case fi:t:{for(Ut=vt.key;ut!==null;){if(ut.key===Ut)if(ut.tag===4&&ut.stateNode.containerInfo===vt.containerInfo&&ut.stateNode.implementation===vt.implementation){s(gt,ut.sibling),Ct=f(ut,vt.children||[]),Ct.return=gt,gt=Ct;break t}else{s(gt,ut);break}else n(gt,ut);ut=ut.sibling}Ct=jr(vt,gt.mode,Ct),Ct.return=gt,gt=Ct}return K(gt);case Xa:return Ut=vt._init,vt=Ut(vt._payload),Rn(gt,ut,vt,Ct)}if(di(vt))return Dn(gt,ut,vt,Ct);if(E(vt)){if(Ut=E(vt),typeof Ut!="function")throw Error(A(150));return vt=Ut.call(vt),ji(gt,ut,vt,Ct)}if(typeof vt.then=="function")return Rn(gt,ut,Nu(vt),Ct);if(vt.$$typeof===Ul)return Rn(gt,ut,ua(gt,vt),Ct);Cu(gt,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint"?(vt=""+vt,ut!==null&&ut.tag===6?(s(gt,ut.sibling),Ct=f(ut,vt),Ct.return=gt,gt=Ct):(s(gt,ut),Ct=Wi(vt,gt.mode,Ct),Ct.return=gt,gt=Ct),K(gt)):s(gt,ut)}return function(gt,ut,vt,Ct){try{Ps=0;var Ut=Rn(gt,ut,vt,Ct);return gl=null,Ut}catch(kt){if(kt===Fs||kt===Ue)throw kt;var Ae=B(29,kt,null,gt.mode);return Ae.lanes=Ct,Ae.return=gt,Ae}finally{}}}function ei(a){var n=a.alternate;v(Kt,Kt.current&1),v(On,a),ml===null&&(n===null||Ua.current!==null||n.memoizedState!==null)&&(ml=a)}function I0(a){if(a.tag===22){if(v(Kt,Kt.current),v(On,a),ml===null){var n=a.alternate;n!==null&&n.memoizedState!==null&&(ml=a)}}else Al()}function Al(){v(Kt,Kt.current),v(On,On.current)}function Ml(a){S(On),ml===a&&(ml=null),S(Kt)}function Tu(a){for(var n=a;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Kr(s)||ao(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break;for(;n.sibling===null;){if(n.return===null||n.return===a)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Xo(a,n,s,u){n=a.memoizedState,s=s(u,n),s=s==null?n:$i({},n,s),a.memoizedState=s,a.lanes===0&&(a.updateQueue.baseState=s)}function $0(a,n,s,u,f,g,K){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(u,g,K):n.prototype&&n.prototype.isPureReactComponent?!Mt(s,u)||!Mt(f,g):!0}function Au(a,n,s,u){a=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,u),n.state!==a&&ze.enqueueReplaceState(n,n.state,null)}function Li(a,n){var s=n;if("ref"in n){s={};for(var u in n)u!=="ref"&&(s[u]=n[u])}if(a=a.defaultProps){s===n&&(s=$i({},s));for(var f in a)s[f]===void 0&&(s[f]=a[f])}return s}function Mu(a,n){try{var s=a.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function tf(a,n,s){try{var u=a.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ou(a,n,s){return s=Wl(s),s.tag=3,s.payload={element:null},s.callback=function(){Mu(a,n)},s}function ef(a){return a=Wl(a),a.tag=3,a}function af(a,n,s,u){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;a.payload=function(){return f(g)},a.callback=function(){tf(n,s,u)}}var K=s.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(a.callback=function(){tf(n,s,u),typeof f!="function"&&(pl===null?pl=new Set([this]):pl.add(this));var et=u.stack;this.componentDidCatch(u.value,{componentStack:et!==null?et:""})})}function Hd(a,n,s,u,f){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=s.alternate,n!==null&&ya(n,s,f,!0),s=On.current,s!==null){switch(s.tag){case 13:return ml===null?Xe():s.alternate===null&&Je===0&&(Je=3),s.flags&=-257,s.flags|=65536,s.lanes=f,u===Ea?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([u]):n.add(u),Pi(a,u,f)),!1;case 22:return s.flags|=65536,u===Ea?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([u]):s.add(u)),Pi(a,u,f)),!1}throw Error(A(435,s.tag))}return Pi(a,u,f),Xe(),!1}if(he)return n=On.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,u!==Bc&&(a=Error(A(422),{cause:u}),qt(L(a,s)))):(u!==Bc&&(n=Error(A(423),{cause:u}),qt(L(n,s))),a=a.current.alternate,a.flags|=65536,f&=-f,a.lanes|=f,u=L(u,s),f=Ou(a.stateNode,u,f),hr(a,f),Je!==4&&(Je=2)),!1;var g=Error(A(520),{cause:u});if(g=L(g,s),Oi===null?Oi=[g]:Oi.push(g),Je!==4&&(Je=2),n===null)return!0;u=L(u,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,a=f&-f,s.lanes|=a,a=Ou(s.stateNode,u,a),hr(s,a),!1;case 1:if(n=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(pl===null||!pl.has(g))))return s.flags|=65536,f&=-f,s.lanes|=f,f=ef(f),af(f,a,s,u),hr(s,f),!1}s=s.return}while(s!==null);return!1}function _a(a,n,s,u){n.child=a===null?Vc(n,null,s,u):kl(n,a.child,s,u)}function nf(a,n,s,u,f){s=s.render;var g=n.ref;if("ref"in u){var K={};for(var et in u)et!=="ref"&&(K[et]=u[et])}else K=u;return va(n),u=Oo(a,n,s,K,g,f),et=ps(),a!==null&&!Qt?(bs(a,n,f),dn(a,n,f)):(he&&et&&X(n),n.flags|=1,_a(a,n,u,f),n.child)}function lf(a,n,s,u,f){if(a===null){var g=s.type;return typeof g=="function"&&!rc(g)&&g.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=g,sf(a,n,g,u,f)):(a=Gs(s.type,null,u,n,n.mode,f),a.ref=n.ref,a.return=n,n.child=a)}if(g=a.child,!Yi(a,f)){var K=g.memoizedProps;if(s=s.compare,s=s!==null?s:Mt,s(K,u)&&a.ref===n.ref)return dn(a,n,f)}return n.flags|=1,a=Rl(g,u),a.ref=n.ref,a.return=n,n.child=a}function sf(a,n,s,u,f){if(a!==null){var g=a.memoizedProps;if(Mt(g,u)&&a.ref===n.ref)if(Qt=!1,n.pendingProps=u=g,Yi(a,f))(a.flags&131072)!==0&&(Qt=!0);else return n.lanes=a.lanes,dn(a,n,f)}return Vi(a,n,s,u,f)}function rf(a,n,s){var u=n.pendingProps,f=u.children,g=a!==null?a.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=g!==null?g.baseLanes|s:s,a!==null){for(f=n.child=a.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;n.childLanes=g&~u}else n.childLanes=0,n.child=null;return uf(a,n,u,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},a!==null&&Jl(n,g!==null?g.cachePool:null),g!==null?fa(n,g):hu(),I0(n);else return n.lanes=n.childLanes=536870912,uf(a,n,g!==null?g.baseLanes|s:s,s)}else g!==null?(Jl(n,g.cachePool),fa(n,g),Al(),n.memoizedState=null):(a!==null&&Jl(n,null),hu(),Al());return _a(a,n,f,s),n.child}function uf(a,n,s,u){var f=ys();return f=f===null?null:{parent:Hl?Ee._currentValue:Ee._currentValue2,pool:f},n.memoizedState={baseLanes:s,cachePool:f},a!==null&&Jl(n,null),hu(),I0(n),a!==null&&ya(a,n,u,!0),null}function As(a,n){var s=n.ref;if(s===null)a!==null&&a.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(A(284));(a===null||a.ref!==s)&&(n.flags|=4194816)}}function Vi(a,n,s,u,f){return va(n),s=Oo(a,n,s,u,void 0,f),u=ps(),a!==null&&!Qt?(bs(a,n,f),dn(a,n,f)):(he&&u&&X(n),n.flags|=1,_a(a,n,s,f),n.child)}function of(a,n,s,u,f,g){return va(n),n.updateQueue=null,s=Do(n,u,s,f),zo(a),u=ps(),a!==null&&!Qt?(bs(a,n,g),dn(a,n,g)):(he&&u&&X(n),n.flags|=1,_a(a,n,s,g),n.child)}function Ko(a,n,s,u,f){if(va(n),n.stateNode===null){var g=is,K=s.contextType;typeof K=="object"&&K!==null&&(g=Ft(K)),g=new s(u,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ze,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=u,g.state=n.memoizedState,g.refs={},dr(n),K=s.contextType,g.context=typeof K=="object"&&K!==null?Ft(K):is,g.state=n.memoizedState,K=s.getDerivedStateFromProps,typeof K=="function"&&(Xo(n,s,K,u),g.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(K=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),K!==g.state&&ze.enqueueReplaceState(g,g.state,null),Pn(n,u,g,f),Jn(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(a===null){g=n.stateNode;var et=n.memoizedProps,ct=Li(s,et);g.props=ct;var Et=g.context,Tt=s.contextType;K=is,typeof Tt=="object"&&Tt!==null&&(K=Ft(Tt));var Ot=s.getDerivedStateFromProps;Tt=typeof Ot=="function"||typeof g.getSnapshotBeforeUpdate=="function",et=n.pendingProps!==et,Tt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(et||Et!==K)&&Au(n,g,u,K),hl=!1;var Dt=n.memoizedState;g.state=Dt,Pn(n,u,g,f),Jn(),Et=n.memoizedState,et||Dt!==Et||hl?(typeof Ot=="function"&&(Xo(n,s,Ot,u),Et=n.memoizedState),(ct=hl||$0(n,s,ct,u,Dt,Et,K))?(Tt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=Et),g.props=u,g.state=Et,g.context=K,u=ct):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{g=n.stateNode,Mo(a,n),K=n.memoizedProps,Tt=Li(s,K),g.props=Tt,Ot=n.pendingProps,Dt=g.context,Et=s.contextType,ct=is,typeof Et=="object"&&Et!==null&&(ct=Ft(Et)),et=s.getDerivedStateFromProps,(Et=typeof et=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(K!==Ot||Dt!==ct)&&Au(n,g,u,ct),hl=!1,Dt=n.memoizedState,g.state=Dt,Pn(n,u,g,f),Jn();var Pt=n.memoizedState;K!==Ot||Dt!==Pt||hl||a!==null&&a.dependencies!==null&&Qe(a.dependencies)?(typeof et=="function"&&(Xo(n,s,et,u),Pt=n.memoizedState),(Tt=hl||$0(n,s,Tt,u,Dt,Pt,ct)||a!==null&&a.dependencies!==null&&Qe(a.dependencies))?(Et||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Pt,ct),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Pt,ct)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||K===a.memoizedProps&&Dt===a.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||K===a.memoizedProps&&Dt===a.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=Pt),g.props=u,g.state=Pt,g.context=ct,u=Tt):(typeof g.componentDidUpdate!="function"||K===a.memoizedProps&&Dt===a.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||K===a.memoizedProps&&Dt===a.memoizedState||(n.flags|=1024),u=!1)}return g=u,As(a,n),u=(n.flags&128)!==0,g||u?(g=n.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,a!==null&&u?(n.child=kl(n,a.child,null,f),n.child=kl(n,null,s,f)):_a(a,n,s,f),n.memoizedState=g.state,a=n.child):a=dn(a,n,f),a}function Qo(a,n,s,u){return zt(),n.flags|=256,_a(a,n,s,u),n.child}function zu(a){return{baseLanes:a,cachePool:Pl()}}function Du(a,n,s){return a=a!==null?a.childLanes&~s:0,n&&(a|=zn),a}function Zo(a,n,s){var u=n.pendingProps,f=!1,g=(n.flags&128)!==0,K;if((K=g)||(K=a!==null&&a.memoizedState===null?!1:(Kt.current&2)!==0),K&&(f=!0,n.flags&=-129),K=(n.flags&32)!==0,n.flags&=-33,a===null){if(he){if(f?ei(n):Al(),he){var et=na,ct;(ct=et)&&(et=kd(et,Se),et!==null?(n.memoizedState={dehydrated:et,treeContext:bi!==null?{id:Ln,overflow:dl}:null,retryLane:536870912,hydrationErrors:null},ct=B(18,null,null,0),ct.stateNode=et,ct.return=n,n.child=ct,Fe=n,na=null,ct=!0):ct=!1),ct||J(n)}if(et=n.memoizedState,et!==null&&(et=et.dehydrated,et!==null))return ao(et)?n.lanes=32:n.lanes=536870912,null;Ml(n)}return et=u.children,u=u.fallback,f?(Al(),f=n.mode,et=Ru({mode:"hidden",children:et},f),u=wn(u,f,s,null),et.return=n,u.return=n,et.sibling=u,n.child=et,f=n.child,f.memoizedState=zu(s),f.childLanes=Du(a,K,s),n.memoizedState=Ja,u):(ei(n),ai(n,et))}if(ct=a.memoizedState,ct!==null&&(et=ct.dehydrated,et!==null)){if(g)n.flags&256?(ei(n),n.flags&=-257,n=Fo(a,n,s)):n.memoizedState!==null?(Al(),n.child=a.child,n.flags|=128,n=null):(Al(),f=u.fallback,et=n.mode,u=Ru({mode:"visible",children:u.children},et),f=wn(f,et,s,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,kl(n,a.child,null,s),u=n.child,u.memoizedState=zu(s),u.childLanes=Du(a,K,s),n.memoizedState=Ja,n=f);else if(ei(n),ao(et))K=wf(et).digest,u=Error(A(419)),u.stack="",u.digest=K,qt({value:u,source:null,stack:null}),n=Fo(a,n,s);else if(Qt||ya(a,n,s,!1),K=(s&a.childLanes)!==0,Qt||K){if(K=ve,K!==null&&(u=s&-s,u=(u&42)!==0?1:Q(u),u=(u&(K.suspendedLanes|s))!==0?0:u,u!==0&&u!==ct.retryLane))throw ct.retryLane=u,We(a,u),za(K,a,u),ce;Kr(et)||Xe(),n=Fo(a,n,s)}else Kr(et)?(n.flags|=192,n.child=a.child,n=null):(a=ct.treeContext,nn&&(na=Mc(et),Fe=n,he=!0,Vn=null,Se=!1,a!==null&&(Za[un++]=Ln,Za[un++]=dl,Za[un++]=bi,Ln=a.id,dl=a.overflow,bi=n)),n=ai(n,u.children),n.flags|=4096);return n}return f?(Al(),f=u.fallback,et=n.mode,ct=a.child,g=ct.sibling,u=Rl(ct,{mode:"hidden",children:u.children}),u.subtreeFlags=ct.subtreeFlags&65011712,g!==null?f=Rl(g,f):(f=wn(f,et,s,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,et=a.child.memoizedState,et===null?et=zu(s):(ct=et.cachePool,ct!==null?(g=Hl?Ee._currentValue:Ee._currentValue2,ct=ct.parent!==g?{parent:g,pool:g}:ct):ct=Pl(),et={baseLanes:et.baseLanes|s,cachePool:ct}),f.memoizedState=et,f.childLanes=Du(a,K,s),n.memoizedState=Ja,u):(ei(n),s=a.child,a=s.sibling,s=Rl(s,{mode:"visible",children:u.children}),s.return=n,s.sibling=null,a!==null&&(K=n.deletions,K===null?(n.deletions=[a],n.flags|=16):K.push(a)),n.child=s,n.memoizedState=null,s)}function ai(a,n){return n=Ru({mode:"visible",children:n},a.mode),n.return=a,a.child=n}function Ru(a,n){return a=B(22,a,null,n),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Fo(a,n,s){return kl(n,a.child,null,s),a=ai(n,n.pendingProps.children),a.flags|=2,n.memoizedState=null,a}function cf(a,n,s){a.lanes|=n;var u=a.alternate;u!==null&&(u.lanes|=n),Vt(a.return,n,s)}function ju(a,n,s,u,f){var g=a.memoizedState;g===null?a.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=s,g.tailMode=f)}function Jo(a,n,s){var u=n.pendingProps,f=u.revealOrder,g=u.tail;if(_a(a,n,u.children,s),u=Kt.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=n.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&cf(a,s,n);else if(a.tag===19)cf(a,s,n);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break t;for(;a.sibling===null;){if(a.return===null||a.return===n)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}u&=1}switch(v(Kt,u),f){case"forwards":for(s=n.child,f=null;s!==null;)a=s.alternate,a!==null&&Tu(a)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),ju(n,!1,f,s,g);break;case"backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(a=f.alternate,a!==null&&Tu(a)===null){n.child=f;break}a=f.sibling,f.sibling=s,s=f,f=a}ju(n,!0,s,null,g);break;case"together":ju(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function dn(a,n,s){if(a!==null&&(n.dependencies=a.dependencies),sa|=n.lanes,(s&n.childLanes)===0)if(a!==null){if(ya(a,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(a!==null&&n.child!==a.child)throw Error(A(153));if(n.child!==null){for(a=n.child,s=Rl(a,a.pendingProps),n.child=s,s.return=n;a.sibling!==null;)a=a.sibling,s=s.sibling=Rl(a,a.pendingProps),s.return=n;s.sibling=null}return n.child}function Yi(a,n){return(a.lanes&n)!==0?!0:(a=a.dependencies,!!(a!==null&&Qe(a)))}function Bd(a,n,s){switch(n.tag){case 3:P(n,n.stateNode.containerInfo),jt(n,Ee,a.memoizedState.cache),zt();break;case 27:case 5:pt(n);break;case 4:P(n,n.stateNode.containerInfo);break;case 10:jt(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(ei(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Zo(a,n,s):(ei(n),a=dn(a,n,s),a!==null?a.sibling:null);ei(n);break;case 19:var f=(a.flags&128)!==0;if(u=(s&n.childLanes)!==0,u||(ya(a,n,s,!1),u=(s&n.childLanes)!==0),f){if(u)return Jo(a,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),v(Kt,Kt.current),u)break;return null;case 22:case 23:return n.lanes=0,rf(a,n,s);case 24:jt(n,Ee,a.memoizedState.cache)}return dn(a,n,s)}function _r(a,n,s){if(a!==null)if(a.memoizedProps!==n.pendingProps)Qt=!0;else{if(!Yi(a,s)&&(n.flags&128)===0)return Qt=!1,Bd(a,n,s);Qt=(a.flags&131072)!==0}else Qt=!1,he&&(n.flags&1048576)!==0&&R(n,Ks,n.index);switch(n.lanes=0,n.tag){case 16:t:{a=n.pendingProps;var u=n.elementType,f=u._init;if(u=f(u._payload),n.type=u,typeof u=="function")rc(u)?(a=Li(u,a),n.tag=1,n=Ko(null,n,u,a,s)):(n.tag=0,n=Vi(null,n,u,a,s));else{if(u!=null){if(f=u.$$typeof,f===rl){n.tag=11,n=nf(null,n,u,a,s);break t}else if(f===ul){n.tag=14,n=lf(null,n,u,a,s);break t}}throw n=M(u)||u,Error(A(306,n,""))}}return n;case 0:return Vi(a,n,n.type,n.pendingProps,s);case 1:return u=n.type,f=Li(u,n.pendingProps),Ko(a,n,u,f,s);case 3:t:{if(P(n,n.stateNode.containerInfo),a===null)throw Error(A(387));var g=n.pendingProps;f=n.memoizedState,u=f.element,Mo(a,n),Pn(n,g,null,s);var K=n.memoizedState;if(g=K.cache,jt(n,Ee,g),g!==f.cache&&Ce(n,[Ee],s,!0),Jn(),g=K.element,nn&&f.isDehydrated)if(f={element:g,isDehydrated:!1,cache:K.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Qo(a,n,g,s);break t}else if(g!==u){u=L(Error(A(424)),n),qt(u),n=Qo(a,n,g,s);break t}else for(nn&&(na=kf(n.stateNode.containerInfo),Fe=n,he=!0,Vn=null,Se=!0),s=Vc(n,null,g,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(zt(),g===u){n=dn(a,n,s);break t}_a(a,n,g,s)}n=n.child}return n;case 26:if(Ka)return As(a,n),a===null?(s=Fr(n.type,null,n.pendingProps,null))?n.memoizedState=s:he||(n.stateNode=fl(n.type,n.pendingProps,xi.current,n)):n.memoizedState=Fr(n.type,a.memoizedProps,n.pendingProps,a.memoizedState),null;case 27:if(le)return pt(n),a===null&&le&&he&&(u=n.stateNode=Jr(n.type,n.pendingProps,xi.current,Ye.current,!1),Fe=n,Se=!0,na=Xf(n.type,u,na)),_a(a,n,n.pendingProps.children,s),As(a,n),a===null&&(n.flags|=4194304),n.child;case 5:return a===null&&he&&(Xd(n.type,n.pendingProps,Ye.current),(f=u=na)&&(u=Kf(u,n.type,n.pendingProps,Se),u!==null?(n.stateNode=u,Fe=n,na=Yf(u),Se=!1,f=!0):f=!1),f||J(n)),pt(n),f=n.type,g=n.pendingProps,K=a!==null?a.memoizedProps:null,u=g.children,Gl(f,g)?u=null:K!==null&&Gl(f,K)&&(n.flags|=32),n.memoizedState!==null&&(f=Oo(a,n,Ud,null,null,s),Hl?cl._currentValue=f:cl._currentValue2=f),As(a,n),_a(a,n,u,s),n.child;case 6:return a===null&&he&&(Ys(n.pendingProps,Ye.current),(a=s=na)&&(s=Yd(s,n.pendingProps,Se),s!==null?(n.stateNode=s,Fe=n,na=null,a=!0):a=!1),a||J(n)),null;case 13:return Zo(a,n,s);case 4:return P(n,n.stateNode.containerInfo),u=n.pendingProps,a===null?n.child=kl(n,null,u,s):_a(a,n,u,s),n.child;case 11:return nf(a,n,n.type,n.pendingProps,s);case 7:return _a(a,n,n.pendingProps,s),n.child;case 8:return _a(a,n,n.pendingProps.children,s),n.child;case 12:return _a(a,n,n.pendingProps.children,s),n.child;case 10:return u=n.pendingProps,jt(n,n.type,u.value),_a(a,n,u.children,s),n.child;case 9:return f=n.type._context,u=n.pendingProps.children,va(n),f=Ft(f),u=u(f),n.flags|=1,_a(a,n,u,s),n.child;case 14:return lf(a,n,n.type,n.pendingProps,s);case 15:return sf(a,n,n.type,n.pendingProps,s);case 19:return Jo(a,n,s);case 31:return u=n.pendingProps,s=n.mode,u={mode:u.mode,children:u.children},a===null?(s=Ru(u,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Rl(a.child,u),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return rf(a,n,s);case 24:return va(n),u=Ft(Ee),a===null?(f=ys(),f===null&&(f=ve,g=qa(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=s),f=g),n.memoizedState={parent:u,cache:f},dr(n),jt(n,Ee,f)):((a.lanes&s)!==0&&(Mo(a,n),Pn(n,null,null,s),Jn()),f=a.memoizedState,g=n.memoizedState,f.parent!==u?(f={parent:u,cache:u},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),jt(n,Ee,u)):(u=g.cache,jt(n,Ee,u),u!==f.cache&&Ce(n,[Ee],s,!0))),_a(a,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(A(156,n.tag))}function $a(a){a.flags|=4}function Po(a,n){if(a!==null&&a.child===n.child)return!1;if((n.flags&16)!==0)return!0;for(a=n.child;a!==null;){if((a.flags&13878)!==0||(a.subtreeFlags&13878)!==0)return!0;a=a.sibling}return!1}function Er(a,n,s,u){if(re)for(s=n.child;s!==null;){if(s.tag===5||s.tag===6)Pe(a,s.stateNode);else if(!(s.tag===4||le&&s.tag===27)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}else if(ol)for(var f=n.child;f!==null;){if(f.tag===5){var g=f.stateNode;s&&u&&(g=Nc(g,f.type,f.memoizedProps)),Pe(a,g)}else if(f.tag===6)g=f.stateNode,s&&u&&(g=Cc(g,f.memoizedProps)),Pe(a,g);else if(f.tag!==4){if(f.tag===22&&f.memoizedState!==null)g=f.child,g!==null&&(g.return=f),Er(a,f,!0,!0);else if(f.child!==null){f.child.return=f,f=f.child;continue}}if(f===n)break;for(;f.sibling===null;){if(f.return===null||f.return===n)return;f=f.return}f.sibling.return=f.return,f=f.sibling}}function Uu(a,n,s,u){var f=!1;if(ol)for(var g=n.child;g!==null;){if(g.tag===5){var K=g.stateNode;s&&u&&(K=Nc(K,g.type,g.memoizedProps)),_c(a,K)}else if(g.tag===6)K=g.stateNode,s&&u&&(K=Cc(K,g.memoizedProps)),_c(a,K);else if(g.tag!==4){if(g.tag===22&&g.memoizedState!==null)f=g.child,f!==null&&(f.return=g),Uu(a,g,!0,!0),f=!0;else if(g.child!==null){g.child.return=g,g=g.child;continue}}if(g===n)break;for(;g.sibling===null;){if(g.return===null||g.return===n)return f;g=g.return}g.sibling.return=g.return,g=g.sibling}return f}function Wo(a,n){if(ol&&Po(a,n)){a=n.stateNode;var s=a.containerInfo,u=Sc();Uu(u,n,!1,!1),a.pendingChildren=u,$a(n),Bf(s,u)}}function Gu(a,n,s,u){if(re)a.memoizedProps!==u&&$a(n);else if(ol){var f=a.stateNode,g=a.memoizedProps;if((a=Po(a,n))||g!==u){var K=Ye.current;g=Xr(f,s,g,u,!a,null),g===f?n.stateNode=f:(Lr(g,s,u,K)&&$a(n),n.stateNode=g,a?Er(g,n,!1,!1):$a(n))}else n.stateNode=f}}function Hu(a,n,s){if(aa(n,s)){if(a.flags|=16777216,!$u(n,s))if(ku())a.flags|=8192;else throw on=Ea,go}else a.flags&=-16777217}function ff(a,n){if(Pf(n)){if(a.flags|=16777216,!Bl(n))if(ku())a.flags|=8192;else throw on=Ea,go}else a.flags&=-16777217}function Bu(a,n){n!==null&&(a.flags|=4),a.flags&16384&&(n=a.tag!==22?G():536870912,a.lanes|=n,Sn|=n)}function Nr(a,n){if(!he)switch(a.tailMode){case"hidden":n=a.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?a.tail=null:s.sibling=null;break;case"collapsed":s=a.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n||a.tail===null?a.tail=null:a.tail.sibling=null:u.sibling=null}}function Ze(a){var n=a.alternate!==null&&a.alternate.child===a.child,s=0,u=0;if(n)for(var f=a.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=a,f=f.sibling;else for(f=a.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=a,f=f.sibling;return a.subtreeFlags|=u,a.childLanes=s,n}function wd(a,n,s){var u=n.pendingProps;switch(nt(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(n),null;case 1:return Ze(n),null;case 3:return s=n.stateNode,u=null,a!==null&&(u=a.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),se(Ee),ft(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(a===null||a.child===null)&&(At(n)?$a(n):a===null||a.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bt())),Wo(a,n),Ze(n),null;case 26:if(Ka){s=n.type;var f=n.memoizedState;return a===null?($a(n),f!==null?(Ze(n),ff(n,f)):(Ze(n),Hu(n,s,u))):f?f!==a.memoizedState?($a(n),Ze(n),ff(n,f)):(Ze(n),n.flags&=-16777217):(re?a.memoizedProps!==u&&$a(n):Gu(a,n,s,u),Ze(n),Hu(n,s,u)),null}case 27:if(le){if(it(n),s=xi.current,f=n.type,a!==null&&n.stateNode!=null)re?a.memoizedProps!==u&&$a(n):Gu(a,n,f,u);else{if(!u){if(n.stateNode===null)throw Error(A(166));return Ze(n),null}a=Ye.current,At(n)?rt(n,a):(a=Jr(f,u,s,a,!0),n.stateNode=a,$a(n))}return Ze(n),null}case 5:if(it(n),s=n.type,a!==null&&n.stateNode!=null)Gu(a,n,s,u);else{if(!u){if(n.stateNode===null)throw Error(A(166));return Ze(n),null}a=Ye.current,At(n)?rt(n,a):(f=Me(s,u,xi.current,a,n),Er(f,n,!1,!1),n.stateNode=f,Lr(f,s,u,a)&&$a(n))}return Ze(n),Hu(n,n.type,n.pendingProps),null;case 6:if(a&&n.stateNode!=null)s=a.memoizedProps,re?s!==u&&$a(n):ol&&(s!==u?(n.stateNode=gi(u,xi.current,Ye.current,n),$a(n)):n.stateNode=a.stateNode);else{if(typeof u!="string"&&n.stateNode===null)throw Error(A(166));if(a=xi.current,s=Ye.current,At(n)){if(!nn)throw Error(A(176));if(a=n.stateNode,s=n.memoizedProps,u=null,f=Fe,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}Qr(a,s,n,u)||J(n)}else n.stateNode=gi(u,a,s,n)}return Ze(n),null;case 13:if(u=n.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(f=At(n),u!==null&&u.dehydrated!==null){if(a===null){if(!f)throw Error(A(318));if(!nn)throw Error(A(344));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(A(317));Oc(f,n)}else zt(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ze(n),f=!1}else f=Bt(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Ml(n),n):(Ml(n),null)}if(Ml(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=u!==null,a=a!==null&&a.memoizedState!==null,s){u=n.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return s!==a&&s&&(n.child.flags|=8192),Bu(n,n.updateQueue),Ze(n),null;case 4:return ft(),Wo(a,n),a===null&&xf(n.stateNode.containerInfo),Ze(n),null;case 10:return se(n.type),Ze(n),null;case 19:if(S(Kt),f=n.memoizedState,f===null)return Ze(n),null;if(u=(n.flags&128)!==0,g=f.rendering,g===null)if(u)Nr(f,!1);else{if(Je!==0||a!==null&&(a.flags&128)!==0)for(a=n.child;a!==null;){if(g=Tu(a),g!==null){for(n.flags|=128,Nr(f,!1),a=g.updateQueue,n.updateQueue=a,Bu(n,a),n.subtreeFlags=0,a=s,s=n.child;s!==null;)ea(s,a),s=s.sibling;return v(Kt,Kt.current&1|2),n.child}a=a.sibling}f.tail!==null&&Oe()>tr&&(n.flags|=128,u=!0,Nr(f,!1),n.lanes=4194304)}else{if(!u)if(a=Tu(g),a!==null){if(n.flags|=128,u=!0,a=a.updateQueue,n.updateQueue=a,Bu(n,a),Nr(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!he)return Ze(n),null}else 2*Oe()-f.renderingStartTime>tr&&s!==536870912&&(n.flags|=128,u=!0,Nr(f,!1),n.lanes=4194304);f.isBackwards?(g.sibling=n.child,n.child=g):(a=f.last,a!==null?a.sibling=g:n.child=g,f.last=g)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Oe(),n.sibling=null,a=Kt.current,v(Kt,u?a&1|2:a&1),n):(Ze(n),null);case 22:case 23:return Ml(n),gu(),u=n.memoizedState!==null,a!==null?a.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(s&536870912)!==0&&(n.flags&128)===0&&(Ze(n),n.subtreeFlags&6&&(n.flags|=8192)):Ze(n),s=n.updateQueue,s!==null&&Bu(n,s.retryQueue),s=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==s&&(n.flags|=2048),a!==null&&S(Ke),null;case 24:return s=null,a!==null&&(s=a.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),se(Ee),Ze(n),null;case 25:return null;case 30:return null}throw Error(A(156,n.tag))}function hn(a,n){switch(nt(n),n.tag){case 1:return a=n.flags,a&65536?(n.flags=a&-65537|128,n):null;case 3:return se(Ee),ft(),a=n.flags,(a&65536)!==0&&(a&128)===0?(n.flags=a&-65537|128,n):null;case 26:case 27:case 5:return it(n),null;case 13:if(Ml(n),a=n.memoizedState,a!==null&&a.dehydrated!==null){if(n.alternate===null)throw Error(A(340));zt()}return a=n.flags,a&65536?(n.flags=a&-65537|128,n):null;case 19:return S(Kt),null;case 4:return ft(),null;case 10:return se(n.type),null;case 22:case 23:return Ml(n),gu(),a!==null&&S(Ke),a=n.flags,a&65536?(n.flags=a&-65537|128,n):null;case 24:return se(Ee),null;case 25:return null;default:return null}}function Ms(a,n){switch(nt(n),n.tag){case 3:se(Ee),ft();break;case 26:case 27:case 5:it(n);break;case 4:ft();break;case 13:Ml(n);break;case 19:S(Kt);break;case 10:se(n.type);break;case 22:case 23:Ml(n),gu(),a!==null&&S(Ke);break;case 24:se(Ee)}}function Os(a,n){try{var s=n.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var f=u.next;s=f;do{if((s.tag&a)===a){u=void 0;var g=s.create,K=s.inst;u=g(),K.destroy=u}s=s.next}while(s!==f)}}catch(et){_e(n,n.return,et)}}function Ol(a,n,s){try{var u=n.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&a)===a){var K=u.inst,et=K.destroy;if(et!==void 0){K.destroy=void 0,f=n;var ct=s,Et=et;try{Et()}catch(Tt){_e(f,ct,Tt)}}}u=u.next}while(u!==g)}}catch(Tt){_e(n,n.return,Tt)}}function Io(a){var n=a.updateQueue;if(n!==null){var s=a.stateNode;try{Ui(n,s)}catch(u){_e(a,a.return,u)}}}function $o(a,n,s){s.props=Li(a.type,a.memoizedProps),s.state=a.memoizedState;try{s.componentWillUnmount()}catch(u){_e(a,n,u)}}function ki(a,n){try{var s=a.ref;if(s!==null){switch(a.tag){case 26:case 27:case 5:var u=ws(a.stateNode);break;case 30:u=a.stateNode;break;default:u=a.stateNode}typeof s=="function"?a.refCleanup=s(u):s.current=u}}catch(f){_e(a,n,f)}}function $n(a,n){var s=a.ref,u=a.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(f){_e(a,n,f)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){_e(a,n,f)}else s.current=null}function Xi(a){var n=a.type,s=a.memoizedProps,u=a.stateNode;try{xc(u,n,s,a)}catch(f){_e(a,a.return,f)}}function Cr(a,n,s){try{Of(a.stateNode,a.type,s,n,a)}catch(u){_e(a,a.return,u)}}function zs(a){return a.tag===5||a.tag===3||(Ka?a.tag===26:!1)||(le?a.tag===27&&ls(a.type):!1)||a.tag===4}function Tr(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||zs(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(le&&a.tag===27&&ls(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function wu(a,n,s){var u=a.tag;if(u===5||u===6)a=a.stateNode,n?Df(s,a,n):Af(s,a);else if(u!==4&&(le&&u===27&&ls(a.type)&&(s=a.stateNode,n=null),a=a.child,a!==null))for(wu(a,n,s),a=a.sibling;a!==null;)wu(a,n,s),a=a.sibling}function tl(a,n,s){var u=a.tag;if(u===5||u===6)a=a.stateNode,n?zf(s,a,n):Tf(s,a);else if(u!==4&&(le&&u===27&&ls(a.type)&&(s=a.stateNode),a=a.child,a!==null))for(tl(a,n,s),a=a.sibling;a!==null;)tl(a,n,s),a=a.sibling}function Ki(a,n,s){a=a.containerInfo;try{Ec(a,s)}catch(u){_e(n,n.return,u)}}function qu(a){var n=a.stateNode,s=a.memoizedProps;try{Uc(a.type,s,n,a)}catch(u){_e(a,a.return,u)}}function df(a,n){for(hi(a.containerInfo),te=n;te!==null;)if(a=te,n=a.child,(a.subtreeFlags&1024)!==0&&n!==null)n.return=a,te=n;else for(;te!==null;){a=te;var s=a.alternate;switch(n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&s!==null){n=void 0;var u=a,f=s.memoizedProps;s=s.memoizedState;var g=u.stateNode;try{var K=Li(u.type,f,u.elementType===u.type);n=g.getSnapshotBeforeUpdate(K,s),g.__reactInternalSnapshotBeforeUpdate=n}catch(et){_e(u,u.return,et)}}break;case 3:(n&1024)!==0&&re&&eo(a.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(A(163))}if(n=a.sibling,n!==null){n.return=a.return,te=n;break}te=a.return}}function ni(a,n,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:zl(a,s),u&4&&Os(5,s);break;case 1:if(zl(a,s),u&4)if(a=s.stateNode,n===null)try{a.componentDidMount()}catch(K){_e(s,s.return,K)}else{var f=Li(s.type,n.memoizedProps);n=n.memoizedState;try{a.componentDidUpdate(f,n,a.__reactInternalSnapshotBeforeUpdate)}catch(K){_e(s,s.return,K)}}u&64&&Io(s),u&512&&ki(s,s.return);break;case 3:if(zl(a,s),u&64&&(a=s.updateQueue,a!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=ws(s.child.stateNode);break;case 1:n=s.child.stateNode}try{Ui(a,n)}catch(K){_e(s,s.return,K)}}break;case 27:le&&n===null&&u&4&&qu(s);case 26:case 5:zl(a,s),n===null&&u&4&&Xi(s),u&512&&ki(s,s.return);break;case 12:zl(a,s);break;case 13:zl(a,s),u&4&&hf(a,s),u&64&&(a=s.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(s=Ra.bind(null,s),Tc(a,s))));break;case 22:if(u=s.memoizedState!==null||Ga,!u){n=n!==null&&n.memoizedState!==null||qe,f=Ga;var g=qe;Ga=u,(qe=n)&&!g?da(a,s,(s.subtreeFlags&8772)!==0):zl(a,s),Ga=f,qe=g}break;case 30:break;default:zl(a,s)}}function tc(a){var n=a.alternate;n!==null&&(a.alternate=null,tc(n)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(n=a.stateNode,n!==null&&ln(n)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function En(a,n,s){for(s=s.child;s!==null;)Lu(a,n,s),s=s.sibling}function Lu(a,n,s){if(Qa&&typeof Qa.onCommitFiberUnmount=="function")try{Qa.onCommitFiberUnmount(yi,s)}catch{}switch(s.tag){case 26:if(Ka){qe||$n(s,n),En(a,n,s),s.memoizedState?Rc(s.memoizedState):s.stateNode&&yn(s.stateNode);break}case 27:if(le){qe||$n(s,n);var u=Ge,f=ia;ls(s.type)&&(Ge=s.stateNode,ia=!1),En(a,n,s),io(s.stateNode),Ge=u,ia=f;break}case 5:qe||$n(s,n);case 6:if(re){if(u=Ge,f=ia,Ge=null,En(a,n,s),Ge=u,ia=f,Ge!==null)if(ia)try{jf(Ge,s.stateNode)}catch(g){_e(s,n,g)}else try{Rf(Ge,s.stateNode)}catch(g){_e(s,n,g)}}else En(a,n,s);break;case 18:re&&Ge!==null&&(ia?Jf(Ge,s.stateNode):lo(Ge,s.stateNode));break;case 4:re?(u=Ge,f=ia,Ge=s.stateNode.containerInfo,ia=!0,En(a,n,s),Ge=u,ia=f):(ol&&Ki(s.stateNode,s,Sc()),En(a,n,s));break;case 0:case 11:case 14:case 15:qe||Ol(2,s,n),qe||Ol(4,s,n),En(a,n,s);break;case 1:qe||($n(s,n),u=s.stateNode,typeof u.componentWillUnmount=="function"&&$o(s,n,u)),En(a,n,s);break;case 21:En(a,n,s);break;case 22:qe=(u=qe)||s.memoizedState!==null,En(a,n,s),qe=u;break;default:En(a,n,s)}}function hf(a,n){if(nn&&n.memoizedState===null&&(a=n.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ff(a)}catch(s){_e(n,n.return,s)}}function qd(a){switch(a.tag){case 13:case 19:var n=a.stateNode;return n===null&&(n=a.stateNode=new yl),n;case 22:return a=a.stateNode,n=a._retryCache,n===null&&(n=a._retryCache=new yl),n;default:throw Error(A(435,a.tag))}}function ec(a,n){var s=qd(a);n.forEach(function(u){var f=Fu.bind(null,a,u);s.has(u)||(s.add(u),u.then(f,f))})}function Ma(a,n){var s=n.deletions;if(s!==null)for(var u=0;u<s.length;u++){var f=s[u],g=a,K=n;if(re){var et=K;t:for(;et!==null;){switch(et.tag){case 27:if(le){if(ls(et.type)){Ge=et.stateNode,ia=!1;break t}break}case 5:Ge=et.stateNode,ia=!1;break t;case 3:case 4:Ge=et.stateNode.containerInfo,ia=!0;break t}et=et.return}if(Ge===null)throw Error(A(160));Lu(g,K,f),Ge=null,ia=!1}else Lu(g,K,f);g=f.alternate,g!==null&&(g.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ac(n,a),n=n.sibling}function ac(a,n){var s=a.alternate,u=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ma(n,a),Oa(a),u&4&&(Ol(3,a,a.return),Os(3,a),Ol(5,a,a.return));break;case 1:Ma(n,a),Oa(a),u&512&&(qe||s===null||$n(s,s.return)),u&64&&Ga&&(a=a.updateQueue,a!==null&&(u=a.callbacks,u!==null&&(s=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:if(Ka){var f=xn;if(Ma(n,a),Oa(a),u&512&&(qe||s===null||$n(s,s.return)),u&4){u=s!==null?s.memoizedState:null;var g=a.memoizedState;s===null?g===null?a.stateNode===null?a.stateNode=ks(f,a.type,a.memoizedProps,a):jc(f,a.type,a.stateNode):a.stateNode=Dc(f,g,a.memoizedProps):u!==g?(u===null?s.stateNode!==null&&yn(s.stateNode):Rc(u),g===null?jc(f,a.type,a.stateNode):Dc(f,g,a.memoizedProps)):g===null&&a.stateNode!==null&&Cr(a,a.memoizedProps,s.memoizedProps)}break}case 27:if(le){Ma(n,a),Oa(a),u&512&&(qe||s===null||$n(s,s.return)),s!==null&&u&4&&Cr(a,a.memoizedProps,s.memoizedProps);break}case 5:if(Ma(n,a),Oa(a),u&512&&(qe||s===null||$n(s,s.return)),re){if(a.flags&32){f=a.stateNode;try{Uf(f)}catch(Tt){_e(a,a.return,Tt)}}u&4&&a.stateNode!=null&&(f=a.memoizedProps,Cr(a,f,s!==null?s.memoizedProps:f)),u&1024&&(su=!0)}break;case 6:if(Ma(n,a),Oa(a),u&4&&re){if(a.stateNode===null)throw Error(A(162));u=a.memoizedProps,s=s!==null?s.memoizedProps:u,f=a.stateNode;try{Mf(f,s,u)}catch(Tt){_e(a,a.return,Tt)}}break;case 3:if(Ka?(mi(),f=xn,xn=ns(n.containerInfo),Ma(n,a),xn=f):Ma(n,a),Oa(a),u&4){if(re&&nn&&s!==null&&s.memoizedState.isDehydrated)try{Zf(n.containerInfo)}catch(Tt){_e(a,a.return,Tt)}if(ol){u=n.containerInfo,s=n.pendingChildren;try{Ec(u,s)}catch(Tt){_e(a,a.return,Tt)}}}su&&(su=!1,Nn(a));break;case 4:Ka?(s=xn,xn=ns(a.stateNode.containerInfo),Ma(n,a),Oa(a),xn=s):(Ma(n,a),Oa(a)),u&4&&ol&&Ki(a.stateNode,a,a.stateNode.pendingChildren);break;case 12:Ma(n,a),Oa(a);break;case 13:Ma(n,a),Oa(a),a.child.flags&8192&&a.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(yo=Oe()),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,ec(a,u)));break;case 22:f=a.memoizedState!==null;var K=s!==null&&s.memoizedState!==null,et=Ga,ct=qe;if(Ga=et||f,qe=ct||K,Ma(n,a),qe=ct,Ga=et,Oa(a),u&8192&&(n=a.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||K||Ga||qe||pa(a)),re)){t:if(s=null,re)for(n=a;;){if(n.tag===5||Ka&&n.tag===26){if(s===null){K=s=n;try{g=K.stateNode,f?Gf(g):to(K.stateNode,K.memoizedProps)}catch(Tt){_e(K,K.return,Tt)}}}else if(n.tag===6){if(s===null){K=n;try{var Et=K.stateNode;f?Vs(Et):Hf(Et,K.memoizedProps)}catch(Tt){_e(K,K.return,Tt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===a)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break t;for(;n.sibling===null;){if(n.return===null||n.return===a)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}}u&4&&(u=a.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,ec(a,s))));break;case 19:Ma(n,a),Oa(a),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,ec(a,u)));break;case 30:break;case 21:break;default:Ma(n,a),Oa(a)}}function Oa(a){var n=a.flags;if(n&2){try{if(re){for(var s,u=a.return;u!==null;){if(zs(u)){s=u;break}u=u.return}if(s==null)throw Error(A(160));switch(s.tag){case 27:if(le){var f=s.stateNode,g=Tr(a);tl(a,g,f);break}case 5:var K=s.stateNode;s.flags&32&&(Uf(K),s.flags&=-33);var et=Tr(a);tl(a,et,K);break;case 3:case 4:var ct=s.stateNode.containerInfo,Et=Tr(a);wu(a,Et,ct);break;default:throw Error(A(161))}}}catch(Tt){_e(a,a.return,Tt)}a.flags&=-3}n&4096&&(a.flags&=-4097)}function Nn(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var n=a;Nn(n),n.tag===5&&n.flags&1024&&vc(n.stateNode),a=a.sibling}}function zl(a,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ni(a,n.alternate,n),n=n.sibling}function pa(a){for(a=a.child;a!==null;){var n=a;switch(n.tag){case 0:case 11:case 14:case 15:Ol(4,n,n.return),pa(n);break;case 1:$n(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&$o(n,n.return,s),pa(n);break;case 27:le&&io(n.stateNode);case 26:case 5:$n(n,n.return),pa(n);break;case 22:n.memoizedState===null&&pa(n);break;case 30:pa(n);break;default:pa(n)}a=a.sibling}}function da(a,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,f=a,g=n,K=g.flags;switch(g.tag){case 0:case 11:case 15:da(f,g,s),Os(4,g);break;case 1:if(da(f,g,s),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Et){_e(u,u.return,Et)}if(u=g,f=u.updateQueue,f!==null){var et=u.stateNode;try{var ct=f.shared.hiddenCallbacks;if(ct!==null)for(f.shared.hiddenCallbacks=null,f=0;f<ct.length;f++)vs(ct[f],et)}catch(Et){_e(u,u.return,Et)}}s&&K&64&&Io(g),ki(g,g.return);break;case 27:le&&qu(g);case 26:case 5:da(f,g,s),s&&u===null&&K&4&&Xi(g),ki(g,g.return);break;case 12:da(f,g,s);break;case 13:da(f,g,s),s&&K&4&&hf(f,g);break;case 22:g.memoizedState===null&&da(f,g,s),ki(g,g.return);break;case 30:break;default:da(f,g,s)}n=n.sibling}}function li(a,n){var s=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==s&&(a!=null&&a.refCount++,s!=null&&He(s))}function Ar(a,n){a=null,n.alternate!==null&&(a=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==a&&(n.refCount++,a!=null&&He(a))}function gn(a,n,s,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mr(a,n,s,u),n=n.sibling}function Mr(a,n,s,u){var f=n.flags;switch(n.tag){case 0:case 11:case 15:gn(a,n,s,u),f&2048&&Os(9,n);break;case 1:gn(a,n,s,u);break;case 3:gn(a,n,s,u),f&2048&&(a=null,n.alternate!==null&&(a=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==a&&(n.refCount++,a!=null&&He(a)));break;case 12:if(f&2048){gn(a,n,s,u),a=n.stateNode;try{var g=n.memoizedProps,K=g.id,et=g.onPostCommit;typeof et=="function"&&et(K,n.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ct){_e(n,n.return,ct)}}else gn(a,n,s,u);break;case 13:gn(a,n,s,u);break;case 23:break;case 22:g=n.stateNode,K=n.alternate,n.memoizedState!==null?g._visibility&2?gn(a,n,s,u):el(a,n):g._visibility&2?gn(a,n,s,u):(g._visibility|=2,ii(a,n,s,u,(n.subtreeFlags&10256)!==0)),f&2048&&li(K,n);break;case 24:gn(a,n,s,u),f&2048&&Ar(n.alternate,n);break;default:gn(a,n,s,u)}}function ii(a,n,s,u,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var g=a,K=n,et=s,ct=u,Et=K.flags;switch(K.tag){case 0:case 11:case 15:ii(g,K,et,ct,f),Os(8,K);break;case 23:break;case 22:var Tt=K.stateNode;K.memoizedState!==null?Tt._visibility&2?ii(g,K,et,ct,f):el(g,K):(Tt._visibility|=2,ii(g,K,et,ct,f)),f&&Et&2048&&li(K.alternate,K);break;case 24:ii(g,K,et,ct,f),f&&Et&2048&&Ar(K.alternate,K);break;default:ii(g,K,et,ct,f)}n=n.sibling}}function el(a,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=a,u=n,f=u.flags;switch(u.tag){case 22:el(s,u),f&2048&&li(u.alternate,u);break;case 24:el(s,u),f&2048&&Ar(u.alternate,u);break;default:el(s,u)}n=n.sibling}}function si(a){if(a.subtreeFlags&Na)for(a=a.child;a!==null;)Or(a),a=a.sibling}function Or(a){switch(a.tag){case 26:si(a),a.flags&Na&&(a.memoizedState!==null?wl(xn,a.memoizedState,a.memoizedProps):kr(a.type,a.memoizedProps));break;case 5:si(a),a.flags&Na&&kr(a.type,a.memoizedProps);break;case 3:case 4:if(Ka){var n=xn;xn=ns(a.stateNode.containerInfo),si(a),xn=n}else si(a);break;case 22:a.memoizedState===null&&(n=a.alternate,n!==null&&n.memoizedState!==null?(n=Na,Na=16777216,si(a),Na=n):si(a));break;default:si(a)}}function Qi(a){var n=a.alternate;if(n!==null&&(a=n.child,a!==null)){n.child=null;do n=a.sibling,a.sibling=null,a=n;while(a!==null)}}function zr(a){var n=a.deletions;if((a.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var u=n[s];te=u,al(u,a)}Qi(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)tn(a),a=a.sibling}function tn(a){switch(a.tag){case 0:case 11:case 15:zr(a),a.flags&2048&&Ol(9,a,a.return);break;case 3:zr(a);break;case 12:zr(a);break;case 22:var n=a.stateNode;a.memoizedState!==null&&n._visibility&2&&(a.return===null||a.return.tag!==13)?(n._visibility&=-3,Ds(a)):zr(a);break;default:zr(a)}}function Ds(a){var n=a.deletions;if((a.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var u=n[s];te=u,al(u,a)}Qi(a)}for(a=a.child;a!==null;){switch(n=a,n.tag){case 0:case 11:case 15:Ol(8,n,n.return),Ds(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ds(n));break;default:Ds(n)}a=a.sibling}}function al(a,n){for(;te!==null;){var s=te;switch(s.tag){case 0:case 11:case 15:Ol(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:He(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,te=u;else t:for(s=a;te!==null;){u=te;var f=u.sibling,g=u.return;if(tc(u),u===s){te=null;break t}if(f!==null){f.return=g,te=f;break t}te=g}}}function Vu(a){var n=bf(a);if(n!=null){if(typeof n.memoizedProps["data-testname"]!="string")throw Error(A(364));return n}if(a=_f(a),a===null)throw Error(A(362));return a.stateNode.current}function Rs(a,n){var s=a.tag;switch(n.$$typeof){case Ci:if(a.type===n.value)return!0;break;case Ca:t:{for(n=n.value,a=[a,0],s=0;s<a.length;){var u=a[s++],f=u.tag,g=a[s++],K=n[g];if(f!==5&&f!==26&&f!==27||!Ls(u)){for(;K!=null&&Rs(u,K);)g++,K=n[g];if(g===n.length){n=!0;break t}else for(u=u.child;u!==null;)a.push(u,g),u=u.sibling}}n=!1}return n;case Is:if((s===5||s===26||s===27)&&bc(a.stateNode,n.value))return!0;break;case os:if((s===5||s===6||s===26||s===27)&&(a=Nf(a),a!==null&&0<=a.indexOf(n.value)))return!0;break;case $s:if((s===5||s===26||s===27)&&(a=a.memoizedProps["data-testname"],typeof a=="string"&&a.toLowerCase()===n.value.toLowerCase()))return!0;break;default:throw Error(A(365))}return!1}function Dl(a){switch(a.$$typeof){case Ci:return"<"+(M(a.value)||"Unknown")+">";case Ca:return":has("+(Dl(a)||"")+")";case Is:return'[role="'+a.value+'"]';case os:return'"'+a.value+'"';case $s:return'[data-testname="'+a.value+'"]';default:throw Error(A(365))}}function Yu(a,n){var s=[];a=[a,0];for(var u=0;u<a.length;){var f=a[u++],g=f.tag,K=a[u++],et=n[K];if(g!==5&&g!==26&&g!==27||!Ls(f)){for(;et!=null&&Rs(f,et);)K++,et=n[K];if(K===n.length)s.push(f);else for(f=f.child;f!==null;)a.push(f,K),f=f.sibling}}return s}function Dr(a,n){if(!qs)throw Error(A(363));a=Vu(a),a=Yu(a,n),n=[],a=Array.from(a);for(var s=0;s<a.length;){var u=a[s++],f=u.tag;if(f===5||f===26||f===27)Ls(u)||n.push(u.stateNode);else for(u=u.child;u!==null;)a.push(u),u=u.sibling}return n}function ba(){if((Lt&2)!==0&&ee!==0)return ee&-ee;if(wt.T!==null){var a=Be;return a!==0?a:La()}return gc()}function Zi(){zn===0&&(zn=(ee&536870912)===0||he?U():536870912);var a=On.current;return a!==null&&(a.flags|=32),zn}function za(a,n,s){(a===ve&&(Ne===2||Ne===9)||a.cancelPendingCommit!==null)&&(Tn(a,0),en(a,ee,zn,!1)),W(a,s),((Lt&2)===0||a!==ve)&&(a===ve&&((Lt&2)===0&&(Mi|=s),Je===4&&en(a,ee,zn,!1)),me(a))}function Rr(a,n,s){if((Lt&6)!==0)throw Error(A(327));var u=!s&&(n&124)===0&&(n&a.expiredLanes)===0||N(a,n),f=u?ll(a,n):ye(a,n,!0),g=u;do{if(f===0){vl&&!u&&en(a,n,0,!1);break}else{if(s=a.current.alternate,g&&!Cn(s)){f=ye(a,n,!1),g=!1;continue}if(f===2){if(g=n,a.errorRecoveryDisabledLanes&g)var K=0;else K=a.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){n=K;t:{var et=a;f=Oi;var ct=nn&&et.current.memoizedState.isDehydrated;if(ct&&(Tn(et,K).flags|=256),K=ye(et,K,!1),K!==2){if(ru&&!ct){et.errorRecoveryDisabledLanes|=g,Mi|=g,f=4;break t}g=Ha,Ha=f,g!==null&&(Ha===null?Ha=g:Ha.push.apply(Ha,g))}f=K}if(g=!1,f!==2)continue}}if(f===1){Tn(a,0),en(a,n,0,!0);break}t:{switch(u=a,g=f,g){case 0:case 1:throw Error(A(345));case 4:if((n&4194048)!==n)break;case 6:en(u,n,zn,!Xl);break t;case 2:Ha=null;break;case 3:case 5:break;default:throw Error(A(329))}if((n&62914560)===n&&(f=yo+300-Oe(),10<f)){if(en(u,n,zn,!Xl),V(u,0,!0)!==0)break t;u.timeoutHandle=Iu(mn.bind(null,u,s,Ha,uu,zi,n,zn,Mi,Sn,Xl,g,2,-0,0),f);break t}mn(u,s,Ha,uu,zi,n,zn,Mi,Sn,Xl,g,0,-0,0)}}break}while(!0);me(a)}function mn(a,n,s,u,f,g,K,et,ct,Et,Tt,Ot,Dt,Pt){if(a.timeoutHandle=Mn,Ot=n.subtreeFlags,(Ot&8192||(Ot&16785408)===16785408)&&(Yr(),Or(n),Ot=yc(),Ot!==null)){a.cancelPendingCommit=Ot(sc.bind(null,a,n,g,s,u,f,K,et,ct,Tt,1,Dt,Pt)),en(a,g,K,!Et);return}sc(a,n,g,s,u,f,K,et,ct)}function Cn(a){for(var n=a;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var f=s[u],g=f.getSnapshot;f=f.value;try{if(!vn(g(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===a)break;for(;n.sibling===null;){if(n.return===null||n.return===a)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function en(a,n,s,u){n&=~mo,n&=~Mi,a.suspendedLanes|=n,a.pingedLanes&=~n,u&&(a.warmLanes|=n),u=a.expirationTimes;for(var f=n;0<f;){var g=31-rn(f),K=1<<g;u[g]=-1,f&=~K}s!==0&&q(a,s,n)}function nl(){return(Lt&6)===0?(De(0),!1):!0}function Bn(){if(Jt!==null){if(Ne===0)var a=Jt.return;else a=Jt,ja=Yn=null,Hn(a),gl=null,Ps=0,a=Jt;for(;a!==null;)Ms(a.alternate,a),a=a.return;Jt=null}}function Tn(a,n){var s=a.timeoutHandle;s!==Mn&&(a.timeoutHandle=Mn,Vr(s)),s=a.cancelPendingCommit,s!==null&&(a.cancelPendingCommit=null,s()),Bn(),ve=a,Jt=s=Rl(a.current,null),ee=n,Ne=0,Pa=null,Xl=!1,vl=N(a,n),ru=!1,Sn=zn=mo=Mi=sa=Je=0,Ha=Oi=null,zi=!1,(n&8)!==0&&(n|=n&32);var u=a.entangledLanes;if(u!==0)for(a=a.entanglements,u&=n;0<u;){var f=31-rn(u),g=1<<f;n|=a[f],u&=~g}return $e=n,fr(),s}function nc(a,n){Wt=null,wt.H=Ni,n===Fs||n===Ue?(n=cu(),Ne=3):n===go?(n=cu(),Ne=4):Ne=n===ce?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pa=n,Jt===null&&(Je=1,Mu(a,L(n,a.current)))}function ku(){var a=On.current;return a===null?!0:(ee&4194048)===ee?ml===null:(ee&62914560)===ee||(ee&536870912)!==0?a===ml:!1}function Xu(){var a=wt.H;return wt.H=Ni,a===null?Ni:a}function Da(){var a=wt.A;return wt.A=Ws,a}function Xe(){Je=4,Xl||(ee&4194048)!==ee&&On.current!==null||(vl=!0),(sa&134217727)===0&&(Mi&134217727)===0||ve===null||en(ve,ee,zn,!1)}function ye(a,n,s){var u=Lt;Lt|=2;var f=Xu(),g=Da();(ve!==a||ee!==n)&&(uu=null,Tn(a,n)),n=!1;var K=Je;t:do try{if(Ne!==0&&Jt!==null){var et=Jt,ct=Pa;switch(Ne){case 8:Bn(),K=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(n=!0);var Et=Ne;if(Ne=0,Pa=null,Ji(a,et,ct,Et),s&&vl){K=0;break t}break;default:Et=Ne,Ne=0,Pa=null,Ji(a,et,ct,Et)}}Fi(),K=Je;break}catch(Tt){nc(a,Tt)}while(!0);return n&&a.shellSuspendCounter++,ja=Yn=null,Lt=u,wt.H=f,wt.A=g,Jt===null&&(ve=null,ee=0,fr()),K}function Fi(){for(;Jt!==null;)ri(Jt)}function ll(a,n){var s=Lt;Lt|=2;var u=Xu(),f=Da();ve!==a||ee!==n?(uu=null,tr=Oe()+500,Tn(a,n)):vl=N(a,n);t:do try{if(Ne!==0&&Jt!==null){n=Jt;var g=Pa;e:switch(Ne){case 1:Ne=0,Pa=null,Ji(a,n,g,1);break;case 2:case 9:if(ta(g)){Ne=0,Pa=null,ic(n);break}n=function(){Ne!==2&&Ne!==9||ve!==a||(Ne=7),me(a)},g.then(n,n);break t;case 3:Ne=7;break t;case 4:Ne=5;break t;case 7:ta(g)?(Ne=0,Pa=null,ic(n)):(Ne=0,Pa=null,Ji(a,n,g,7));break;case 5:var K=null;switch(Jt.tag){case 26:K=Jt.memoizedState;case 5:case 27:var et=Jt,ct=et.type,Et=et.pendingProps;if(K?Bl(K):$u(ct,Et)){Ne=0,Pa=null;var Tt=et.sibling;if(Tt!==null)Jt=Tt;else{var Ot=et.return;Ot!==null?(Jt=Ot,ui(Ot)):Jt=null}break e}}Ne=0,Pa=null,Ji(a,n,g,5);break;case 6:Ne=0,Pa=null,Ji(a,n,g,6);break;case 8:Bn(),Je=6;break t;default:throw Error(A(462))}}lc();break}catch(Dt){nc(a,Dt)}while(!0);return ja=Yn=null,wt.H=u,wt.A=f,Lt=s,Jt!==null?0:(ve=null,ee=0,fr(),Je)}function lc(){for(;Jt!==null&&!Kd();)ri(Jt)}function ri(a){var n=_r(a.alternate,a,$e);a.memoizedProps=a.pendingProps,n===null?ui(a):Jt=n}function ic(a){var n=a,s=n.alternate;switch(n.tag){case 15:case 0:n=of(s,n,n.pendingProps,n.type,void 0,ee);break;case 11:n=of(s,n,n.pendingProps,n.type.render,n.ref,ee);break;case 5:Hn(n);default:Ms(s,n),n=Jt=ea(n,$e),n=_r(s,n,$e)}a.memoizedProps=a.pendingProps,n===null?ui(a):Jt=n}function Ji(a,n,s,u){ja=Yn=null,Hn(n),gl=null,Ps=0;var f=n.return;try{if(Hd(a,f,n,s,ee)){Je=1,Mu(a,L(s,a.current)),Jt=null;return}}catch(g){if(f!==null)throw Jt=f,g;Je=1,Mu(a,L(s,a.current)),Jt=null;return}n.flags&32768?(he||u===1?a=!0:vl||(ee&536870912)!==0?a=!1:(Xl=a=!0,(u===2||u===9||u===3||u===6)&&(u=On.current,u!==null&&u.tag===13&&(u.flags|=16384))),js(n,a)):ui(n)}function ui(a){var n=a;do{if((n.flags&32768)!==0){js(n,Xl);return}a=n.return;var s=wd(n.alternate,n,$e);if(s!==null){Jt=s;return}if(n=n.sibling,n!==null){Jt=n;return}Jt=n=a}while(n!==null);Je===0&&(Je=5)}function js(a,n){do{var s=hn(a.alternate,a);if(s!==null){s.flags&=32767,Jt=s;return}if(s=a.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(a=a.sibling,a!==null)){Jt=a;return}Jt=a=s}while(a!==null);Je=6,Jt=null}function sc(a,n,s,u,f,g,K,et,ct){a.cancelPendingCommit=null;do An();while(ha!==0);if((Lt&6)!==0)throw Error(A(327));if(n!==null){if(n===a.current)throw Error(A(177));if(g=n.lanes|n.childLanes,g|=qc,D(a,s,g,K,et,ct),a===ve&&(Jt=ve=null,ee=0),er=n,Di=a,ar=s,vo=g,po=f,cs=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,gf(uo,function(){return sl(),null})):(a.callbackNode=null,a.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=wt.T,wt.T=null,f=qn(),xa(2),K=Lt,Lt|=4;try{df(a,n,s)}finally{Lt=K,xa(f),wt.T=u}}ha=1,Us(),Ku(),oi()}}function Us(){if(ha===1){ha=0;var a=Di,n=er,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=wt.T,wt.T=null;var u=qn();xa(2);var f=Lt;Lt|=4;try{ac(n,a),$t(a.containerInfo)}finally{Lt=f,xa(u),wt.T=s}}a.current=n,ha=2}}function Ku(){if(ha===2){ha=0;var a=Di,n=er,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=wt.T,wt.T=null;var u=qn();xa(2);var f=Lt;Lt|=4;try{ni(a,n.alternate,n)}finally{Lt=f,xa(u),wt.T=s}}ha=3}}function oi(){if(ha===4||ha===3){ha=0,If();var a=Di,n=er,s=ar,u=cs;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ha=5:(ha=0,er=Di=null,il(a,a.pendingLanes));var f=a.pendingLanes;if(f===0&&(pl=null),F(s),n=n.stateNode,Qa&&typeof Qa.onCommitFiberRoot=="function")try{Qa.onCommitFiberRoot(yi,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=wt.T,f=qn(),xa(2),wt.T=null;try{for(var g=a.onRecoverableError,K=0;K<u.length;K++){var et=u[K];g(et.value,{componentStack:et.stack})}}finally{wt.T=n,xa(f)}}(ar&3)!==0&&An(),me(a),f=a.pendingLanes,(s&4194090)!==0&&(f&42)!==0?a===bo?Ri++:(Ri=0,bo=a):Ri=0,De(0)}}function il(a,n){(a.pooledCacheLanes&=n)===0&&(n=a.pooledCache,n!=null&&(a.pooledCache=null,He(n)))}function An(a){return Us(),Ku(),oi(),sl()}function sl(){if(ha!==5)return!1;var a=Di,n=vo;vo=0;var s=F(ar),u=32>s?32:s;s=wt.T;var f=qn();try{xa(u),wt.T=null,u=po,po=null;var g=Di,K=ar;if(ha=0,er=Di=null,ar=0,(Lt&6)!==0)throw Error(A(331));var et=Lt;if(Lt|=4,tn(g.current),Mr(g,g.current,K,u),Lt=et,De(0,!1),Qa&&typeof Qa.onPostCommitFiberRoot=="function")try{Qa.onPostCommitFiberRoot(yi,g)}catch{}return!0}finally{xa(f),wt.T=s,il(a,n)}}function Qu(a,n,s){n=L(s,n),n=Ou(a.stateNode,n,2),a=Sl(a,n,2),a!==null&&(W(a,2),me(a))}function _e(a,n,s){if(a.tag===3)Qu(a,a,s);else for(;n!==null;){if(n.tag===3){Qu(n,a,s);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(pl===null||!pl.has(u))){a=L(s,a),s=ef(2),u=Sl(n,s,2),u!==null&&(af(s,u,n,a),W(u,2),me(u));break}}n=n.return}}function Pi(a,n,s){var u=a.pingCache;if(u===null){u=a.pingCache=new Ai;var f=new Set;u.set(n,f)}else f=u.get(n),f===void 0&&(f=new Set,u.set(n,f));f.has(s)||(ru=!0,f.add(s),a=Zu.bind(null,a,n,s),n.then(a,a))}function Zu(a,n,s){var u=a.pingCache;u!==null&&u.delete(n),a.pingedLanes|=a.suspendedLanes&s,a.warmLanes&=~s,ve===a&&(ee&s)===s&&(Je===4||Je===3&&(ee&62914560)===ee&&300>Oe()-yo?(Lt&2)===0&&Tn(a,0):mo|=s,Sn===ee&&(Sn=0)),me(a)}function ci(a,n){n===0&&(n=G()),a=We(a,n),a!==null&&(W(a,n),me(a))}function Ra(a){var n=a.memoizedState,s=0;n!==null&&(s=n.retryLane),ci(a,s)}function Fu(a,n){var s=0;switch(a.tag){case 13:var u=a.stateNode,f=a.memoizedState;f!==null&&(s=f.retryLane);break;case 19:u=a.stateNode;break;case 22:u=a.stateNode._retryCache;break;default:throw Error(A(314))}u!==null&&u.delete(n),ci(a,s)}function gf(a,n){return Wr(a,n)}function Ld(a,n,s,u){this.tag=a,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rc(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Rl(a,n){var s=a.alternate;return s===null?(s=B(a.tag,n,a.key,a.mode),s.elementType=a.elementType,s.type=a.type,s.stateNode=a.stateNode,s.alternate=a,a.alternate=s):(s.pendingProps=n,s.type=a.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=a.flags&65011712,s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=a.sibling,s.index=a.index,s.ref=a.ref,s.refCleanup=a.refCleanup,s}function ea(a,n){a.flags&=65011714;var s=a.alternate;return s===null?(a.childLanes=0,a.lanes=n,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,n=s.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a}function Gs(a,n,s,u,f,g){var K=0;if(u=a,typeof a=="function")rc(a)&&(K=1);else if(typeof a=="string")K=Ka&&le?Zr(a,s,Ye.current)?26:Gc(a)?27:5:Ka?Zr(a,s,Ye.current)?26:5:le&&Gc(a)?27:5;else t:switch(a){case as:return a=B(31,s,n,f),a.elementType=as,a.lanes=g,a;case es:return wn(s.children,f,g,n);case Ur:K=8,f|=24;break;case Pu:return a=B(12,s,n,f|2),a.elementType=Pu,a.lanes=g,a;case Hr:return a=B(13,s,n,f),a.elementType=Hr,a.lanes=g,a;case Br:return a=B(19,s,n,f),a.elementType=Br,a.lanes=g,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Gr:case Ul:K=10;break t;case cc:K=9;break t;case rl:K=11;break t;case ul:K=14;break t;case Xa:K=16,u=null;break t}K=29,s=Error(A(130,a===null?"null":typeof a,"")),u=null}return n=B(K,s,n,f),n.elementType=a,n.type=u,n.lanes=g,n}function wn(a,n,s,u){return a=B(7,a,u,n),a.lanes=s,a}function Wi(a,n,s){return a=B(6,a,null,n),a.lanes=s,a}function jr(a,n,s){return n=B(4,a.children!==null?a.children:[],a.key,n),n.lanes=s,n.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},n}function Hs(a,n,s,u,f,g,K,et){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Mn,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Y(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y(0),this.hiddenUpdates=Y(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=et,this.incompleteTransitions=new Map}function Ii(a,n,s,u,f,g,K,et,ct,Et,Tt,Ot){return a=new Hs(a,n,s,K,et,ct,Et,Ot),n=1,g===!0&&(n|=24),g=B(3,null,null,n),a.current=g,g.stateNode=a,n=qa(),n.refCount++,a.pooledCache=n,n.refCount++,g.memoizedState={element:u,isDehydrated:s,cache:n},dr(g),a}function mf(a){return a?(a=is,a):is}function uc(a){var n=a._reactInternals;if(n===void 0)throw typeof a.render=="function"?Error(A(188)):(a=Object.keys(a).join(","),Error(A(268,a)));return a=m(n),a=a!==null?x(a):null,a===null?null:ws(a.stateNode)}function yf(a,n,s,u,f,g){f=mf(f),u.context===null?u.context=f:u.pendingContext=f,u=Wl(n),u.payload={element:s},g=g===void 0?null:g,g!==null&&(u.callback=g),s=Sl(a,u,n),s!==null&&(za(s,a,n),_l(s,a,n))}function oc(a,n){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var s=a.retryLane;a.retryLane=s!==0&&s<n?s:n}}function jl(a,n){oc(a,n),(a=a.alternate)&&oc(a,n)}var It={},Ju=Od(),an=Xh(),$i=Object.assign,vf=Symbol.for("react.element"),ts=Symbol.for("react.transitional.element"),fi=Symbol.for("react.portal"),es=Symbol.for("react.fragment"),Ur=Symbol.for("react.strict_mode"),Pu=Symbol.for("react.profiler"),Gr=Symbol.for("react.provider"),cc=Symbol.for("react.consumer"),Ul=Symbol.for("react.context"),rl=Symbol.for("react.forward_ref"),Hr=Symbol.for("react.suspense"),Br=Symbol.for("react.suspense_list"),ul=Symbol.for("react.memo"),Xa=Symbol.for("react.lazy"),as=Symbol.for("react.activity"),fc=Symbol.for("react.memo_cache_sentinel"),Wu=Symbol.iterator,wr=Symbol.for("react.client.reference"),di=Array.isArray,wt=Ju.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pf=d.rendererVersion,Bs=d.rendererPackageName,qr=d.extraDevToolsConfig,ws=d.getPublicInstance,dc=d.getRootHostContext,hc=d.getChildHostContext,hi=d.prepareForCommit,$t=d.resetAfterCommit,Me=d.createInstance;d.cloneMutableInstance;var Pe=d.appendInitialChild,Lr=d.finalizeInitialChildren,Gl=d.shouldSetTextContent,gi=d.createTextInstance;d.cloneMutableTextInstance;var Iu=d.scheduleTimeout,Vr=d.cancelTimeout,Mn=d.noTimeout,Hl=d.isPrimaryRenderer;d.warnsIfNotActing;var re=d.supportsMutation,ol=d.supportsPersistence,nn=d.supportsHydration,bf=d.getInstanceFromNode;d.beforeActiveInstanceBlur;var xf=d.preparePortalMount;d.prepareScopeUpdate,d.getInstanceFromScope;var xa=d.setCurrentUpdatePriority,qn=d.getCurrentUpdatePriority,gc=d.resolveUpdatePriority;d.trackSchedulerEvent,d.resolveEventType,d.resolveEventTimeStamp;var mc=d.shouldAttemptEagerTransition,ln=d.detachDeletedInstance;d.requestPostPaintCallback;var aa=d.maySuspendCommit,$u=d.preloadInstance,Yr=d.startSuspendingCommit,kr=d.suspendInstance;d.suspendOnActiveViewTransition;var yc=d.waitForCommitToBeReady,sn=d.NotPendingTransition,cl=d.HostTransitionContext,vc=d.resetFormInstance;d.bindToConsole;var pc=d.supportsMicrotasks,Sf=d.scheduleMicrotask,qs=d.supportsTestSelectors,_f=d.findFiberRoot,Ef=d.getBoundingRect,Nf=d.getTextContent,Ls=d.isHiddenSubtree,bc=d.matchAccessibilityRole,Cf=d.setFocusIfFocusable,Vd=d.setupIntersectionObserver,Tf=d.appendChild,Af=d.appendChildToContainer,Mf=d.commitTextUpdate,xc=d.commitMount,Of=d.commitUpdate,zf=d.insertBefore,Df=d.insertInContainerBefore,Rf=d.removeChild,jf=d.removeChildFromContainer,Uf=d.resetTextContent,Gf=d.hideInstance,Vs=d.hideTextInstance,to=d.unhideInstance,Hf=d.unhideTextInstance;d.cancelViewTransitionName,d.cancelRootViewTransitionName,d.restoreRootViewTransitionName,d.cloneRootViewTransitionContainer,d.removeRootViewTransitionClone,d.measureClonedInstance,d.hasInstanceChanged,d.hasInstanceAffectedParent,d.startViewTransition,d.startGestureTransition,d.stopGestureTransition,d.getCurrentGestureOffset,d.subscribeToGestureDirection,d.createViewTransitionInstance;var eo=d.clearContainer;d.createFragmentInstance,d.updateFragmentInstanceFiber,d.commitNewChildToFragmentInstance,d.deleteChildFromFragmentInstance;var Xr=d.cloneInstance,Sc=d.createContainerChildSet,_c=d.appendChildToContainerChildSet,Bf=d.finalizeContainerChildren,Ec=d.replaceContainerChildren,Nc=d.cloneHiddenInstance,Cc=d.cloneHiddenTextInstance,Kr=d.isSuspenseInstancePending,ao=d.isSuspenseInstanceFallback,wf=d.getSuspenseInstanceFallbackErrorDetails,Tc=d.registerSuspenseInstanceRetry,qf=d.canHydrateFormStateMarker,Lf=d.isFormStateMarkerMatching,Vf=d.getNextHydratableSibling,Ac=d.getNextHydratableSiblingAfterSingleton,Yf=d.getFirstHydratableChild,kf=d.getFirstHydratableChildWithinContainer,Mc=d.getFirstHydratableChildWithinSuspenseInstance,Xf=d.getFirstHydratableChildWithinSingleton,Kf=d.canHydrateInstance,Yd=d.canHydrateTextInstance,kd=d.canHydrateSuspenseInstance,Qf=d.hydrateInstance,Qr=d.hydrateTextInstance,Oc=d.hydrateSuspenseInstance,no=d.getNextHydratableInstanceAfterSuspenseInstance,Zf=d.commitHydratedContainer,Ff=d.commitHydratedSuspenseInstance,lo=d.clearSuspenseBoundary,Jf=d.clearSuspenseBoundaryFromContainer,zc=d.shouldDeleteUnhydratedTailInstances;d.diffHydratedPropsForDevWarnings,d.diffHydratedTextForDevWarnings,d.describeHydratableInstanceForDevWarnings;var Xd=d.validateHydratableInstance,Ys=d.validateHydratableTextInstance,Ka=d.supportsResources,Zr=d.isHostHoistableType,ns=d.getHoistableRoot,Fr=d.getResource,Dc=d.acquireResource,Rc=d.releaseResource,ks=d.hydrateHoistable,jc=d.mountHoistable,yn=d.unmountHoistable,fl=d.createHoistableInstance,mi=d.prepareToCommitHoistables,Pf=d.mayResourceSuspendCommit,Bl=d.preloadResource,wl=d.suspendResource,le=d.supportsSingletons,Jr=d.resolveSingletonInstance,Uc=d.acquireSingletonInstance,io=d.releaseSingletonInstance,Gc=d.isHostSingletonType,ls=d.isSingletonScope,ql=[],Ll=-1,is={},rn=Math.clz32?Math.clz32:z,Wf=Math.log,so=Math.LN2,Pr=256,Xs=4194304,Wr=an.unstable_scheduleCallback,ro=an.unstable_cancelCallback,Kd=an.unstable_shouldYield,If=an.unstable_requestPaint,Oe=an.unstable_now,Sa=an.unstable_ImmediatePriority,$f=an.unstable_UserBlockingPriority,uo=an.unstable_NormalPriority,td=an.unstable_IdlePriority,ed=an.log,ad=an.unstable_setDisableYieldValue,yi=null,Qa=null,oo,Hc,co=!1,fo=new WeakMap,vi=[],pi=0,Ir=null,Ks=0,Za=[],un=0,bi=null,Ln=1,dl="",Ye=T(null),ss=T(null),xi=T(null),$r=T(null),Fe=null,na=null,he=!1,Vn=null,Se=!1,Bc=Error(A(519)),vn=typeof Object.is=="function"?Object.is:Rt,tu=T(null),Yn=null,ja=null,nd=typeof AbortController<"u"?AbortController:function(){var a=[],n=this.signal={aborted:!1,addEventListener:function(s,u){a.push(u)}};this.abort=function(){n.aborted=!0,a.forEach(function(s){return s()})}},ld=an.unstable_scheduleCallback,eu=an.unstable_NormalPriority,Ee={$$typeof:Ul,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},au=null,Si=null,ho=!1,Qs=!1,nu=!1,Vl=0,Zs=null,kn=0,Be=0,_i=null,wc=wt.S;wt.S=function(a,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Zl(a,n),wc!==null&&wc(a,n)};var Ke=T(null),Qd=Object.prototype.hasOwnProperty,Fs=Error(A(460)),go=Error(A(474)),Ue=Error(A(542)),Ea={then:function(){}},on=null,pn=[],rs=0,qc=0,hl=!1,Fa=!1,Ua=T(null),lu=T(0),la=0,Wt=null,oe=null,we=null,Xn=!1,Ei=!1,Yl=!1,bn=0,Js=0,Kn=null,iu=0,Ni={readContext:Ft,use:xs,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je},us={readContext:Ft,use:xs,useCallback:function(a,n){return Aa().memoizedState=[a,n===void 0?null:n],a},useContext:Ft,useEffect:Lo,useImperativeHandle:function(a,n,s){s=s!=null?s.concat([a]):null,yr(4194308,4,Es.bind(null,n,a),s)},useLayoutEffect:function(a,n){return yr(4194308,4,a,n)},useInsertionEffect:function(a,n){yr(4,2,a,n)},useMemo:function(a,n){var s=Aa();n=n===void 0?null:n;var u=a();if(Yl){$(!0);try{a()}finally{$(!1)}}return s.memoizedState=[u,n],u},useReducer:function(a,n,s){var u=Aa();if(s!==void 0){var f=s(n);if(Yl){$(!0);try{s(n)}finally{$(!1)}}}else f=n;return u.memoizedState=u.baseState=f,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:f},u.queue=a,a=a.dispatch=ko.bind(null,Wt,a),[u.memoizedState,a]},useRef:function(a){var n=Aa();return a={current:a},n.memoizedState=a},useState:function(a){a=vu(a);var n=a.queue,s=Eu.bind(null,Wt,n);return n.dispatch=s,[a.memoizedState,s]},useDebugValue:vr,useDeferredValue:function(a,n){var s=Aa();return Ns(s,a,n)},useTransition:function(){var a=vu(!1);return a=Yo.bind(null,Wt,a.queue,!0,!1),Aa().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,n,s){var u=Wt,f=Aa();if(he){if(s===void 0)throw Error(A(407));s=s()}else{if(s=n(),ve===null)throw Error(A(349));(ee&124)!==0||Uo(u,n,s)}f.memoizedState=s;var g={value:s,getSnapshot:n};return f.queue=g,Lo(K0.bind(null,u,g,a),[a]),u.flags|=2048,ti(9,El(),mr.bind(null,u,g,s,n),null),s},useId:function(){var a=Aa(),n=ve.identifierPrefix;if(he){var s=dl,u=Ln;s=(u&~(1<<32-rn(u)-1)).toString(32)+s,n=""+n+"R"+s,s=bn++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=iu++,n=""+n+"r"+s.toString(32)+"";return a.memoizedState=n},useHostTransitionStatus:Cl,useFormState:bu,useActionState:bu,useOptimistic:function(a){var n=Aa();n.memoizedState=n.baseState=a;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ts.bind(null,Wt,!0,s),s.dispatch=n,[a,n]},useMemoCache:Ro,useCacheRefresh:function(){return Aa().memoizedState=Gd.bind(null,Wt)}},Lc={readContext:Ft,use:xs,useCallback:pr,useContext:Ft,useEffect:_s,useImperativeHandle:Nl,useInsertionEffect:In,useLayoutEffect:_u,useMemo:Vo,useReducer:Ya,useRef:Bi,useState:function(){return Ya(Wn)},useDebugValue:vr,useDeferredValue:function(a,n){var s=Ie();return br(s,oe.memoizedState,a,n)},useTransition:function(){var a=Ya(Wn)[0],n=Ie().memoizedState;return[typeof a=="boolean"?a:Gi(a),n]},useSyncExternalStore:gr,useId:xr,useHostTransitionStatus:Cl,useFormState:Q0,useActionState:Q0,useOptimistic:function(a,n){var s=Ie();return pu(s,oe,a,n)},useMemoCache:Ro,useCacheRefresh:Cs},id={readContext:Ft,use:xs,useCallback:pr,useContext:Ft,useEffect:_s,useImperativeHandle:Nl,useInsertionEffect:In,useLayoutEffect:_u,useMemo:Vo,useReducer:jo,useRef:Bi,useState:function(){return jo(Wn)},useDebugValue:vr,useDeferredValue:function(a,n){var s=Ie();return oe===null?Ns(s,a,n):br(s,oe.memoizedState,a,n)},useTransition:function(){var a=jo(Wn)[0],n=Ie().memoizedState;return[typeof a=="boolean"?a:Gi(a),n]},useSyncExternalStore:gr,useId:xr,useHostTransitionStatus:Cl,useFormState:Su,useActionState:Su,useOptimistic:function(a,n){var s=Ie();return oe!==null?pu(s,oe,a,n):(s.baseState=a,[a,s.queue.dispatch])},useMemoCache:Ro,useCacheRefresh:Cs},gl=null,Ps=0,kl=W0(!0),Vc=W0(!1),On=T(null),ml=null,Kt=T(0),ze={enqueueSetState:function(a,n,s){a=a._reactInternals;var u=ba(),f=Wl(u);f.payload=n,s!=null&&(f.callback=s),n=Sl(a,f,u),n!==null&&(za(n,a,u),_l(n,a,u))},enqueueReplaceState:function(a,n,s){a=a._reactInternals;var u=ba(),f=Wl(u);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Sl(a,f,u),n!==null&&(za(n,a,u),_l(n,a,u))},enqueueForceUpdate:function(a,n){a=a._reactInternals;var s=ba(),u=Wl(s);u.tag=2,n!=null&&(u.callback=n),n=Sl(a,u,s),n!==null&&(za(n,a,s),_l(n,a,s))}},ne=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ce=Error(A(461)),Qt=!1,Ja={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Ga=!1,qe=!1,su=!1,yl=typeof WeakSet=="function"?WeakSet:Set,te=null,Ge=null,ia=!1,xn=null,Na=8192,Ws={getCacheForType:function(a){var n=Ft(Ee),s=n.data.get(a);return s===void 0&&(s=a(),n.data.set(a,s)),s}},Ci=0,Ca=1,Is=2,$s=3,os=4;if(typeof Symbol=="function"&&Symbol.for){var Ti=Symbol.for;Ci=Ti("selector.component"),Ca=Ti("selector.has_pseudo_class"),Is=Ti("selector.role"),$s=Ti("selector.test_id"),os=Ti("selector.text")}var Ai=typeof WeakMap=="function"?WeakMap:Map,Lt=0,ve=null,Jt=null,ee=0,Ne=0,Pa=null,Xl=!1,vl=!1,ru=!1,$e=0,Je=0,sa=0,Mi=0,mo=0,zn=0,Sn=0,Oi=null,Ha=null,zi=!1,yo=0,tr=1/0,uu=null,pl=null,ha=0,Di=null,er=null,ar=0,vo=0,po=null,cs=null,Ri=0,bo=null;return It.attemptContinuousHydration=function(a){if(a.tag===13){var n=We(a,67108864);n!==null&&za(n,a,67108864),jl(a,67108864)}},It.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var n=ba();n=Q(n);var s=We(a,n);s!==null&&za(s,a,n),jl(a,n)}},It.attemptSynchronousHydration=function(a){switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var n=H(a.pendingLanes);if(n!==0){for(a.pendingLanes|=2,a.entangledLanes|=2;n;){var s=1<<31-rn(n);a.entanglements[1]|=s,n&=~s}me(a),(Lt&6)===0&&(tr=Oe()+500,De(0))}}break;case 13:n=We(a,2),n!==null&&za(n,a,2),nl(),jl(a,2)}},It.batchedUpdates=function(a,n){return a(n)},It.createComponentSelector=function(a){return{$$typeof:Ci,value:a}},It.createContainer=function(a,n,s,u,f,g,K,et,ct,Et){return Ii(a,n,!1,null,s,u,g,K,et,ct,Et,null)},It.createHasPseudoClassSelector=function(a){return{$$typeof:Ca,value:a}},It.createHydrationContainer=function(a,n,s,u,f,g,K,et,ct,Et,Tt,Ot,Dt){return a=Ii(s,u,!0,a,f,g,et,ct,Et,Tt,Ot,Dt),a.context=mf(null),s=a.current,u=ba(),u=Q(u),f=Wl(u),f.callback=n??null,Sl(s,f,u),n=u,a.current.lanes=n,W(a,n),me(a),a},It.createPortal=function(a,n,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fi,key:u==null?null:""+u,children:a,containerInfo:n,implementation:s}},It.createRoleSelector=function(a){return{$$typeof:Is,value:a}},It.createTestNameSelector=function(a){return{$$typeof:$s,value:a}},It.createTextSelector=function(a){return{$$typeof:os,value:a}},It.defaultOnCaughtError=function(a){console.error(a)},It.defaultOnRecoverableError=function(a){ne(a)},It.defaultOnUncaughtError=function(a){ne(a)},It.deferredUpdates=function(a){var n=wt.T,s=qn();try{return xa(32),wt.T=null,a()}finally{xa(s),wt.T=n}},It.discreteUpdates=function(a,n,s,u,f){var g=wt.T,K=qn();try{return xa(2),wt.T=null,a(n,s,u,f)}finally{xa(K),wt.T=g,Lt===0&&(tr=Oe()+500)}},It.findAllNodes=Dr,It.findBoundingRects=function(a,n){if(!qs)throw Error(A(363));n=Dr(a,n),a=[];for(var s=0;s<n.length;s++)a.push(Ef(n[s]));for(n=a.length-1;0<n;n--){s=a[n];for(var u=s.x,f=u+s.width,g=s.y,K=g+s.height,et=n-1;0<=et;et--)if(n!==et){var ct=a[et],Et=ct.x,Tt=Et+ct.width,Ot=ct.y,Dt=Ot+ct.height;if(u>=Et&&g>=Ot&&f<=Tt&&K<=Dt){a.splice(n,1);break}else if(u!==Et||s.width!==ct.width||Dt<g||Ot>K){if(!(g!==Ot||s.height!==ct.height||Tt<u||Et>f)){Et>u&&(ct.width+=Et-u,ct.x=u),Tt<f&&(ct.width=f-Et),a.splice(n,1);break}}else{Ot>g&&(ct.height+=Ot-g,ct.y=g),Dt<K&&(ct.height=K-Ot),a.splice(n,1);break}}}return a},It.findHostInstance=uc,It.findHostInstanceWithNoPortals=function(a){return a=m(a),a=a!==null?y(a):null,a===null?null:ws(a.stateNode)},It.findHostInstanceWithWarning=function(a){return uc(a)},It.flushPassiveEffects=An,It.flushSyncFromReconciler=function(a){var n=Lt;Lt|=1;var s=wt.T,u=qn();try{if(xa(2),wt.T=null,a)return a()}finally{xa(u),wt.T=s,Lt=n,(Lt&6)===0&&De(0)}},It.flushSyncWork=nl,It.focusWithin=function(a,n){if(!qs)throw Error(A(363));for(a=Vu(a),n=Yu(a,n),n=Array.from(n),a=0;a<n.length;){var s=n[a++],u=s.tag;if(!Ls(s)){if((u===5||u===26||u===27)&&Cf(s.stateNode))return!0;for(s=s.child;s!==null;)n.push(s),s=s.sibling}}return!1},It.getFindAllNodesFailureDescription=function(a,n){if(!qs)throw Error(A(363));var s=0,u=[];a=[Vu(a),0];for(var f=0;f<a.length;){var g=a[f++],K=g.tag,et=a[f++],ct=n[et];if((K!==5&&K!==26&&K!==27||!Ls(g))&&(Rs(g,ct)&&(u.push(Dl(ct)),et++,et>s&&(s=et)),et<n.length))for(g=g.child;g!==null;)a.push(g,et),g=g.sibling}if(s<n.length){for(a=[];s<n.length;s++)a.push(Dl(n[s]));return`findAllNodes was able to match part of the selector:
  `+(u.join(" > ")+`

No matching component was found for:
  `)+a.join(" > ")}return null},It.getPublicRootInstance=function(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 27:case 5:return ws(a.child.stateNode);default:return a.child.stateNode}},It.injectIntoDevTools=function(){var a={bundleType:0,version:pf,rendererPackageName:Bs,currentDispatcherRef:wt,reconcilerVersion:"19.1.0"};if(qr!==null&&(a.rendererConfig=qr),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)a=!0;else{try{yi=n.inject(a),Qa=n}catch{}a=!!n.checkDCE}}return a},It.isAlreadyRendering=function(){return(Lt&6)!==0},It.observeVisibleRects=function(a,n,s,u){if(!qs)throw Error(A(363));a=Dr(a,n);var f=Vd(a,s,u).disconnect;return{disconnect:function(){f()}}},It.shouldError=function(){return null},It.shouldSuspend=function(){return!1},It.startHostTransition=function(a,n,s,u){if(a.tag!==5)throw Error(A(476));var f=ka(a).queue;Yo(a,f,n,sn,s===null?C:function(){var g=ka(a).next.queue;return Tl(a,g,{},ba()),s(u)})},It.updateContainer=function(a,n,s,u){var f=n.current,g=ba();return yf(f,g,a,n,s,u),g},It.updateContainerSync=function(a,n,s,u){return yf(n.current,2,a,n,s,u),2},It},c.exports.default=c.exports,Object.defineProperty(c.exports,"__esModule",{value:!0})})(Hh)),Hh.exports}var tg;function e4(){return tg||(tg=1,Gh.exports=t4()),Gh.exports}var a4=e4();const n4=kh(a4);var Bh={exports:{}},gs={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function l4(){return eg||(eg=1,gs.ConcurrentRoot=1,gs.ContinuousEventPriority=8,gs.DefaultEventPriority=32,gs.DiscreteEventPriority=2,gs.IdleEventPriority=268435456,gs.LegacyRoot=0,gs.NoEventPriority=0),gs}var ag;function i4(){return ag||(ag=1,Bh.exports=l4()),Bh.exports}var Rd=i4(),s4=ie();const ng={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let lg=!1,ig=!1;const Md=".react-konva-event",r4=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,u4=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,o4={};function jd(c,d,B=o4){if(!lg&&"zIndex"in d&&(console.warn(u4),lg=!0),!ig&&d.draggable){var C=d.x!==void 0||d.y!==void 0,A=d.onDragEnd||d.onDragMove;C&&!A&&(console.warn(r4),ig=!0)}for(var _ in B)if(!ng[_]){var p=_.slice(0,2)==="on",m=B[_]!==d[_];if(p&&m){var x=_.substr(2).toLowerCase();x.substr(0,7)==="content"&&(x="content"+x.substr(7,1).toUpperCase()+x.substr(8)),c.off(x,B[_])}var y=!d.hasOwnProperty(_);y&&c.setAttr(_,void 0)}var E=d._useStrictMode,M={},T=!1;const S={};for(var _ in d)if(!ng[_]){var p=_.slice(0,2)==="on",v=B[_]!==d[_];if(p&&v){var x=_.substr(2).toLowerCase();x.substr(0,7)==="content"&&(x="content"+x.substr(7,1).toUpperCase()+x.substr(8)),d[_]&&(S[x]=d[_])}!p&&(d[_]!==B[_]||E&&d[_]!==c.getAttr(_))&&(T=!0,M[_]=d[_])}T&&(c.setAttrs(M),cr(c));for(var x in S)c.off(x+Md),c.on(x+Md,S[x])}function cr(c){if(!s4.Konva.autoDrawEnabled){var d=c.getLayer()||c.getStage();d&&d.batchDraw()}}var wh=Xh();const xg={},c4={};Ad.Node.prototype._applyProps=jd;let Sg=Rd.DefaultEventPriority;function f4(c,d){if(typeof d=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${d}`);return}c.add(d),cr(c)}function d4(c,d,B){let C=Ad[c];C||(console.error(`Konva has no node with the type ${c}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${c}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),C=Ad.Group);const A={},_={};for(var p in d)if(p!=="ref"){var m=p.slice(0,2)==="on";m?_[p]=d[p]:A[p]=d[p]}const x=new C(A);return jd(x,_),x}function h4(c,d,B){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${c}"`)}function g4(c,d,B){return!1}function m4(c){return c}function y4(){return null}function v4(){return null}function p4(c,d,B,C){return c4}function b4(){}function x4(c){}function S4(c,d){return!1}function _4(){return xg}function E4(){return xg}const N4=setTimeout,C4=clearTimeout,T4=!0,A4=c=>{c()},M4=-1;function O4(c,d){return!1}const z4=!1,D4=!1,R4=!0,j4=!1,U4=!1;function G4(c,d){d.parent===c?d.moveToTop():c.add(d),cr(c)}function H4(c,d){d.parent===c?d.moveToTop():c.add(d),cr(c)}function _g(c,d,B){d._remove(),c.add(d),d.setZIndex(B.getZIndex()),cr(c)}function B4(c,d,B){_g(c,d,B)}function w4(c,d){d.destroy(),d.off(Md),cr(c)}function q4(c,d){d.destroy(),d.off(Md),cr(c)}function L4(c,d,B){console.error(`Text components are not yet supported in ReactKonva. You text is: "${B}"`)}function V4(c,d,B){}function Y4(c,d,B,C){jd(c,C,B)}function k4(c){c.hide(),cr(c)}function X4(c){}function K4(c,d){(d.visible==null||d.visible)&&c.show()}function Q4(c,d){}function Z4(c){}function F4(){}function J4(){return Rd.DefaultEventPriority}function P4(){}function W4(){return null}function I4(c){Sg=c}function $4(){return Sg}function t3(){return Rd.DiscreteEventPriority}function e3(){return!1}function a3(){}function n3(){return!1}function l3(){return!0}function i3(){}function s3(){}function r3(){return null}const u3=null;function o3(){}const c3=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:u3,appendChild:G4,appendChildToContainer:H4,appendInitialChild:f4,cancelTimeout:C4,clearContainer:Z4,commitMount:V4,commitTextUpdate:L4,commitUpdate:Y4,createInstance:d4,createTextInstance:h4,detachDeletedInstance:F4,finalizeInitialChildren:g4,getChildHostContext:E4,getCurrentEventPriority:J4,getCurrentUpdatePriority:$4,getInstanceFromScope:W4,getPublicInstance:m4,getRootHostContext:_4,hideInstance:k4,hideTextInstance:X4,idlePriority:wh.unstable_IdlePriority,insertBefore:_g,insertInContainerBefore:B4,isPrimaryRenderer:z4,maySuspendCommit:n3,noTimeout:M4,now:wh.unstable_now,preloadInstance:l3,prepareForCommit:y4,preparePortalMount:v4,prepareScopeUpdate:P4,prepareUpdate:p4,removeChild:w4,removeChildFromContainer:q4,requestPostPaintCallback:a3,resetAfterCommit:b4,resetFormInstance:o3,resetTextContent:x4,resolveUpdatePriority:t3,run:wh.unstable_runWithPriority,scheduleMicrotask:A4,scheduleTimeout:N4,setCurrentUpdatePriority:I4,shouldAttemptEagerTransition:e3,shouldDeprioritizeSubtree:S4,shouldSetTextContent:O4,startSuspendingCommit:i3,supportsHydration:U4,supportsMicrotasks:T4,supportsMutation:R4,supportsPersistence:j4,suspendInstance:s3,unhideInstance:K4,unhideTextInstance:Q4,waitForCommitToBeReady:r3,warnsIfNotActing:D4},Symbol.toStringTag,{value:"Module"}));function Eg(c,d,B){if(!c)return;if(B(c)===!0)return c;let C=c.child;for(;C;){const A=Eg(C,d,B);if(A)return A;C=C.sibling}}function Ng(c){try{return Object.defineProperties(c,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return c}}const Ih=Ng(_t.createContext(null));class Cg extends _t.Component{render(){return _t.createElement(Ih.Provider,{value:this._reactInternals},this.props.children)}}function f3(){const c=_t.useContext(Ih);if(c===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const d=_t.useId();return _t.useMemo(()=>{for(const B of[c,c?.alternate]){if(!B)continue;const C=Eg(B,!1,A=>{let _=A.memoizedState;for(;_;){if(_.memoizedState===d)return!0;_=_.next}});if(C)return C}},[c,d])}const d3=Symbol.for("react.context"),h3=c=>c!==null&&typeof c=="object"&&"$$typeof"in c&&c.$$typeof===d3;function g3(){const c=f3(),[d]=_t.useState(()=>new Map);d.clear();let B=c;for(;B;){const C=B.type;h3(C)&&C!==Ih&&!d.has(C)&&d.set(C,_t.use(Ng(C))),B=B.return}return d}function m3(){const c=g3();return _t.useMemo(()=>Array.from(c.keys()).reduce((d,B)=>C=>_t.createElement(d,null,_t.createElement(B.Provider,{...C,value:c.get(B)})),d=>_t.createElement(Cg,{...d})),[c])}if(ke.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function y3(c){const d=ke.useRef({});return ke.useLayoutEffect(()=>{d.current=c}),ke.useLayoutEffect(()=>()=>{d.current={}},[]),d.current}const v3=()=>{const c=ke.useRef(0);return ke.useMemo(()=>{c.current++},[]),c.current>1},p3=c=>{const d=ke.useRef(null),B=ke.useRef(null),C=ke.useRef(null),A=y3(c),_=m3(),p=ke.useRef(!1),m=y=>{const{forwardedRef:E}=c;E&&(typeof E=="function"?E(y):E.current=y)},x=v3();return ke.useLayoutEffect(()=>p.current&&x?()=>{p.current=!1,m(null),To.updateContainer(null,C.current,null),B.current.destroy()}:(p.current=!0,B.current=new Ad.Stage({width:c.width,height:c.height,container:d.current}),m(B.current),C.current=To.createContainer(B.current,Rd.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),To.updateContainer(ke.createElement(_,{},c.children),C.current,null,()=>{}),()=>{x||(m(null),To.updateContainer(null,C.current,null),B.current.destroy())}),[]),ke.useLayoutEffect(()=>{m(B.current),jd(B.current,c,A),To.updateContainer(ke.createElement(_,{},c.children),C.current,null)}),ke.createElement("div",{ref:d,id:c.id,accessKey:c.accessKey,className:c.className,role:c.role,style:c.style,tabIndex:c.tabIndex,title:c.title})},b3="Layer",sg="Rect",rg="Line",To=n4(c3);To.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:ke.version,rendererPackageName:"react-konva"});const x3=ke.forwardRef((c,d)=>ke.createElement(Cg,{},ke.createElement(p3,{...c,forwardedRef:d}))),S3=({objects:c=[],drawingLine:d,setDrawingLine:B,drawingRectangle:C,setDrawingRectangle:A,lineStart:_,setLineStart:p,linePreview:m,setLinePreview:x,onAddRoomObject:y,onDeleteRoomObject:E,floorId:M,zoneId:T,onContextMenuObject:S})=>{const{theme:v}=Qh(),z=v==="dark",[H,V]=_t.useState(!1);_t.useEffect(()=>{const Q=$=>{$.key==="Shift"&&V(!0)},F=$=>{$.key==="Shift"&&V(!1)};return window.addEventListener("keydown",Q),window.addEventListener("keyup",F),()=>{window.removeEventListener("keydown",Q),window.removeEventListener("keyup",F)}},[]);const[N,h]=_t.useState(null),U=(Q,F)=>{Q.evt.preventDefault(),S&&S({object:F,x:Q.evt.clientX,y:Q.evt.clientY})},G=_t.useRef(null),[Y,W]=_t.useState({width:800,height:600});_t.useEffect(()=>{if(!G.current)return;const Q=()=>{W({width:G.current.offsetWidth,height:G.current.offsetHeight})};Q();const F=new window.ResizeObserver(Q);return F.observe(G.current),()=>F.disconnect()},[]);const D=Q=>{const $=Q.target.getStage().getPointerPosition();(d&&!_||C&&!_)&&(p($),x($))},q=Q=>{let $=Q.target.getStage().getPointerPosition();if((d||C)&&_){if(d&&H){const st=$.x-_.x,at=$.y-_.y;Math.abs(st)>Math.abs(at)?$={x:$.x,y:_.y}:$={x:_.x,y:$.y}}x($)}},w=Q=>{const $=Q.target.getStage().getPointerPosition();if(d&&_){if($.x!==_.x||$.y!==_.y){const st=_.x,at=_.y,tt=$.x,O=$.y,L=Math.min(st,tt),Z=Math.min(at,O),R=Math.max(Math.abs(tt-st),4),X=Math.max(Math.abs(O-at),4);y({id:`line-${Date.now()}`,type:"line",points:[_,$],position:{x:L,y:Z},size:{width:R,height:X},floor:M,zone:T})}B(!1),p(null),x(null)}else if(C&&_){if($.x!==_.x||$.y!==_.y){const st=_.x,at=_.y,tt=$.x,O=$.y,L=Math.min(st,tt),Z=Math.min(at,O),R=Math.abs(tt-st),X=Math.abs(O-at);y({id:`rect-${Date.now()}`,type:"rect",position:{x:L,y:Z},size:{width:R,height:X},floor:M,zone:T,properties:{color:"#fff",borderWidth:2,backgroundColor:"transparent"}})}A(!1),p(null),x(null)}};return _t.useEffect(()=>{console.log("[Konva] Props:",{objects:c,drawingLine:d,lineStart:_,linePreview:m,floorId:M,zoneId:T})},[c,d,_,m,M,T]),b.jsx("div",{ref:G,style:{position:"absolute",inset:0,width:"100%",height:"100%",zIndex:10,background:"transparent",pointerEvents:"auto"},children:b.jsx(x3,{width:Y.width,height:Y.height,style:{background:"rgba(255,255,255,0.0)"},onMouseDown:D,onMouseMove:q,onMouseUp:w,onContextMenu:Q=>Q.evt.preventDefault(),children:b.jsxs(b3,{children:[c.map(Q=>Q.type==="line"?b.jsx(rg,{points:[Q.points[0].x,Q.points[0].y,Q.points[1].x,Q.points[1].y],stroke:"#fff",strokeWidth:4,lineCap:"round",onMouseDown:F=>{F.evt.button===2&&(F.evt.preventDefault(),U(F,Q))},onMouseEnter:F=>{const $=F.target.getStage();$.container().style.cursor="pointer"},onMouseLeave:F=>{const $=F.target.getStage();$.container().style.cursor="default"}},Q.id):Q.type==="rect"?b.jsx(sg,{x:Q.position.x,y:Q.position.y,width:Q.size.width,height:Q.size.height,fill:Q.properties?.backgroundColor||"transparent",stroke:z?"#fff":Q.properties?.color||"#fff",strokeWidth:4,onMouseDown:F=>{F.evt.button===2&&(F.evt.preventDefault(),U(F,Q))},onMouseEnter:F=>{const $=F.target.getStage();$.container().style.cursor="pointer"},onMouseLeave:F=>{const $=F.target.getStage();$.container().style.cursor="default"}},Q.id):null),d&&_&&m&&b.jsx(rg,{points:[_.x,_.y,m.x,m.y],stroke:"#e0e7ef",strokeWidth:3,dash:[10,5]}),C&&_&&m&&b.jsx(sg,{x:Math.min(_.x,m.x),y:Math.min(_.y,m.y),width:Math.abs(m.x-_.x),height:Math.abs(m.y-_.y),fill:"rgba(37,99,235,0.1)",stroke:"#e0e7ef",strokeWidth:2,dash:[8,4]})]})})})},_3=({devices:c,roomObjects:d,floorId:B,zoneId:C,floors:A,onStartDrag:_,onAddRoomObject:p,onUpdateRoomObject:m,onDeleteObject:x,onUpdateDevice:y,dragState:E,onZoomPanChange:M})=>{const T=A?.find(Mt=>Mt.id===B),S=T?.name||B,z=T?.zones?.find(Mt=>Mt.id===C)?.name||C,[H,V]=_t.useState(1),[N,h]=_t.useState({x:0,y:0}),[U,G]=_t.useState(!1),[Y,W]=_t.useState(!1),[D,q]=_t.useState(!1),w=_t.useRef({x:0,y:0}),Q=_t.useRef({x:0,y:0}),[F,$]=_t.useState({show:!1,x:0,y:0,object:null}),[st,at]=_t.useState(!1),[tt,O]=_t.useState(null),[L,Z]=_t.useState(null),[R,X]=_t.useState(!1),[nt,P]=_t.useState(null),[ft,pt]=_t.useState(!1),it=d,[J,rt]=_t.useState(!1),[Nt,At]=_t.useState(null),zt=()=>{V(Mt=>Math.min(Mt*1.2,3))},Bt=()=>{V(Mt=>Math.max(Mt/1.2,.3))},qt=()=>{V(1),h({x:0,y:0})},Rt=Mt=>{(Mt.button===1||Mt.button===0&&Mt.shiftKey)&&(q(!0),w.current={...N},Q.current={x:Mt.clientX,y:Mt.clientY},Mt.preventDefault())},jt=Mt=>{if(!D)return;const ta=Mt.clientX-Q.current.x,Gn=Mt.clientY-Q.current.y;h({x:w.current.x+ta,y:w.current.y+Gn})},se=()=>{q(!1)};_t.useEffect(()=>(D?(window.addEventListener("mousemove",jt),window.addEventListener("mouseup",se),document.body.style.cursor="grab"):(window.removeEventListener("mousemove",jt),window.removeEventListener("mouseup",se),document.body.style.cursor=""),()=>{window.removeEventListener("mousemove",jt),window.removeEventListener("mouseup",se),document.body.style.cursor=""}),[D]),_t.useEffect(()=>{M&&M({zoom:H,pan:N})},[H,N,M]);const Vt=[{id:"door",icon:fg,label:"Puerta",isReactIcon:!0},{id:"text",icon:V5,label:"Etiqueta de Texto",isReactIcon:!0}],Ce=Mt=>{if(G(!1),Mt==="text"){W(!0);return}const Ia=Z1(Mt,{x:400,y:300});Ia.floor=B,Ia.zone=C,p(Ia)},ya=Mt=>{const Ia=Z1("text",{x:400,y:300});Ia.floor=B,Ia.zone=C,Ia.name=Mt.name,Ia.properties={...Ia.properties,...Mt.properties},p(Ia),W(!1)},Qe=Mt=>{L&&m(L.id,{name:Mt.name,properties:{...L.properties,...Mt.properties}}),X(!1),Z(null)},va=()=>{W(!1)},Ft=()=>{X(!1),Z(null)},ua=(Mt,ta)=>{m(Mt,ta)},Ta=(Mt,ta)=>{Mt.preventDefault(),Mt.stopPropagation(),$({show:!0,x:Mt.clientX,y:Mt.clientY,object:ta})},qa=()=>{$({show:!1,x:0,y:0,object:null})},He=Mt=>{qa(),Mt.hasOwnProperty("status")||Mt.hasOwnProperty("customProperties")||!k0[Mt.type]?(P(Mt),pt(!0)):Mt.type==="text"?(Z(Mt),X(!0)):console.log("Este tipo de objeto no es editable:",Mt.type)},me=Mt=>{y&&y(Mt),pt(!1),P(null)},De=()=>{pt(!1),P(null)},Re=Mt=>{O(Mt),at(!0),qa()},oa=()=>{tt&&(x(tt),O(null),at(!1))},ca=()=>{O(null),at(!1)},Qn=({object:Mt,x:ta,y:Gn})=>{window.addEventListener("contextmenu",Zn,{capture:!0,once:!0}),$({show:!0,x:ta,y:Gn,object:Mt})};function Zn(Mt){Mt.preventDefault()}const[_n,La]=_t.useState(!1),[Zl,Fl]=_t.useState(null),[Ao,ys]=_t.useState(null),[Jl,Pl]=_t.useState(!1);return b.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 transition-colors duration-200","data-canvas-container":!0,children:[b.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 px-4 py-3 flex items-center justify-between transition-colors duration-200",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:["PLANO: ",b.jsx("br",{})," ",S," / ",z]}),b.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[c.length," dispositivo",c.length!==1?"s":"","  ",it.length," objeto",it.length!==1?"s":""]})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 sm:gap-0 relative w-full sm:w-auto",children:[b.jsxs("div",{className:"absolute right-0 top-0 flex flex-col gap-2 sm:static sm:flex-row sm:gap-4 w-40 sm:w-auto min-w-0",children:[b.jsxs("div",{className:"relative w-full sm:w-auto",children:[b.jsxs("button",{onClick:()=>rt(Mt=>!Mt),className:`w-full space-x-6 sm:w-auto px-4 py-2 rounded-lg flex items-center justify-between transition-colors duration-200
                  bg-amber-600 text-white hover:bg-amber-700`,title:"Dibujar formas",disabled:E?.isDragging,children:[b.jsx(Q1,{className:"flex-shrink-0 w-5 h-5"}),b.jsx("span",{className:"flex-1 text-center",children:"Dibujar"}),b.jsx(qh,{className:`ml-2 flex-shrink-0 transition-transform ${J?"rotate-180":""}`})]}),J&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>rt(!1),style:{background:"transparent"}}),b.jsxs("div",{className:"absolute left-0 mt-2 w-40 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-20",children:[b.jsxs("button",{onClick:()=>{At("line"),La(!0),Pl(!1),rt(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-200 dark:hover:bg-gray-700 flex items-center space-x-2",children:[b.jsx("span",{className:"text-lg text-black dark:text-white",children:"/"}),b.jsx("span",{className:"text-lg text-black dark:text-white",children:"Lnea"})]}),b.jsxs("button",{onClick:()=>{At("rect"),Pl(!0),La(!1),rt(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-200 dark:hover:bg-gray-700 flex items-center space-x-2",children:[b.jsx("span",{className:"text-lg text-black dark:text-white",children:""}),b.jsx("span",{className:"text-lg text-black dark:text-white",children:"Rectngulo"})]})]})]})]}),b.jsxs("div",{className:"relative w-full sm:w-auto",children:[b.jsxs("button",{onClick:()=>G(!U),className:"w-full space-x-6 sm:w-auto px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center justify-between transition-colors duration-200",disabled:E?.isDragging,title:"Aadir objeto",children:[b.jsx(G5,{className:"flex-shrink-0 w-5 h-5"}),b.jsx("span",{className:"flex-1 text-center",children:"Objetos"}),b.jsx(qh,{className:`ml-2 flex-shrink-0 transition-transform ${U?"rotate-180":""}`})]}),U&&!E?.isDragging&&b.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-10 transition-colors duration-200",children:Vt.map(Mt=>{const ta=Mt.isReactIcon?Mt.icon:null;return b.jsxs("button",{onClick:()=>Ce(Mt.id),className:"w-full text-left px-4 py-2 hover:bg-gray-200 dark:hover:bg-gray-700 flex items-center space-x-3 text-gray-700 dark:text-gray-200 transition-colors duration-200",children:[b.jsx("div",{className:"text-lg min-w-[24px] flex items-center justify-center",children:ta?b.jsx(ta,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}):b.jsx("span",{className:"text-center text-gray-700 dark:text-gray-200",children:Mt.icon})}),b.jsx("span",{children:Mt.label})]},Mt.id)})})]})]}),b.jsxs("div",{className:"flex items-center space-x-1 bg-white/80 dark:bg-gray-800/80 border border-gray-300 dark:border-gray-700 rounded-xl px-0.5 py-0.5 shadow-sm backdrop-blur-sm mt-24 sm:mt-0",children:[b.jsx("button",{onClick:Bt,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-gray-700 dark:text-gray-200 transition-colors duration-200 flex items-center justify-center",title:"Alejar",disabled:E?.isDragging,children:b.jsx(K5,{className:"w-4 h-4"})}),b.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 min-w-[40px] text-center font-medium",children:[Math.round(H*100),"%"]}),b.jsx("button",{onClick:zt,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-gray-700 dark:text-gray-200 transition-colors duration-200 flex items-center justify-center",title:"Acercar",disabled:E?.isDragging,children:b.jsx(X5,{className:"w-4 h-4"})}),b.jsx("span",{className:"mx-1 h-5 w-px bg-gray-300 dark:bg-gray-700 rounded"}),b.jsx("button",{onClick:qt,className:"px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-sm text-gray-700 dark:text-gray-200 transition-colors duration-200",title:"Restablecer vista (100%)",disabled:E?.isDragging,children:"Restablecer"})]})]})]}),b.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[b.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 transition-colors duration-200",children:[b.jsx("div",{className:"absolute inset-6","data-canvas-wrapper":!0,children:b.jsx("div",{className:"w-full h-full rounded-lg border-2 border-gray-500 dark:border-gray-400 transition-colors duration-200","data-canvas-background":!0,style:{background:"#005d69"},children:b.jsxs("div",{className:"relative w-full h-full overflow-hidden rounded-lg","data-canvas-viewport":!0,style:{transform:`scale(${H}) translate(${N.x}px, ${N.y}px)`,transformOrigin:"top left",cursor:D?"grab":_n?"crosshair":Jl?"cell":"default"},onMouseDown:Rt,children:[b.jsx(S3,{objects:it,drawingLine:_n,setDrawingLine:La,drawingRectangle:Jl,setDrawingRectangle:Pl,lineStart:Zl,setLineStart:Fl,linePreview:Ao,setLinePreview:ys,onAddRoomObject:p,floorId:B,zoneId:C,onContextMenuObject:Qn}),b.jsx("div",{className:"absolute inset-0 opacity-40 dark:opacity-30",children:b.jsxs("svg",{width:"100%",height:"100%",children:[b.jsxs("defs",{children:[b.jsx("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:b.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#e0e7ef",className:"dark:stroke-white-500",strokeWidth:"0.5"})}),b.jsx("pattern",{id:"gridMajor",width:"100",height:"100",patternUnits:"userSpaceOnUse",children:b.jsx("path",{d:"M 100 0 L 0 0 0 100",fill:"none",stroke:"#fff",className:"dark:stroke-white",strokeWidth:"1"})})]}),b.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),b.jsx("rect",{width:"100%",height:"100%",fill:"url(#gridMajor)"})]})}),b.jsx("div",{className:"absolute inset-1 border-2 border-dashed border-gray-300 dark:border-gray-400 rounded-lg transition-colors duration-200","data-work-area":!0,children:b.jsx("div",{className:"absolute top-2 left-2 text-xs text-gray-300 dark:text-gray-300 font-medium",children:"rea de trabajo"})}),it.filter(Mt=>Mt.type==="door"||Mt.type==="text").map(Mt=>b.jsx("div",{onContextMenu:ta=>Ta(ta,Mt),children:b.jsx(um,{object:Mt,zoom:H,onStartDrag:_,onUpdate:ua,isBeingDragged:E?.dragObject?.id===Mt.id})},Mt.id)),c.map(Mt=>b.jsx("div",{onContextMenu:ta=>Ta(ta,Mt),children:b.jsx(rm,{device:Mt,zoom:H,onStartDrag:_,isBeingDragged:E?.dragObject?.id===Mt.id})},Mt.id))]})})}),E?.isDragging&&b.jsx("div",{className:"flex justify-center absolute bottom-16 left-1/2 transform -translate-x-1/2 bg-blue-600 dark:bg-blue-700 text-white px-4 py-2 rounded-lg shadow-lg transition-colors duration-200",children:b.jsxs("span",{className:"flex text-sm",children:[b.jsx(Zh,{className:"w-5 h-5"}),' Posicionamiento libre  "Esc" para cancelar']})}),!D&&b.jsxs("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 text-s text-gray-200 bg-gray-900/80 px-3 py-0 rounded shadow whitespace-nowrap",children:["Mantn ",b.jsx("b",{children:"Shift"})," y arrastra con click izquierdo, o usa el botn central del ratn, para mover el plano"]}),b.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-6 bg-gray-100 dark:bg-gray-800  border-gray-200 dark:border-gray-700 opacity-80 transition-colors duration-200"}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-6 bg-gray-100 dark:bg-gray-800  border-gray-200 dark:border-gray-700 opacity-80 transition-colors duration-200"}),b.jsx("div",{className:"absolute top-6 bottom-6 left-0 w-6 bg-gray-100 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 opacity-80 transition-colors duration-200"}),b.jsx("div",{className:"absolute top-6 bottom-6 right-0 w-6 bg-gray-100 dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 opacity-80 transition-colors duration-200"})]})]}),c.length===0&&it.length===0&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:b.jsxs("div",{className:"text-center text-gray-200",children:[b.jsx("div",{className:"flex justify-center mb-4",children:b.jsx(fm,{className:"w-8 h-8"})}),b.jsx("h3",{className:"text-lg font-medium mb-2",children:"Plano vaco"}),b.jsxs("p",{className:"text-sm",children:['Utiliza "+" para aadir dispositivos o ',b.jsx(Q1,{className:"inline w-4 h-4 mx-1"})," para construir planos"]}),b.jsx("p",{className:"text-xs mt-2",children:"Arrastra elementos para posicionarlos  Click derecho para eliminar"})]})})]}),U&&b.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>G(!1)}),b.jsx(F1,{isOpen:Y,initialText:"",onSave:ya,onCancel:va}),L&&b.jsx(F1,{isOpen:R,initialText:L.name,initialProperties:L.properties,onSave:Qe,onCancel:Ft,isEditing:!0}),nt&&b.jsx(dm,{device:nt,onSave:me,onCancel:De}),F.show&&b.jsx(om,{x:F.x,y:F.y,object:F.object,onEdit:He,onDelete:Re,onClose:qa}),b.jsx(cm,{isOpen:st,object:tt,onConfirm:oa,onCancel:ca})]})},E3=({onSelectType:c,onCancel:d})=>b.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50",children:b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 transition-colors duration-200",children:b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Seleccionar tipo de dispositivo"}),b.jsx("button",{onClick:d,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.entries(X0).map(([B,C])=>{const A=C.icon;return b.jsx("button",{onClick:()=>c(B),className:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-blue-500 dark:hover:border-blue-400 transition-colors duration-200 text-left group",children:b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(A,{className:"w-8 h-8 text-gray-600 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:C.name}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Click para seleccionar"})]})]})},B)})}),b.jsx("div",{className:"mt-6 flex justify-end",children:b.jsx("button",{onClick:d,className:"px-4 py-2 text-gray-600 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:"Cancelar"})})]})})}),N3=({deviceType:c,currentFloor:d,currentZone:B,onSave:C,onCancel:A})=>{const{floors:_,loading:p}=Kh(),[m,x]=_t.useState({name:"",type:c,floor:d,zone:B,status:"active",customProperties:[]}),[y,E]=_t.useState(""),[M,T]=_t.useState(""),[S,v]=_t.useState({}),[z,H]=_t.useState([]);_t.useEffect(()=>{if(_.length>0){const w=[];_.forEach(Q=>{Q.zones.forEach(F=>{w.push({id:`${Q.id}-${F.id}`,floorId:Q.id,zoneId:F.id,displayName:`${Q.name} > ${F.name}`})})}),H(w)}},[_]);const V=()=>m.floor&&m.zone?`${m.floor}-${m.zone}`:"",N=w=>{if(!w){x(F=>({...F,floor:"",zone:""}));return}const Q=z.find(F=>F.id===w);Q&&x(F=>({...F,floor:Q.floorId,zone:Q.zoneId}))},h=(w,Q)=>{x(F=>({...F,[w]:Q})),S[w]&&v(F=>({...F,[w]:null}))},U=()=>{if(y.trim()&&M.trim()){const w={id:Date.now().toString(),name:y.trim(),value:M.trim()};x(Q=>({...Q,customProperties:[...Q.customProperties,w]})),E(""),T("")}},G=w=>{x(Q=>({...Q,customProperties:Q.customProperties.filter(F=>F.id!==w)}))},Y=(w,Q,F)=>{x($=>({...$,customProperties:$.customProperties.map(st=>st.id===w?{...st,[Q]:F}:st)}))},W=()=>{const w={};return m.name.trim()||(w.name="El nombre es obligatorio"),(!m.floor||!m.zone)&&(w.location="Debe seleccionar una ubicacin"),v(w),Object.keys(w).length===0},D=w=>{if(w.preventDefault(),W()){const Q={...m,id:Date.now().toString()};C(Q)}};if(p)return b.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50",children:b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 transition-colors duration-200",children:b.jsx("div",{className:"text-center text-gray-800 dark:text-gray-200",children:"Cargando..."})})});const q=X0[c];return q?b.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50",children:b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto transition-colors duration-200",children:b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:["Agregar ",q.name]}),b.jsx("button",{onClick:A,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("form",{onSubmit:D,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre del Dispositivo *"}),b.jsx("input",{type:"text",value:m.name,onChange:w=>h("name",w.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200 ${S.name?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`}),S.name&&b.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1",children:S.name})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Asignar a *"}),b.jsxs("select",{value:V(),onChange:w=>N(w.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200 ${S.location?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,children:[b.jsx("option",{value:"",children:"Seleccionar ubicacin..."}),z.map(w=>b.jsx("option",{value:w.id,children:w.displayName},w.id))]}),S.location&&b.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1",children:S.location}),m.floor&&m.zone&&b.jsxs("div",{className:"flex mt-2 text-xs text-gray-500 dark:text-gray-400",children:[b.jsx(Zh,{className:"w-4 h-4"})," Ubicacin: ",z.find(w=>w.id===V())?.displayName]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Estado"}),b.jsxs("select",{value:m.status,onChange:w=>x(Q=>({...Q,status:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200",children:[b.jsx("option",{value:"active",children:"Activo"}),b.jsx("option",{value:"inactive",children:"Inactivo"}),b.jsx("option",{value:"maintenance",children:"Mantenimiento"}),b.jsx("option",{value:"error",children:"Error"})]})]}),b.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[b.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Propiedades del Dispositivo"}),b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4 transition-colors duration-200",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-1",children:"Nombre"}),b.jsx("input",{type:"text",value:y,onChange:w=>E(w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 transition-colors duration-200"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-black dark:text-white mb-1",children:"Valor"}),b.jsx("input",{type:"text",value:M,onChange:w=>T(w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 transition-colors duration-200"})]})]}),b.jsxs("button",{type:"button",onClick:U,className:"px-3 py-1 bg-blue-500 dark:bg-blue-600 text-white rounded text-sm hover:bg-blue-600 dark:hover:bg-blue-500 flex items-center space-x-1 transition-colors duration-200",children:[b.jsx(Td,{className:"w-4 h-4"}),b.jsx("span",{children:"Aadir Propiedad"})]})]}),m.customProperties.length>0?b.jsxs("div",{className:"space-y-2",children:[b.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Propiedades aadidas:"}),m.customProperties.map((w,Q)=>b.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg p-3 transition-colors duration-200",children:[b.jsx("input",{type:"text",value:w.name,onChange:F=>Y(w.id,"name",F.target.value),className:"flex-1 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 transition-colors duration-200"}),b.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),b.jsx("input",{type:"text",value:w.value,onChange:F=>Y(w.id,"value",F.target.value),className:"flex-1 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 transition-colors duration-200"}),b.jsx("button",{type:"button",onClick:()=>G(w.id),className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-1 transition-colors",title:"Eliminar propiedad",children:b.jsx(Y0,{className:"w-4 h-4"})})]},w.id))]}):b.jsx("div",{className:"text-center py-3 text-gray-500 dark:text-gray-400 text-sm",children:"No hay propiedades aadidas"})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-6",children:[b.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 text-gray-600 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:"Cancelar"}),b.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 dark:bg-blue-600 text-white rounded-lg hover:bg-blue-600 dark:hover:bg-blue-500 transition-colors duration-200",children:"Agregar Dispositivo"})]})]})]})})}):b.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 transition-colors duration-200",children:[b.jsx("div",{className:"text-center text-red-600 dark:text-red-400",children:"Error: Tipo de dispositivo no vlido"}),b.jsx("button",{onClick:A,className:"mt-4 px-4 py-2 bg-gray-500 dark:bg-gray-600 text-white rounded hover:bg-gray-600 dark:hover:bg-gray-500 transition-colors",children:"Cerrar"})]})})};function C3(c){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"5 9 2 12 5 15"},child:[]},{tag:"polyline",attr:{points:"9 5 12 2 15 5"},child:[]},{tag:"polyline",attr:{points:"15 19 12 22 9 19"},child:[]},{tag:"polyline",attr:{points:"19 9 22 12 19 15"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"22"},child:[]}]})(c)}function T3(){const{devices:c,loading:d,addDevice:B,updateDevice:C,updateDevicePosition:A,deleteDevice:_}=p5(),{roomObjects:p,loading:m,addRoomObject:x,updateRoomObject:y,deleteRoomObject:E}=b5(),{floors:M,loading:T,addFloor:S,updateFloor:v,deleteFloor:z,addZone:H,updateZone:V,deleteZone:N}=Kh(),{dragState:h,startDrag:U,updateDrag:G,endDrag:Y,cancelDrag:W}=x5(),[D,q]=_t.useState(null),[w,Q]=_t.useState(null),[F,$]=_t.useState(!1),[st,at]=_t.useState(!1),[tt,O]=_t.useState(null),[L,Z]=_t.useState(1),[R,X]=_t.useState({x:0,y:0});_t.useEffect(()=>{if(M.length>0&&!D){const Rt=M[0],jt=Rt.zones.length>0?Rt.zones[0]:null;jt&&(q(Rt.id),Q(jt.id))}},[M,D]);const nt=p.filter(Rt=>Rt.floor===D&&Rt.zone===w),P=c.filter(Rt=>Rt.floor===D&&Rt.zone===w),ft=Rt=>Rt.hasOwnProperty("status"),pt=Rt=>Rt.hasOwnProperty("size"),it=Rt=>{ft(Rt)?_(Rt.id):pt(Rt)&&E(Rt.id)};_t.useEffect(()=>{const Rt=Vt=>{h.isDragging&&G(Vt)},jt=Vt=>{h.isDragging&&Y((Ce,ya)=>{const Qe=h.dragObject;ft(Qe)?A(Ce,ya):pt(Qe)&&y(Ce,{position:ya})},L,R)},se=Vt=>{Vt.key==="Escape"&&h.isDragging&&W()};return document.addEventListener("mousemove",Rt),document.addEventListener("mouseup",jt),document.addEventListener("keydown",se),()=>{document.removeEventListener("mousemove",Rt),document.removeEventListener("mouseup",jt),document.removeEventListener("keydown",se)}},[h,G,Y,W,A,y]);const J=(Rt,jt)=>{q(Rt),Q(jt)},rt=()=>{$(!0)},Nt=Rt=>{O(Rt),$(!1),at(!0)},At=Rt=>{const jt=Math.random()*400+200,se=Math.random()*300+200,Vt={...Rt,position:{x:jt,y:se}};B(Vt),at(!1),O(null)},zt=()=>{$(!1),at(!1),O(null)};if(d||m||T||!D||!w)return b.jsx("div",{className:"flex items-center justify-center h-screen",children:b.jsx("div",{className:"text-lg",children:"Cargando aplicacin..."})});const qt=Rt=>{C(Rt.id,Rt)};return b.jsxs("div",{className:"relative",children:[b.jsx(lm,{currentFloor:D,currentZone:w,onFloorChange:J,onAddDevice:rt,floors:M,addFloor:S,updateFloor:v,deleteFloor:z,addZone:H,updateZone:V,deleteZone:N,children:b.jsx(_3,{devices:P,roomObjects:nt,floorId:D,zoneId:w,floors:M,onStartDrag:U,onAddRoomObject:x,onUpdateRoomObject:y,onDeleteObject:it,onUpdateDevice:qt,dragState:h,onZoomPanChange:({zoom:Rt,pan:jt})=>{Z(Rt),X(jt)}})}),h.isDragging&&b.jsx("div",{className:"fixed pointer-events-none z-50",style:{left:h.currentPos.x-20,top:h.currentPos.y-20,transform:"scale(1.1)",opacity:.9},children:b.jsx("div",{className:`w-10 h-10 rounded-lg border-2 border-white shadow-lg flex items-center justify-center ${pt(h.dragObject)?"bg-purple-500":"bg-blue-500"}`,children:b.jsx(C3,{className:"w-5 h-5 text-white"})})}),F&&b.jsx(E3,{onSelectType:Nt,onCancel:zt}),st&&tt&&b.jsx(N3,{deviceType:tt,currentFloor:D,currentZone:w,onSave:At,onCancel:zt})]})}y5.createRoot(document.getElementById("root")).render(b.jsx(_t.StrictMode,{children:b.jsx(em,{children:b.jsx(T3,{})})}));
